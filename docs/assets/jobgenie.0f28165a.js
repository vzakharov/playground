var sy=Object.defineProperty;var oy=(n,r,i)=>r in n?sy(n,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[r]=i;var B=(n,r,i)=>(oy(n,typeof r!="symbol"?r+"":r,i),i);import{d as on,c as Gt,l as ce,z as Si,A as Nt,B as M,k as te,v as bc,t as bn,_ as gn,r as rn,C as Cr,D as Zi,E as _r,F as Ci,G as $t,H as Va,I as Ei,J as Qi,K as dt,L as Er,M as Zn,N as uy,m as z,O as Mn,P as Pn,q as xn,Q as Ac,x as Qo,y as eu,R as ly,o as ay,s as cy,S as fy}from"./entry.951f18c2.js";var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ii={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ii.exports;(function(n,r){(function(){var i,o="4.17.21",u=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",d="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",b=500,A="__lodash_placeholder__",w=1,R=2,T=4,O=1,q=2,N=1,Y=2,D=4,Se=8,Re=16,Je=32,Nn=64,An=128,Yt=256,fs=512,ch=30,fh="...",hh=800,ph=16,_u=1,dh=2,gh=3,tt=1/0,$n=9007199254740991,mh=17976931348623157e292,Rr=0/0,mn=4294967295,_h=mn-1,vh=mn>>>1,yh=[["ary",An],["bind",N],["bindKey",Y],["curry",Se],["curryRight",Re],["flip",fs],["partial",Je],["partialRight",Nn],["rearg",Yt]],gt="[object Arguments]",Tr="[object Array]",xh="[object AsyncFunction]",Kt="[object Boolean]",jt="[object Date]",wh="[object DOMException]",Lr="[object Error]",kr="[object Function]",vu="[object GeneratorFunction]",un="[object Map]",Jt="[object Number]",bh="[object Null]",Sn="[object Object]",yu="[object Promise]",Ah="[object Proxy]",Vt="[object RegExp]",ln="[object Set]",zt="[object String]",Or="[object Symbol]",Sh="[object Undefined]",Xt="[object WeakMap]",Ch="[object WeakSet]",Zt="[object ArrayBuffer]",mt="[object DataView]",hs="[object Float32Array]",ps="[object Float64Array]",ds="[object Int8Array]",gs="[object Int16Array]",ms="[object Int32Array]",_s="[object Uint8Array]",vs="[object Uint8ClampedArray]",ys="[object Uint16Array]",xs="[object Uint32Array]",Eh=/\b__p \+= '';/g,Ih=/\b(__p \+=) '' \+/g,Rh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xu=/&(?:amp|lt|gt|quot|#39);/g,wu=/[&<>"']/g,Th=RegExp(xu.source),Lh=RegExp(wu.source),kh=/<%-([\s\S]+?)%>/g,Oh=/<%([\s\S]+?)%>/g,bu=/<%=([\s\S]+?)%>/g,Fh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mh=/^\w*$/,Ph=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ws=/[\\^$.*+?()[\]{}|]/g,Bh=RegExp(ws.source),bs=/^\s+/,Nh=/\s/,$h=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dh=/\{\n\/\* \[wrapped with (.+)\] \*/,Uh=/,? & /,Wh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hh=/[()=,{}\[\]\/\s]/,qh=/\\(\\)?/g,Gh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Au=/\w*$/,Yh=/^[-+]0x[0-9a-f]+$/i,Kh=/^0b[01]+$/i,jh=/^\[object .+?Constructor\]$/,Jh=/^0o[0-7]+$/i,Vh=/^(?:0|[1-9]\d*)$/,zh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fr=/($^)/,Xh=/['\n\r\u2028\u2029\\]/g,Mr="\\ud800-\\udfff",Zh="\\u0300-\\u036f",Qh="\\ufe20-\\ufe2f",ep="\\u20d0-\\u20ff",Su=Zh+Qh+ep,Cu="\\u2700-\\u27bf",Eu="a-z\\xdf-\\xf6\\xf8-\\xff",np="\\xac\\xb1\\xd7\\xf7",tp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rp="\\u2000-\\u206f",ip=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Iu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ru="\\ufe0e\\ufe0f",Tu=np+tp+rp+ip,As="['’]",sp="["+Mr+"]",Lu="["+Tu+"]",Pr="["+Su+"]",ku="\\d+",op="["+Cu+"]",Ou="["+Eu+"]",Fu="[^"+Mr+Tu+ku+Cu+Eu+Iu+"]",Ss="\\ud83c[\\udffb-\\udfff]",up="(?:"+Pr+"|"+Ss+")",Mu="[^"+Mr+"]",Cs="(?:\\ud83c[\\udde6-\\uddff]){2}",Es="[\\ud800-\\udbff][\\udc00-\\udfff]",_t="["+Iu+"]",Pu="\\u200d",Bu="(?:"+Ou+"|"+Fu+")",lp="(?:"+_t+"|"+Fu+")",Nu="(?:"+As+"(?:d|ll|m|re|s|t|ve))?",$u="(?:"+As+"(?:D|LL|M|RE|S|T|VE))?",Du=up+"?",Uu="["+Ru+"]?",ap="(?:"+Pu+"(?:"+[Mu,Cs,Es].join("|")+")"+Uu+Du+")*",cp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wu=Uu+Du+ap,hp="(?:"+[op,Cs,Es].join("|")+")"+Wu,pp="(?:"+[Mu+Pr+"?",Pr,Cs,Es,sp].join("|")+")",dp=RegExp(As,"g"),gp=RegExp(Pr,"g"),Is=RegExp(Ss+"(?="+Ss+")|"+pp+Wu,"g"),mp=RegExp([_t+"?"+Ou+"+"+Nu+"(?="+[Lu,_t,"$"].join("|")+")",lp+"+"+$u+"(?="+[Lu,_t+Bu,"$"].join("|")+")",_t+"?"+Bu+"+"+Nu,_t+"+"+$u,fp,cp,ku,hp].join("|"),"g"),_p=RegExp("["+Pu+Mr+Su+Ru+"]"),vp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xp=-1,le={};le[hs]=le[ps]=le[ds]=le[gs]=le[ms]=le[_s]=le[vs]=le[ys]=le[xs]=!0,le[gt]=le[Tr]=le[Zt]=le[Kt]=le[mt]=le[jt]=le[Lr]=le[kr]=le[un]=le[Jt]=le[Sn]=le[Vt]=le[ln]=le[zt]=le[Xt]=!1;var ue={};ue[gt]=ue[Tr]=ue[Zt]=ue[mt]=ue[Kt]=ue[jt]=ue[hs]=ue[ps]=ue[ds]=ue[gs]=ue[ms]=ue[un]=ue[Jt]=ue[Sn]=ue[Vt]=ue[ln]=ue[zt]=ue[Or]=ue[_s]=ue[vs]=ue[ys]=ue[xs]=!0,ue[Lr]=ue[kr]=ue[Xt]=!1;var wp={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},bp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ap={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cp=parseFloat,Ep=parseInt,Hu=typeof dr=="object"&&dr&&dr.Object===Object&&dr,Ip=typeof self=="object"&&self&&self.Object===Object&&self,xe=Hu||Ip||Function("return this")(),Rs=r&&!r.nodeType&&r,rt=Rs&&!0&&n&&!n.nodeType&&n,qu=rt&&rt.exports===Rs,Ts=qu&&Hu.process,Ve=function(){try{var v=rt&&rt.require&&rt.require("util").types;return v||Ts&&Ts.binding&&Ts.binding("util")}catch{}}(),Gu=Ve&&Ve.isArrayBuffer,Yu=Ve&&Ve.isDate,Ku=Ve&&Ve.isMap,ju=Ve&&Ve.isRegExp,Ju=Ve&&Ve.isSet,Vu=Ve&&Ve.isTypedArray;function We(v,S,x){switch(x.length){case 0:return v.call(S);case 1:return v.call(S,x[0]);case 2:return v.call(S,x[0],x[1]);case 3:return v.call(S,x[0],x[1],x[2])}return v.apply(S,x)}function Rp(v,S,x,F){for(var G=-1,re=v==null?0:v.length;++G<re;){var me=v[G];S(F,me,x(me),v)}return F}function ze(v,S){for(var x=-1,F=v==null?0:v.length;++x<F&&S(v[x],x,v)!==!1;);return v}function Tp(v,S){for(var x=v==null?0:v.length;x--&&S(v[x],x,v)!==!1;);return v}function zu(v,S){for(var x=-1,F=v==null?0:v.length;++x<F;)if(!S(v[x],x,v))return!1;return!0}function Dn(v,S){for(var x=-1,F=v==null?0:v.length,G=0,re=[];++x<F;){var me=v[x];S(me,x,v)&&(re[G++]=me)}return re}function Br(v,S){var x=v==null?0:v.length;return!!x&&vt(v,S,0)>-1}function Ls(v,S,x){for(var F=-1,G=v==null?0:v.length;++F<G;)if(x(S,v[F]))return!0;return!1}function ae(v,S){for(var x=-1,F=v==null?0:v.length,G=Array(F);++x<F;)G[x]=S(v[x],x,v);return G}function Un(v,S){for(var x=-1,F=S.length,G=v.length;++x<F;)v[G+x]=S[x];return v}function ks(v,S,x,F){var G=-1,re=v==null?0:v.length;for(F&&re&&(x=v[++G]);++G<re;)x=S(x,v[G],G,v);return x}function Lp(v,S,x,F){var G=v==null?0:v.length;for(F&&G&&(x=v[--G]);G--;)x=S(x,v[G],G,v);return x}function Os(v,S){for(var x=-1,F=v==null?0:v.length;++x<F;)if(S(v[x],x,v))return!0;return!1}var kp=Fs("length");function Op(v){return v.split("")}function Fp(v){return v.match(Wh)||[]}function Xu(v,S,x){var F;return x(v,function(G,re,me){if(S(G,re,me))return F=re,!1}),F}function Nr(v,S,x,F){for(var G=v.length,re=x+(F?1:-1);F?re--:++re<G;)if(S(v[re],re,v))return re;return-1}function vt(v,S,x){return S===S?Yp(v,S,x):Nr(v,Zu,x)}function Mp(v,S,x,F){for(var G=x-1,re=v.length;++G<re;)if(F(v[G],S))return G;return-1}function Zu(v){return v!==v}function Qu(v,S){var x=v==null?0:v.length;return x?Ps(v,S)/x:Rr}function Fs(v){return function(S){return S==null?i:S[v]}}function Ms(v){return function(S){return v==null?i:v[S]}}function el(v,S,x,F,G){return G(v,function(re,me,oe){x=F?(F=!1,re):S(x,re,me,oe)}),x}function Pp(v,S){var x=v.length;for(v.sort(S);x--;)v[x]=v[x].value;return v}function Ps(v,S){for(var x,F=-1,G=v.length;++F<G;){var re=S(v[F]);re!==i&&(x=x===i?re:x+re)}return x}function Bs(v,S){for(var x=-1,F=Array(v);++x<v;)F[x]=S(x);return F}function Bp(v,S){return ae(S,function(x){return[x,v[x]]})}function nl(v){return v&&v.slice(0,sl(v)+1).replace(bs,"")}function He(v){return function(S){return v(S)}}function Ns(v,S){return ae(S,function(x){return v[x]})}function Qt(v,S){return v.has(S)}function tl(v,S){for(var x=-1,F=v.length;++x<F&&vt(S,v[x],0)>-1;);return x}function rl(v,S){for(var x=v.length;x--&&vt(S,v[x],0)>-1;);return x}function Np(v,S){for(var x=v.length,F=0;x--;)v[x]===S&&++F;return F}var $p=Ms(wp),Dp=Ms(bp);function Up(v){return"\\"+Sp[v]}function Wp(v,S){return v==null?i:v[S]}function yt(v){return _p.test(v)}function Hp(v){return vp.test(v)}function qp(v){for(var S,x=[];!(S=v.next()).done;)x.push(S.value);return x}function $s(v){var S=-1,x=Array(v.size);return v.forEach(function(F,G){x[++S]=[G,F]}),x}function il(v,S){return function(x){return v(S(x))}}function Wn(v,S){for(var x=-1,F=v.length,G=0,re=[];++x<F;){var me=v[x];(me===S||me===A)&&(v[x]=A,re[G++]=x)}return re}function $r(v){var S=-1,x=Array(v.size);return v.forEach(function(F){x[++S]=F}),x}function Gp(v){var S=-1,x=Array(v.size);return v.forEach(function(F){x[++S]=[F,F]}),x}function Yp(v,S,x){for(var F=x-1,G=v.length;++F<G;)if(v[F]===S)return F;return-1}function Kp(v,S,x){for(var F=x+1;F--;)if(v[F]===S)return F;return F}function xt(v){return yt(v)?Jp(v):kp(v)}function an(v){return yt(v)?Vp(v):Op(v)}function sl(v){for(var S=v.length;S--&&Nh.test(v.charAt(S)););return S}var jp=Ms(Ap);function Jp(v){for(var S=Is.lastIndex=0;Is.test(v);)++S;return S}function Vp(v){return v.match(Is)||[]}function zp(v){return v.match(mp)||[]}var Xp=function v(S){S=S==null?xe:wt.defaults(xe.Object(),S,wt.pick(xe,yp));var x=S.Array,F=S.Date,G=S.Error,re=S.Function,me=S.Math,oe=S.Object,Ds=S.RegExp,Zp=S.String,Xe=S.TypeError,Dr=x.prototype,Qp=re.prototype,bt=oe.prototype,Ur=S["__core-js_shared__"],Wr=Qp.toString,se=bt.hasOwnProperty,ed=0,ol=function(){var e=/[^.]+$/.exec(Ur&&Ur.keys&&Ur.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Hr=bt.toString,nd=Wr.call(oe),td=xe._,rd=Ds("^"+Wr.call(se).replace(ws,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qr=qu?S.Buffer:i,Hn=S.Symbol,Gr=S.Uint8Array,ul=qr?qr.allocUnsafe:i,Yr=il(oe.getPrototypeOf,oe),ll=oe.create,al=bt.propertyIsEnumerable,Kr=Dr.splice,cl=Hn?Hn.isConcatSpreadable:i,er=Hn?Hn.iterator:i,it=Hn?Hn.toStringTag:i,jr=function(){try{var e=at(oe,"defineProperty");return e({},"",{}),e}catch{}}(),id=S.clearTimeout!==xe.clearTimeout&&S.clearTimeout,sd=F&&F.now!==xe.Date.now&&F.now,od=S.setTimeout!==xe.setTimeout&&S.setTimeout,Jr=me.ceil,Vr=me.floor,Us=oe.getOwnPropertySymbols,ud=qr?qr.isBuffer:i,fl=S.isFinite,ld=Dr.join,ad=il(oe.keys,oe),_e=me.max,Ce=me.min,cd=F.now,fd=S.parseInt,hl=me.random,hd=Dr.reverse,Ws=at(S,"DataView"),nr=at(S,"Map"),Hs=at(S,"Promise"),At=at(S,"Set"),tr=at(S,"WeakMap"),rr=at(oe,"create"),zr=tr&&new tr,St={},pd=ct(Ws),dd=ct(nr),gd=ct(Hs),md=ct(At),_d=ct(tr),Xr=Hn?Hn.prototype:i,ir=Xr?Xr.valueOf:i,pl=Xr?Xr.toString:i;function h(e){if(he(e)&&!K(e)&&!(e instanceof Q)){if(e instanceof Ze)return e;if(se.call(e,"__wrapped__"))return da(e)}return new Ze(e)}var Ct=function(){function e(){}return function(t){if(!fe(t))return{};if(ll)return ll(t);e.prototype=t;var s=new e;return e.prototype=i,s}}();function Zr(){}function Ze(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}h.templateSettings={escape:kh,evaluate:Oh,interpolate:bu,variable:"",imports:{_:h}},h.prototype=Zr.prototype,h.prototype.constructor=h,Ze.prototype=Ct(Zr.prototype),Ze.prototype.constructor=Ze;function Q(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=mn,this.__views__=[]}function vd(){var e=new Q(this.__wrapped__);return e.__actions__=Pe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pe(this.__views__),e}function yd(){if(this.__filtered__){var e=new Q(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function xd(){var e=this.__wrapped__.value(),t=this.__dir__,s=K(e),l=t<0,c=s?e.length:0,p=Og(0,c,this.__views__),g=p.start,_=p.end,y=_-g,C=l?_:g-1,E=this.__iteratees__,I=E.length,k=0,P=Ce(y,this.__takeCount__);if(!s||!l&&c==y&&P==y)return Nl(e,this.__actions__);var W=[];e:for(;y--&&k<P;){C+=t;for(var V=-1,H=e[C];++V<I;){var Z=E[V],ee=Z.iteratee,Ye=Z.type,ke=ee(H);if(Ye==dh)H=ke;else if(!ke){if(Ye==_u)continue e;break e}}W[k++]=H}return W}Q.prototype=Ct(Zr.prototype),Q.prototype.constructor=Q;function st(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function wd(){this.__data__=rr?rr(null):{},this.size=0}function bd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ad(e){var t=this.__data__;if(rr){var s=t[e];return s===m?i:s}return se.call(t,e)?t[e]:i}function Sd(e){var t=this.__data__;return rr?t[e]!==i:se.call(t,e)}function Cd(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=rr&&t===i?m:t,this}st.prototype.clear=wd,st.prototype.delete=bd,st.prototype.get=Ad,st.prototype.has=Sd,st.prototype.set=Cd;function Cn(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function Ed(){this.__data__=[],this.size=0}function Id(e){var t=this.__data__,s=Qr(t,e);if(s<0)return!1;var l=t.length-1;return s==l?t.pop():Kr.call(t,s,1),--this.size,!0}function Rd(e){var t=this.__data__,s=Qr(t,e);return s<0?i:t[s][1]}function Td(e){return Qr(this.__data__,e)>-1}function Ld(e,t){var s=this.__data__,l=Qr(s,e);return l<0?(++this.size,s.push([e,t])):s[l][1]=t,this}Cn.prototype.clear=Ed,Cn.prototype.delete=Id,Cn.prototype.get=Rd,Cn.prototype.has=Td,Cn.prototype.set=Ld;function En(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function kd(){this.size=0,this.__data__={hash:new st,map:new(nr||Cn),string:new st}}function Od(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t}function Fd(e){return fi(this,e).get(e)}function Md(e){return fi(this,e).has(e)}function Pd(e,t){var s=fi(this,e),l=s.size;return s.set(e,t),this.size+=s.size==l?0:1,this}En.prototype.clear=kd,En.prototype.delete=Od,En.prototype.get=Fd,En.prototype.has=Md,En.prototype.set=Pd;function ot(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new En;++t<s;)this.add(e[t])}function Bd(e){return this.__data__.set(e,m),this}function Nd(e){return this.__data__.has(e)}ot.prototype.add=ot.prototype.push=Bd,ot.prototype.has=Nd;function cn(e){var t=this.__data__=new Cn(e);this.size=t.size}function $d(){this.__data__=new Cn,this.size=0}function Dd(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function Ud(e){return this.__data__.get(e)}function Wd(e){return this.__data__.has(e)}function Hd(e,t){var s=this.__data__;if(s instanceof Cn){var l=s.__data__;if(!nr||l.length<u-1)return l.push([e,t]),this.size=++s.size,this;s=this.__data__=new En(l)}return s.set(e,t),this.size=s.size,this}cn.prototype.clear=$d,cn.prototype.delete=Dd,cn.prototype.get=Ud,cn.prototype.has=Wd,cn.prototype.set=Hd;function dl(e,t){var s=K(e),l=!s&&ft(e),c=!s&&!l&&jn(e),p=!s&&!l&&!c&&Tt(e),g=s||l||c||p,_=g?Bs(e.length,Zp):[],y=_.length;for(var C in e)(t||se.call(e,C))&&!(g&&(C=="length"||c&&(C=="offset"||C=="parent")||p&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||Ln(C,y)))&&_.push(C);return _}function gl(e){var t=e.length;return t?e[Qs(0,t-1)]:i}function qd(e,t){return hi(Pe(e),ut(t,0,e.length))}function Gd(e){return hi(Pe(e))}function qs(e,t,s){(s!==i&&!fn(e[t],s)||s===i&&!(t in e))&&In(e,t,s)}function sr(e,t,s){var l=e[t];(!(se.call(e,t)&&fn(l,s))||s===i&&!(t in e))&&In(e,t,s)}function Qr(e,t){for(var s=e.length;s--;)if(fn(e[s][0],t))return s;return-1}function Yd(e,t,s,l){return qn(e,function(c,p,g){t(l,c,s(c),g)}),l}function ml(e,t){return e&&vn(t,ye(t),e)}function Kd(e,t){return e&&vn(t,Ne(t),e)}function In(e,t,s){t=="__proto__"&&jr?jr(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Gs(e,t){for(var s=-1,l=t.length,c=x(l),p=e==null;++s<l;)c[s]=p?i:Co(e,t[s]);return c}function ut(e,t,s){return e===e&&(s!==i&&(e=e<=s?e:s),t!==i&&(e=e>=t?e:t)),e}function Qe(e,t,s,l,c,p){var g,_=t&w,y=t&R,C=t&T;if(s&&(g=c?s(e,l,c,p):s(e)),g!==i)return g;if(!fe(e))return e;var E=K(e);if(E){if(g=Mg(e),!_)return Pe(e,g)}else{var I=Ee(e),k=I==kr||I==vu;if(jn(e))return Ul(e,_);if(I==Sn||I==gt||k&&!c){if(g=y||k?{}:sa(e),!_)return y?Ag(e,Kd(g,e)):bg(e,ml(g,e))}else{if(!ue[I])return c?e:{};g=Pg(e,I,_)}}p||(p=new cn);var P=p.get(e);if(P)return P;p.set(e,g),Ma(e)?e.forEach(function(H){g.add(Qe(H,t,s,H,e,p))}):Oa(e)&&e.forEach(function(H,Z){g.set(Z,Qe(H,t,s,Z,e,p))});var W=C?y?co:ao:y?Ne:ye,V=E?i:W(e);return ze(V||e,function(H,Z){V&&(Z=H,H=e[Z]),sr(g,Z,Qe(H,t,s,Z,e,p))}),g}function jd(e){var t=ye(e);return function(s){return _l(s,e,t)}}function _l(e,t,s){var l=s.length;if(e==null)return!l;for(e=oe(e);l--;){var c=s[l],p=t[c],g=e[c];if(g===i&&!(c in e)||!p(g))return!1}return!0}function vl(e,t,s){if(typeof e!="function")throw new Xe(f);return hr(function(){e.apply(i,s)},t)}function or(e,t,s,l){var c=-1,p=Br,g=!0,_=e.length,y=[],C=t.length;if(!_)return y;s&&(t=ae(t,He(s))),l?(p=Ls,g=!1):t.length>=u&&(p=Qt,g=!1,t=new ot(t));e:for(;++c<_;){var E=e[c],I=s==null?E:s(E);if(E=l||E!==0?E:0,g&&I===I){for(var k=C;k--;)if(t[k]===I)continue e;y.push(E)}else p(t,I,l)||y.push(E)}return y}var qn=Yl(_n),yl=Yl(Ks,!0);function Jd(e,t){var s=!0;return qn(e,function(l,c,p){return s=!!t(l,c,p),s}),s}function ei(e,t,s){for(var l=-1,c=e.length;++l<c;){var p=e[l],g=t(p);if(g!=null&&(_===i?g===g&&!Ge(g):s(g,_)))var _=g,y=p}return y}function Vd(e,t,s,l){var c=e.length;for(s=J(s),s<0&&(s=-s>c?0:c+s),l=l===i||l>c?c:J(l),l<0&&(l+=c),l=s>l?0:Ba(l);s<l;)e[s++]=t;return e}function xl(e,t){var s=[];return qn(e,function(l,c,p){t(l,c,p)&&s.push(l)}),s}function we(e,t,s,l,c){var p=-1,g=e.length;for(s||(s=Ng),c||(c=[]);++p<g;){var _=e[p];t>0&&s(_)?t>1?we(_,t-1,s,l,c):Un(c,_):l||(c[c.length]=_)}return c}var Ys=Kl(),wl=Kl(!0);function _n(e,t){return e&&Ys(e,t,ye)}function Ks(e,t){return e&&wl(e,t,ye)}function ni(e,t){return Dn(t,function(s){return kn(e[s])})}function lt(e,t){t=Yn(t,e);for(var s=0,l=t.length;e!=null&&s<l;)e=e[yn(t[s++])];return s&&s==l?e:i}function bl(e,t,s){var l=t(e);return K(e)?l:Un(l,s(e))}function Te(e){return e==null?e===i?Sh:bh:it&&it in oe(e)?kg(e):Gg(e)}function js(e,t){return e>t}function zd(e,t){return e!=null&&se.call(e,t)}function Xd(e,t){return e!=null&&t in oe(e)}function Zd(e,t,s){return e>=Ce(t,s)&&e<_e(t,s)}function Js(e,t,s){for(var l=s?Ls:Br,c=e[0].length,p=e.length,g=p,_=x(p),y=1/0,C=[];g--;){var E=e[g];g&&t&&(E=ae(E,He(t))),y=Ce(E.length,y),_[g]=!s&&(t||c>=120&&E.length>=120)?new ot(g&&E):i}E=e[0];var I=-1,k=_[0];e:for(;++I<c&&C.length<y;){var P=E[I],W=t?t(P):P;if(P=s||P!==0?P:0,!(k?Qt(k,W):l(C,W,s))){for(g=p;--g;){var V=_[g];if(!(V?Qt(V,W):l(e[g],W,s)))continue e}k&&k.push(W),C.push(P)}}return C}function Qd(e,t,s,l){return _n(e,function(c,p,g){t(l,s(c),p,g)}),l}function ur(e,t,s){t=Yn(t,e),e=aa(e,t);var l=e==null?e:e[yn(nn(t))];return l==null?i:We(l,e,s)}function Al(e){return he(e)&&Te(e)==gt}function eg(e){return he(e)&&Te(e)==Zt}function ng(e){return he(e)&&Te(e)==jt}function lr(e,t,s,l,c){return e===t?!0:e==null||t==null||!he(e)&&!he(t)?e!==e&&t!==t:tg(e,t,s,l,lr,c)}function tg(e,t,s,l,c,p){var g=K(e),_=K(t),y=g?Tr:Ee(e),C=_?Tr:Ee(t);y=y==gt?Sn:y,C=C==gt?Sn:C;var E=y==Sn,I=C==Sn,k=y==C;if(k&&jn(e)){if(!jn(t))return!1;g=!0,E=!1}if(k&&!E)return p||(p=new cn),g||Tt(e)?ta(e,t,s,l,c,p):Tg(e,t,y,s,l,c,p);if(!(s&O)){var P=E&&se.call(e,"__wrapped__"),W=I&&se.call(t,"__wrapped__");if(P||W){var V=P?e.value():e,H=W?t.value():t;return p||(p=new cn),c(V,H,s,l,p)}}return k?(p||(p=new cn),Lg(e,t,s,l,c,p)):!1}function rg(e){return he(e)&&Ee(e)==un}function Vs(e,t,s,l){var c=s.length,p=c,g=!l;if(e==null)return!p;for(e=oe(e);c--;){var _=s[c];if(g&&_[2]?_[1]!==e[_[0]]:!(_[0]in e))return!1}for(;++c<p;){_=s[c];var y=_[0],C=e[y],E=_[1];if(g&&_[2]){if(C===i&&!(y in e))return!1}else{var I=new cn;if(l)var k=l(C,E,y,e,t,I);if(!(k===i?lr(E,C,O|q,l,I):k))return!1}}return!0}function Sl(e){if(!fe(e)||Dg(e))return!1;var t=kn(e)?rd:jh;return t.test(ct(e))}function ig(e){return he(e)&&Te(e)==Vt}function sg(e){return he(e)&&Ee(e)==ln}function og(e){return he(e)&&vi(e.length)&&!!le[Te(e)]}function Cl(e){return typeof e=="function"?e:e==null?$e:typeof e=="object"?K(e)?Rl(e[0],e[1]):Il(e):ja(e)}function zs(e){if(!fr(e))return ad(e);var t=[];for(var s in oe(e))se.call(e,s)&&s!="constructor"&&t.push(s);return t}function ug(e){if(!fe(e))return qg(e);var t=fr(e),s=[];for(var l in e)l=="constructor"&&(t||!se.call(e,l))||s.push(l);return s}function Xs(e,t){return e<t}function El(e,t){var s=-1,l=Be(e)?x(e.length):[];return qn(e,function(c,p,g){l[++s]=t(c,p,g)}),l}function Il(e){var t=ho(e);return t.length==1&&t[0][2]?ua(t[0][0],t[0][1]):function(s){return s===e||Vs(s,e,t)}}function Rl(e,t){return go(e)&&oa(t)?ua(yn(e),t):function(s){var l=Co(s,e);return l===i&&l===t?Eo(s,e):lr(t,l,O|q)}}function ti(e,t,s,l,c){e!==t&&Ys(t,function(p,g){if(c||(c=new cn),fe(p))lg(e,t,g,s,ti,l,c);else{var _=l?l(_o(e,g),p,g+"",e,t,c):i;_===i&&(_=p),qs(e,g,_)}},Ne)}function lg(e,t,s,l,c,p,g){var _=_o(e,s),y=_o(t,s),C=g.get(y);if(C){qs(e,s,C);return}var E=p?p(_,y,s+"",e,t,g):i,I=E===i;if(I){var k=K(y),P=!k&&jn(y),W=!k&&!P&&Tt(y);E=y,k||P||W?K(_)?E=_:pe(_)?E=Pe(_):P?(I=!1,E=Ul(y,!0)):W?(I=!1,E=Wl(y,!0)):E=[]:pr(y)||ft(y)?(E=_,ft(_)?E=Na(_):(!fe(_)||kn(_))&&(E=sa(y))):I=!1}I&&(g.set(y,E),c(E,y,l,p,g),g.delete(y)),qs(e,s,E)}function Tl(e,t){var s=e.length;if(s)return t+=t<0?s:0,Ln(t,s)?e[t]:i}function Ll(e,t,s){t.length?t=ae(t,function(p){return K(p)?function(g){return lt(g,p.length===1?p[0]:p)}:p}):t=[$e];var l=-1;t=ae(t,He(U()));var c=El(e,function(p,g,_){var y=ae(t,function(C){return C(p)});return{criteria:y,index:++l,value:p}});return Pp(c,function(p,g){return wg(p,g,s)})}function ag(e,t){return kl(e,t,function(s,l){return Eo(e,l)})}function kl(e,t,s){for(var l=-1,c=t.length,p={};++l<c;){var g=t[l],_=lt(e,g);s(_,g)&&ar(p,Yn(g,e),_)}return p}function cg(e){return function(t){return lt(t,e)}}function Zs(e,t,s,l){var c=l?Mp:vt,p=-1,g=t.length,_=e;for(e===t&&(t=Pe(t)),s&&(_=ae(e,He(s)));++p<g;)for(var y=0,C=t[p],E=s?s(C):C;(y=c(_,E,y,l))>-1;)_!==e&&Kr.call(_,y,1),Kr.call(e,y,1);return e}function Ol(e,t){for(var s=e?t.length:0,l=s-1;s--;){var c=t[s];if(s==l||c!==p){var p=c;Ln(c)?Kr.call(e,c,1):to(e,c)}}return e}function Qs(e,t){return e+Vr(hl()*(t-e+1))}function fg(e,t,s,l){for(var c=-1,p=_e(Jr((t-e)/(s||1)),0),g=x(p);p--;)g[l?p:++c]=e,e+=s;return g}function eo(e,t){var s="";if(!e||t<1||t>$n)return s;do t%2&&(s+=e),t=Vr(t/2),t&&(e+=e);while(t);return s}function X(e,t){return vo(la(e,t,$e),e+"")}function hg(e){return gl(Lt(e))}function pg(e,t){var s=Lt(e);return hi(s,ut(t,0,s.length))}function ar(e,t,s,l){if(!fe(e))return e;t=Yn(t,e);for(var c=-1,p=t.length,g=p-1,_=e;_!=null&&++c<p;){var y=yn(t[c]),C=s;if(y==="__proto__"||y==="constructor"||y==="prototype")return e;if(c!=g){var E=_[y];C=l?l(E,y,_):i,C===i&&(C=fe(E)?E:Ln(t[c+1])?[]:{})}sr(_,y,C),_=_[y]}return e}var Fl=zr?function(e,t){return zr.set(e,t),e}:$e,dg=jr?function(e,t){return jr(e,"toString",{configurable:!0,enumerable:!1,value:Ro(t),writable:!0})}:$e;function gg(e){return hi(Lt(e))}function en(e,t,s){var l=-1,c=e.length;t<0&&(t=-t>c?0:c+t),s=s>c?c:s,s<0&&(s+=c),c=t>s?0:s-t>>>0,t>>>=0;for(var p=x(c);++l<c;)p[l]=e[l+t];return p}function mg(e,t){var s;return qn(e,function(l,c,p){return s=t(l,c,p),!s}),!!s}function ri(e,t,s){var l=0,c=e==null?l:e.length;if(typeof t=="number"&&t===t&&c<=vh){for(;l<c;){var p=l+c>>>1,g=e[p];g!==null&&!Ge(g)&&(s?g<=t:g<t)?l=p+1:c=p}return c}return no(e,t,$e,s)}function no(e,t,s,l){var c=0,p=e==null?0:e.length;if(p===0)return 0;t=s(t);for(var g=t!==t,_=t===null,y=Ge(t),C=t===i;c<p;){var E=Vr((c+p)/2),I=s(e[E]),k=I!==i,P=I===null,W=I===I,V=Ge(I);if(g)var H=l||W;else C?H=W&&(l||k):_?H=W&&k&&(l||!P):y?H=W&&k&&!P&&(l||!V):P||V?H=!1:H=l?I<=t:I<t;H?c=E+1:p=E}return Ce(p,_h)}function Ml(e,t){for(var s=-1,l=e.length,c=0,p=[];++s<l;){var g=e[s],_=t?t(g):g;if(!s||!fn(_,y)){var y=_;p[c++]=g===0?0:g}}return p}function Pl(e){return typeof e=="number"?e:Ge(e)?Rr:+e}function qe(e){if(typeof e=="string")return e;if(K(e))return ae(e,qe)+"";if(Ge(e))return pl?pl.call(e):"";var t=e+"";return t=="0"&&1/e==-tt?"-0":t}function Gn(e,t,s){var l=-1,c=Br,p=e.length,g=!0,_=[],y=_;if(s)g=!1,c=Ls;else if(p>=u){var C=t?null:Ig(e);if(C)return $r(C);g=!1,c=Qt,y=new ot}else y=t?[]:_;e:for(;++l<p;){var E=e[l],I=t?t(E):E;if(E=s||E!==0?E:0,g&&I===I){for(var k=y.length;k--;)if(y[k]===I)continue e;t&&y.push(I),_.push(E)}else c(y,I,s)||(y!==_&&y.push(I),_.push(E))}return _}function to(e,t){return t=Yn(t,e),e=aa(e,t),e==null||delete e[yn(nn(t))]}function Bl(e,t,s,l){return ar(e,t,s(lt(e,t)),l)}function ii(e,t,s,l){for(var c=e.length,p=l?c:-1;(l?p--:++p<c)&&t(e[p],p,e););return s?en(e,l?0:p,l?p+1:c):en(e,l?p+1:0,l?c:p)}function Nl(e,t){var s=e;return s instanceof Q&&(s=s.value()),ks(t,function(l,c){return c.func.apply(c.thisArg,Un([l],c.args))},s)}function ro(e,t,s){var l=e.length;if(l<2)return l?Gn(e[0]):[];for(var c=-1,p=x(l);++c<l;)for(var g=e[c],_=-1;++_<l;)_!=c&&(p[c]=or(p[c]||g,e[_],t,s));return Gn(we(p,1),t,s)}function $l(e,t,s){for(var l=-1,c=e.length,p=t.length,g={};++l<c;){var _=l<p?t[l]:i;s(g,e[l],_)}return g}function io(e){return pe(e)?e:[]}function so(e){return typeof e=="function"?e:$e}function Yn(e,t){return K(e)?e:go(e,t)?[e]:pa(ie(e))}var _g=X;function Kn(e,t,s){var l=e.length;return s=s===i?l:s,!t&&s>=l?e:en(e,t,s)}var Dl=id||function(e){return xe.clearTimeout(e)};function Ul(e,t){if(t)return e.slice();var s=e.length,l=ul?ul(s):new e.constructor(s);return e.copy(l),l}function oo(e){var t=new e.constructor(e.byteLength);return new Gr(t).set(new Gr(e)),t}function vg(e,t){var s=t?oo(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function yg(e){var t=new e.constructor(e.source,Au.exec(e));return t.lastIndex=e.lastIndex,t}function xg(e){return ir?oe(ir.call(e)):{}}function Wl(e,t){var s=t?oo(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function Hl(e,t){if(e!==t){var s=e!==i,l=e===null,c=e===e,p=Ge(e),g=t!==i,_=t===null,y=t===t,C=Ge(t);if(!_&&!C&&!p&&e>t||p&&g&&y&&!_&&!C||l&&g&&y||!s&&y||!c)return 1;if(!l&&!p&&!C&&e<t||C&&s&&c&&!l&&!p||_&&s&&c||!g&&c||!y)return-1}return 0}function wg(e,t,s){for(var l=-1,c=e.criteria,p=t.criteria,g=c.length,_=s.length;++l<g;){var y=Hl(c[l],p[l]);if(y){if(l>=_)return y;var C=s[l];return y*(C=="desc"?-1:1)}}return e.index-t.index}function ql(e,t,s,l){for(var c=-1,p=e.length,g=s.length,_=-1,y=t.length,C=_e(p-g,0),E=x(y+C),I=!l;++_<y;)E[_]=t[_];for(;++c<g;)(I||c<p)&&(E[s[c]]=e[c]);for(;C--;)E[_++]=e[c++];return E}function Gl(e,t,s,l){for(var c=-1,p=e.length,g=-1,_=s.length,y=-1,C=t.length,E=_e(p-_,0),I=x(E+C),k=!l;++c<E;)I[c]=e[c];for(var P=c;++y<C;)I[P+y]=t[y];for(;++g<_;)(k||c<p)&&(I[P+s[g]]=e[c++]);return I}function Pe(e,t){var s=-1,l=e.length;for(t||(t=x(l));++s<l;)t[s]=e[s];return t}function vn(e,t,s,l){var c=!s;s||(s={});for(var p=-1,g=t.length;++p<g;){var _=t[p],y=l?l(s[_],e[_],_,s,e):i;y===i&&(y=e[_]),c?In(s,_,y):sr(s,_,y)}return s}function bg(e,t){return vn(e,po(e),t)}function Ag(e,t){return vn(e,ra(e),t)}function si(e,t){return function(s,l){var c=K(s)?Rp:Yd,p=t?t():{};return c(s,e,U(l,2),p)}}function Et(e){return X(function(t,s){var l=-1,c=s.length,p=c>1?s[c-1]:i,g=c>2?s[2]:i;for(p=e.length>3&&typeof p=="function"?(c--,p):i,g&&Le(s[0],s[1],g)&&(p=c<3?i:p,c=1),t=oe(t);++l<c;){var _=s[l];_&&e(t,_,l,p)}return t})}function Yl(e,t){return function(s,l){if(s==null)return s;if(!Be(s))return e(s,l);for(var c=s.length,p=t?c:-1,g=oe(s);(t?p--:++p<c)&&l(g[p],p,g)!==!1;);return s}}function Kl(e){return function(t,s,l){for(var c=-1,p=oe(t),g=l(t),_=g.length;_--;){var y=g[e?_:++c];if(s(p[y],y,p)===!1)break}return t}}function Sg(e,t,s){var l=t&N,c=cr(e);function p(){var g=this&&this!==xe&&this instanceof p?c:e;return g.apply(l?s:this,arguments)}return p}function jl(e){return function(t){t=ie(t);var s=yt(t)?an(t):i,l=s?s[0]:t.charAt(0),c=s?Kn(s,1).join(""):t.slice(1);return l[e]()+c}}function It(e){return function(t){return ks(Ya(Ga(t).replace(dp,"")),e,"")}}function cr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=Ct(e.prototype),l=e.apply(s,t);return fe(l)?l:s}}function Cg(e,t,s){var l=cr(e);function c(){for(var p=arguments.length,g=x(p),_=p,y=Rt(c);_--;)g[_]=arguments[_];var C=p<3&&g[0]!==y&&g[p-1]!==y?[]:Wn(g,y);if(p-=C.length,p<s)return Zl(e,t,oi,c.placeholder,i,g,C,i,i,s-p);var E=this&&this!==xe&&this instanceof c?l:e;return We(E,this,g)}return c}function Jl(e){return function(t,s,l){var c=oe(t);if(!Be(t)){var p=U(s,3);t=ye(t),s=function(_){return p(c[_],_,c)}}var g=e(t,s,l);return g>-1?c[p?t[g]:g]:i}}function Vl(e){return Tn(function(t){var s=t.length,l=s,c=Ze.prototype.thru;for(e&&t.reverse();l--;){var p=t[l];if(typeof p!="function")throw new Xe(f);if(c&&!g&&ci(p)=="wrapper")var g=new Ze([],!0)}for(l=g?l:s;++l<s;){p=t[l];var _=ci(p),y=_=="wrapper"?fo(p):i;y&&mo(y[0])&&y[1]==(An|Se|Je|Yt)&&!y[4].length&&y[9]==1?g=g[ci(y[0])].apply(g,y[3]):g=p.length==1&&mo(p)?g[_]():g.thru(p)}return function(){var C=arguments,E=C[0];if(g&&C.length==1&&K(E))return g.plant(E).value();for(var I=0,k=s?t[I].apply(this,C):E;++I<s;)k=t[I].call(this,k);return k}})}function oi(e,t,s,l,c,p,g,_,y,C){var E=t&An,I=t&N,k=t&Y,P=t&(Se|Re),W=t&fs,V=k?i:cr(e);function H(){for(var Z=arguments.length,ee=x(Z),Ye=Z;Ye--;)ee[Ye]=arguments[Ye];if(P)var ke=Rt(H),Ke=Np(ee,ke);if(l&&(ee=ql(ee,l,c,P)),p&&(ee=Gl(ee,p,g,P)),Z-=Ke,P&&Z<C){var de=Wn(ee,ke);return Zl(e,t,oi,H.placeholder,s,ee,de,_,y,C-Z)}var hn=I?s:this,Fn=k?hn[e]:e;return Z=ee.length,_?ee=Yg(ee,_):W&&Z>1&&ee.reverse(),E&&y<Z&&(ee.length=y),this&&this!==xe&&this instanceof H&&(Fn=V||cr(Fn)),Fn.apply(hn,ee)}return H}function zl(e,t){return function(s,l){return Qd(s,e,t(l),{})}}function ui(e,t){return function(s,l){var c;if(s===i&&l===i)return t;if(s!==i&&(c=s),l!==i){if(c===i)return l;typeof s=="string"||typeof l=="string"?(s=qe(s),l=qe(l)):(s=Pl(s),l=Pl(l)),c=e(s,l)}return c}}function uo(e){return Tn(function(t){return t=ae(t,He(U())),X(function(s){var l=this;return e(t,function(c){return We(c,l,s)})})})}function li(e,t){t=t===i?" ":qe(t);var s=t.length;if(s<2)return s?eo(t,e):t;var l=eo(t,Jr(e/xt(t)));return yt(t)?Kn(an(l),0,e).join(""):l.slice(0,e)}function Eg(e,t,s,l){var c=t&N,p=cr(e);function g(){for(var _=-1,y=arguments.length,C=-1,E=l.length,I=x(E+y),k=this&&this!==xe&&this instanceof g?p:e;++C<E;)I[C]=l[C];for(;y--;)I[C++]=arguments[++_];return We(k,c?s:this,I)}return g}function Xl(e){return function(t,s,l){return l&&typeof l!="number"&&Le(t,s,l)&&(s=l=i),t=On(t),s===i?(s=t,t=0):s=On(s),l=l===i?t<s?1:-1:On(l),fg(t,s,l,e)}}function ai(e){return function(t,s){return typeof t=="string"&&typeof s=="string"||(t=tn(t),s=tn(s)),e(t,s)}}function Zl(e,t,s,l,c,p,g,_,y,C){var E=t&Se,I=E?g:i,k=E?i:g,P=E?p:i,W=E?i:p;t|=E?Je:Nn,t&=~(E?Nn:Je),t&D||(t&=~(N|Y));var V=[e,t,c,P,I,W,k,_,y,C],H=s.apply(i,V);return mo(e)&&ca(H,V),H.placeholder=l,fa(H,e,t)}function lo(e){var t=me[e];return function(s,l){if(s=tn(s),l=l==null?0:Ce(J(l),292),l&&fl(s)){var c=(ie(s)+"e").split("e"),p=t(c[0]+"e"+(+c[1]+l));return c=(ie(p)+"e").split("e"),+(c[0]+"e"+(+c[1]-l))}return t(s)}}var Ig=At&&1/$r(new At([,-0]))[1]==tt?function(e){return new At(e)}:ko;function Ql(e){return function(t){var s=Ee(t);return s==un?$s(t):s==ln?Gp(t):Bp(t,e(t))}}function Rn(e,t,s,l,c,p,g,_){var y=t&Y;if(!y&&typeof e!="function")throw new Xe(f);var C=l?l.length:0;if(C||(t&=~(Je|Nn),l=c=i),g=g===i?g:_e(J(g),0),_=_===i?_:J(_),C-=c?c.length:0,t&Nn){var E=l,I=c;l=c=i}var k=y?i:fo(e),P=[e,t,s,l,c,E,I,p,g,_];if(k&&Hg(P,k),e=P[0],t=P[1],s=P[2],l=P[3],c=P[4],_=P[9]=P[9]===i?y?0:e.length:_e(P[9]-C,0),!_&&t&(Se|Re)&&(t&=~(Se|Re)),!t||t==N)var W=Sg(e,t,s);else t==Se||t==Re?W=Cg(e,t,_):(t==Je||t==(N|Je))&&!c.length?W=Eg(e,t,s,l):W=oi.apply(i,P);var V=k?Fl:ca;return fa(V(W,P),e,t)}function ea(e,t,s,l){return e===i||fn(e,bt[s])&&!se.call(l,s)?t:e}function na(e,t,s,l,c,p){return fe(e)&&fe(t)&&(p.set(t,e),ti(e,t,i,na,p),p.delete(t)),e}function Rg(e){return pr(e)?i:e}function ta(e,t,s,l,c,p){var g=s&O,_=e.length,y=t.length;if(_!=y&&!(g&&y>_))return!1;var C=p.get(e),E=p.get(t);if(C&&E)return C==t&&E==e;var I=-1,k=!0,P=s&q?new ot:i;for(p.set(e,t),p.set(t,e);++I<_;){var W=e[I],V=t[I];if(l)var H=g?l(V,W,I,t,e,p):l(W,V,I,e,t,p);if(H!==i){if(H)continue;k=!1;break}if(P){if(!Os(t,function(Z,ee){if(!Qt(P,ee)&&(W===Z||c(W,Z,s,l,p)))return P.push(ee)})){k=!1;break}}else if(!(W===V||c(W,V,s,l,p))){k=!1;break}}return p.delete(e),p.delete(t),k}function Tg(e,t,s,l,c,p,g){switch(s){case mt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Zt:return!(e.byteLength!=t.byteLength||!p(new Gr(e),new Gr(t)));case Kt:case jt:case Jt:return fn(+e,+t);case Lr:return e.name==t.name&&e.message==t.message;case Vt:case zt:return e==t+"";case un:var _=$s;case ln:var y=l&O;if(_||(_=$r),e.size!=t.size&&!y)return!1;var C=g.get(e);if(C)return C==t;l|=q,g.set(e,t);var E=ta(_(e),_(t),l,c,p,g);return g.delete(e),E;case Or:if(ir)return ir.call(e)==ir.call(t)}return!1}function Lg(e,t,s,l,c,p){var g=s&O,_=ao(e),y=_.length,C=ao(t),E=C.length;if(y!=E&&!g)return!1;for(var I=y;I--;){var k=_[I];if(!(g?k in t:se.call(t,k)))return!1}var P=p.get(e),W=p.get(t);if(P&&W)return P==t&&W==e;var V=!0;p.set(e,t),p.set(t,e);for(var H=g;++I<y;){k=_[I];var Z=e[k],ee=t[k];if(l)var Ye=g?l(ee,Z,k,t,e,p):l(Z,ee,k,e,t,p);if(!(Ye===i?Z===ee||c(Z,ee,s,l,p):Ye)){V=!1;break}H||(H=k=="constructor")}if(V&&!H){var ke=e.constructor,Ke=t.constructor;ke!=Ke&&"constructor"in e&&"constructor"in t&&!(typeof ke=="function"&&ke instanceof ke&&typeof Ke=="function"&&Ke instanceof Ke)&&(V=!1)}return p.delete(e),p.delete(t),V}function Tn(e){return vo(la(e,i,_a),e+"")}function ao(e){return bl(e,ye,po)}function co(e){return bl(e,Ne,ra)}var fo=zr?function(e){return zr.get(e)}:ko;function ci(e){for(var t=e.name+"",s=St[t],l=se.call(St,t)?s.length:0;l--;){var c=s[l],p=c.func;if(p==null||p==e)return c.name}return t}function Rt(e){var t=se.call(h,"placeholder")?h:e;return t.placeholder}function U(){var e=h.iteratee||To;return e=e===To?Cl:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var s=e.__data__;return $g(t)?s[typeof t=="string"?"string":"hash"]:s.map}function ho(e){for(var t=ye(e),s=t.length;s--;){var l=t[s],c=e[l];t[s]=[l,c,oa(c)]}return t}function at(e,t){var s=Wp(e,t);return Sl(s)?s:i}function kg(e){var t=se.call(e,it),s=e[it];try{e[it]=i;var l=!0}catch{}var c=Hr.call(e);return l&&(t?e[it]=s:delete e[it]),c}var po=Us?function(e){return e==null?[]:(e=oe(e),Dn(Us(e),function(t){return al.call(e,t)}))}:Oo,ra=Us?function(e){for(var t=[];e;)Un(t,po(e)),e=Yr(e);return t}:Oo,Ee=Te;(Ws&&Ee(new Ws(new ArrayBuffer(1)))!=mt||nr&&Ee(new nr)!=un||Hs&&Ee(Hs.resolve())!=yu||At&&Ee(new At)!=ln||tr&&Ee(new tr)!=Xt)&&(Ee=function(e){var t=Te(e),s=t==Sn?e.constructor:i,l=s?ct(s):"";if(l)switch(l){case pd:return mt;case dd:return un;case gd:return yu;case md:return ln;case _d:return Xt}return t});function Og(e,t,s){for(var l=-1,c=s.length;++l<c;){var p=s[l],g=p.size;switch(p.type){case"drop":e+=g;break;case"dropRight":t-=g;break;case"take":t=Ce(t,e+g);break;case"takeRight":e=_e(e,t-g);break}}return{start:e,end:t}}function Fg(e){var t=e.match(Dh);return t?t[1].split(Uh):[]}function ia(e,t,s){t=Yn(t,e);for(var l=-1,c=t.length,p=!1;++l<c;){var g=yn(t[l]);if(!(p=e!=null&&s(e,g)))break;e=e[g]}return p||++l!=c?p:(c=e==null?0:e.length,!!c&&vi(c)&&Ln(g,c)&&(K(e)||ft(e)))}function Mg(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&se.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function sa(e){return typeof e.constructor=="function"&&!fr(e)?Ct(Yr(e)):{}}function Pg(e,t,s){var l=e.constructor;switch(t){case Zt:return oo(e);case Kt:case jt:return new l(+e);case mt:return vg(e,s);case hs:case ps:case ds:case gs:case ms:case _s:case vs:case ys:case xs:return Wl(e,s);case un:return new l;case Jt:case zt:return new l(e);case Vt:return yg(e);case ln:return new l;case Or:return xg(e)}}function Bg(e,t){var s=t.length;if(!s)return e;var l=s-1;return t[l]=(s>1?"& ":"")+t[l],t=t.join(s>2?", ":" "),e.replace($h,`{
/* [wrapped with `+t+`] */
`)}function Ng(e){return K(e)||ft(e)||!!(cl&&e&&e[cl])}function Ln(e,t){var s=typeof e;return t=t??$n,!!t&&(s=="number"||s!="symbol"&&Vh.test(e))&&e>-1&&e%1==0&&e<t}function Le(e,t,s){if(!fe(s))return!1;var l=typeof t;return(l=="number"?Be(s)&&Ln(t,s.length):l=="string"&&t in s)?fn(s[t],e):!1}function go(e,t){if(K(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||Ge(e)?!0:Mh.test(e)||!Fh.test(e)||t!=null&&e in oe(t)}function $g(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function mo(e){var t=ci(e),s=h[t];if(typeof s!="function"||!(t in Q.prototype))return!1;if(e===s)return!0;var l=fo(s);return!!l&&e===l[0]}function Dg(e){return!!ol&&ol in e}var Ug=Ur?kn:Fo;function fr(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||bt;return e===s}function oa(e){return e===e&&!fe(e)}function ua(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==i||e in oe(s))}}function Wg(e){var t=mi(e,function(l){return s.size===b&&s.clear(),l}),s=t.cache;return t}function Hg(e,t){var s=e[1],l=t[1],c=s|l,p=c<(N|Y|An),g=l==An&&s==Se||l==An&&s==Yt&&e[7].length<=t[8]||l==(An|Yt)&&t[7].length<=t[8]&&s==Se;if(!(p||g))return e;l&N&&(e[2]=t[2],c|=s&N?0:D);var _=t[3];if(_){var y=e[3];e[3]=y?ql(y,_,t[4]):_,e[4]=y?Wn(e[3],A):t[4]}return _=t[5],_&&(y=e[5],e[5]=y?Gl(y,_,t[6]):_,e[6]=y?Wn(e[5],A):t[6]),_=t[7],_&&(e[7]=_),l&An&&(e[8]=e[8]==null?t[8]:Ce(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}function qg(e){var t=[];if(e!=null)for(var s in oe(e))t.push(s);return t}function Gg(e){return Hr.call(e)}function la(e,t,s){return t=_e(t===i?e.length-1:t,0),function(){for(var l=arguments,c=-1,p=_e(l.length-t,0),g=x(p);++c<p;)g[c]=l[t+c];c=-1;for(var _=x(t+1);++c<t;)_[c]=l[c];return _[t]=s(g),We(e,this,_)}}function aa(e,t){return t.length<2?e:lt(e,en(t,0,-1))}function Yg(e,t){for(var s=e.length,l=Ce(t.length,s),c=Pe(e);l--;){var p=t[l];e[l]=Ln(p,s)?c[p]:i}return e}function _o(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ca=ha(Fl),hr=od||function(e,t){return xe.setTimeout(e,t)},vo=ha(dg);function fa(e,t,s){var l=t+"";return vo(e,Bg(l,Kg(Fg(l),s)))}function ha(e){var t=0,s=0;return function(){var l=cd(),c=ph-(l-s);if(s=l,c>0){if(++t>=hh)return arguments[0]}else t=0;return e.apply(i,arguments)}}function hi(e,t){var s=-1,l=e.length,c=l-1;for(t=t===i?l:t;++s<t;){var p=Qs(s,c),g=e[p];e[p]=e[s],e[s]=g}return e.length=t,e}var pa=Wg(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ph,function(s,l,c,p){t.push(c?p.replace(qh,"$1"):l||s)}),t});function yn(e){if(typeof e=="string"||Ge(e))return e;var t=e+"";return t=="0"&&1/e==-tt?"-0":t}function ct(e){if(e!=null){try{return Wr.call(e)}catch{}try{return e+""}catch{}}return""}function Kg(e,t){return ze(yh,function(s){var l="_."+s[0];t&s[1]&&!Br(e,l)&&e.push(l)}),e.sort()}function da(e){if(e instanceof Q)return e.clone();var t=new Ze(e.__wrapped__,e.__chain__);return t.__actions__=Pe(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function jg(e,t,s){(s?Le(e,t,s):t===i)?t=1:t=_e(J(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var c=0,p=0,g=x(Jr(l/t));c<l;)g[p++]=en(e,c,c+=t);return g}function Jg(e){for(var t=-1,s=e==null?0:e.length,l=0,c=[];++t<s;){var p=e[t];p&&(c[l++]=p)}return c}function Vg(){var e=arguments.length;if(!e)return[];for(var t=x(e-1),s=arguments[0],l=e;l--;)t[l-1]=arguments[l];return Un(K(s)?Pe(s):[s],we(t,1))}var zg=X(function(e,t){return pe(e)?or(e,we(t,1,pe,!0)):[]}),Xg=X(function(e,t){var s=nn(t);return pe(s)&&(s=i),pe(e)?or(e,we(t,1,pe,!0),U(s,2)):[]}),Zg=X(function(e,t){var s=nn(t);return pe(s)&&(s=i),pe(e)?or(e,we(t,1,pe,!0),i,s):[]});function Qg(e,t,s){var l=e==null?0:e.length;return l?(t=s||t===i?1:J(t),en(e,t<0?0:t,l)):[]}function e0(e,t,s){var l=e==null?0:e.length;return l?(t=s||t===i?1:J(t),t=l-t,en(e,0,t<0?0:t)):[]}function n0(e,t){return e&&e.length?ii(e,U(t,3),!0,!0):[]}function t0(e,t){return e&&e.length?ii(e,U(t,3),!0):[]}function r0(e,t,s,l){var c=e==null?0:e.length;return c?(s&&typeof s!="number"&&Le(e,t,s)&&(s=0,l=c),Vd(e,t,s,l)):[]}function ga(e,t,s){var l=e==null?0:e.length;if(!l)return-1;var c=s==null?0:J(s);return c<0&&(c=_e(l+c,0)),Nr(e,U(t,3),c)}function ma(e,t,s){var l=e==null?0:e.length;if(!l)return-1;var c=l-1;return s!==i&&(c=J(s),c=s<0?_e(l+c,0):Ce(c,l-1)),Nr(e,U(t,3),c,!0)}function _a(e){var t=e==null?0:e.length;return t?we(e,1):[]}function i0(e){var t=e==null?0:e.length;return t?we(e,tt):[]}function s0(e,t){var s=e==null?0:e.length;return s?(t=t===i?1:J(t),we(e,t)):[]}function o0(e){for(var t=-1,s=e==null?0:e.length,l={};++t<s;){var c=e[t];l[c[0]]=c[1]}return l}function va(e){return e&&e.length?e[0]:i}function u0(e,t,s){var l=e==null?0:e.length;if(!l)return-1;var c=s==null?0:J(s);return c<0&&(c=_e(l+c,0)),vt(e,t,c)}function l0(e){var t=e==null?0:e.length;return t?en(e,0,-1):[]}var a0=X(function(e){var t=ae(e,io);return t.length&&t[0]===e[0]?Js(t):[]}),c0=X(function(e){var t=nn(e),s=ae(e,io);return t===nn(s)?t=i:s.pop(),s.length&&s[0]===e[0]?Js(s,U(t,2)):[]}),f0=X(function(e){var t=nn(e),s=ae(e,io);return t=typeof t=="function"?t:i,t&&s.pop(),s.length&&s[0]===e[0]?Js(s,i,t):[]});function h0(e,t){return e==null?"":ld.call(e,t)}function nn(e){var t=e==null?0:e.length;return t?e[t-1]:i}function p0(e,t,s){var l=e==null?0:e.length;if(!l)return-1;var c=l;return s!==i&&(c=J(s),c=c<0?_e(l+c,0):Ce(c,l-1)),t===t?Kp(e,t,c):Nr(e,Zu,c,!0)}function d0(e,t){return e&&e.length?Tl(e,J(t)):i}var g0=X(ya);function ya(e,t){return e&&e.length&&t&&t.length?Zs(e,t):e}function m0(e,t,s){return e&&e.length&&t&&t.length?Zs(e,t,U(s,2)):e}function _0(e,t,s){return e&&e.length&&t&&t.length?Zs(e,t,i,s):e}var v0=Tn(function(e,t){var s=e==null?0:e.length,l=Gs(e,t);return Ol(e,ae(t,function(c){return Ln(c,s)?+c:c}).sort(Hl)),l});function y0(e,t){var s=[];if(!(e&&e.length))return s;var l=-1,c=[],p=e.length;for(t=U(t,3);++l<p;){var g=e[l];t(g,l,e)&&(s.push(g),c.push(l))}return Ol(e,c),s}function yo(e){return e==null?e:hd.call(e)}function x0(e,t,s){var l=e==null?0:e.length;return l?(s&&typeof s!="number"&&Le(e,t,s)?(t=0,s=l):(t=t==null?0:J(t),s=s===i?l:J(s)),en(e,t,s)):[]}function w0(e,t){return ri(e,t)}function b0(e,t,s){return no(e,t,U(s,2))}function A0(e,t){var s=e==null?0:e.length;if(s){var l=ri(e,t);if(l<s&&fn(e[l],t))return l}return-1}function S0(e,t){return ri(e,t,!0)}function C0(e,t,s){return no(e,t,U(s,2),!0)}function E0(e,t){var s=e==null?0:e.length;if(s){var l=ri(e,t,!0)-1;if(fn(e[l],t))return l}return-1}function I0(e){return e&&e.length?Ml(e):[]}function R0(e,t){return e&&e.length?Ml(e,U(t,2)):[]}function T0(e){var t=e==null?0:e.length;return t?en(e,1,t):[]}function L0(e,t,s){return e&&e.length?(t=s||t===i?1:J(t),en(e,0,t<0?0:t)):[]}function k0(e,t,s){var l=e==null?0:e.length;return l?(t=s||t===i?1:J(t),t=l-t,en(e,t<0?0:t,l)):[]}function O0(e,t){return e&&e.length?ii(e,U(t,3),!1,!0):[]}function F0(e,t){return e&&e.length?ii(e,U(t,3)):[]}var M0=X(function(e){return Gn(we(e,1,pe,!0))}),P0=X(function(e){var t=nn(e);return pe(t)&&(t=i),Gn(we(e,1,pe,!0),U(t,2))}),B0=X(function(e){var t=nn(e);return t=typeof t=="function"?t:i,Gn(we(e,1,pe,!0),i,t)});function N0(e){return e&&e.length?Gn(e):[]}function $0(e,t){return e&&e.length?Gn(e,U(t,2)):[]}function D0(e,t){return t=typeof t=="function"?t:i,e&&e.length?Gn(e,i,t):[]}function xo(e){if(!(e&&e.length))return[];var t=0;return e=Dn(e,function(s){if(pe(s))return t=_e(s.length,t),!0}),Bs(t,function(s){return ae(e,Fs(s))})}function xa(e,t){if(!(e&&e.length))return[];var s=xo(e);return t==null?s:ae(s,function(l){return We(t,i,l)})}var U0=X(function(e,t){return pe(e)?or(e,t):[]}),W0=X(function(e){return ro(Dn(e,pe))}),H0=X(function(e){var t=nn(e);return pe(t)&&(t=i),ro(Dn(e,pe),U(t,2))}),q0=X(function(e){var t=nn(e);return t=typeof t=="function"?t:i,ro(Dn(e,pe),i,t)}),G0=X(xo);function Y0(e,t){return $l(e||[],t||[],sr)}function K0(e,t){return $l(e||[],t||[],ar)}var j0=X(function(e){var t=e.length,s=t>1?e[t-1]:i;return s=typeof s=="function"?(e.pop(),s):i,xa(e,s)});function wa(e){var t=h(e);return t.__chain__=!0,t}function J0(e,t){return t(e),e}function pi(e,t){return t(e)}var V0=Tn(function(e){var t=e.length,s=t?e[0]:0,l=this.__wrapped__,c=function(p){return Gs(p,e)};return t>1||this.__actions__.length||!(l instanceof Q)||!Ln(s)?this.thru(c):(l=l.slice(s,+s+(t?1:0)),l.__actions__.push({func:pi,args:[c],thisArg:i}),new Ze(l,this.__chain__).thru(function(p){return t&&!p.length&&p.push(i),p}))});function z0(){return wa(this)}function X0(){return new Ze(this.value(),this.__chain__)}function Z0(){this.__values__===i&&(this.__values__=Pa(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Q0(){return this}function em(e){for(var t,s=this;s instanceof Zr;){var l=da(s);l.__index__=0,l.__values__=i,t?c.__wrapped__=l:t=l;var c=l;s=s.__wrapped__}return c.__wrapped__=e,t}function nm(){var e=this.__wrapped__;if(e instanceof Q){var t=e;return this.__actions__.length&&(t=new Q(this)),t=t.reverse(),t.__actions__.push({func:pi,args:[yo],thisArg:i}),new Ze(t,this.__chain__)}return this.thru(yo)}function tm(){return Nl(this.__wrapped__,this.__actions__)}var rm=si(function(e,t,s){se.call(e,s)?++e[s]:In(e,s,1)});function im(e,t,s){var l=K(e)?zu:Jd;return s&&Le(e,t,s)&&(t=i),l(e,U(t,3))}function sm(e,t){var s=K(e)?Dn:xl;return s(e,U(t,3))}var om=Jl(ga),um=Jl(ma);function lm(e,t){return we(di(e,t),1)}function am(e,t){return we(di(e,t),tt)}function cm(e,t,s){return s=s===i?1:J(s),we(di(e,t),s)}function ba(e,t){var s=K(e)?ze:qn;return s(e,U(t,3))}function Aa(e,t){var s=K(e)?Tp:yl;return s(e,U(t,3))}var fm=si(function(e,t,s){se.call(e,s)?e[s].push(t):In(e,s,[t])});function hm(e,t,s,l){e=Be(e)?e:Lt(e),s=s&&!l?J(s):0;var c=e.length;return s<0&&(s=_e(c+s,0)),yi(e)?s<=c&&e.indexOf(t,s)>-1:!!c&&vt(e,t,s)>-1}var pm=X(function(e,t,s){var l=-1,c=typeof t=="function",p=Be(e)?x(e.length):[];return qn(e,function(g){p[++l]=c?We(t,g,s):ur(g,t,s)}),p}),dm=si(function(e,t,s){In(e,s,t)});function di(e,t){var s=K(e)?ae:El;return s(e,U(t,3))}function gm(e,t,s,l){return e==null?[]:(K(t)||(t=t==null?[]:[t]),s=l?i:s,K(s)||(s=s==null?[]:[s]),Ll(e,t,s))}var mm=si(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]});function _m(e,t,s){var l=K(e)?ks:el,c=arguments.length<3;return l(e,U(t,4),s,c,qn)}function vm(e,t,s){var l=K(e)?Lp:el,c=arguments.length<3;return l(e,U(t,4),s,c,yl)}function ym(e,t){var s=K(e)?Dn:xl;return s(e,_i(U(t,3)))}function xm(e){var t=K(e)?gl:hg;return t(e)}function wm(e,t,s){(s?Le(e,t,s):t===i)?t=1:t=J(t);var l=K(e)?qd:pg;return l(e,t)}function bm(e){var t=K(e)?Gd:gg;return t(e)}function Am(e){if(e==null)return 0;if(Be(e))return yi(e)?xt(e):e.length;var t=Ee(e);return t==un||t==ln?e.size:zs(e).length}function Sm(e,t,s){var l=K(e)?Os:mg;return s&&Le(e,t,s)&&(t=i),l(e,U(t,3))}var Cm=X(function(e,t){if(e==null)return[];var s=t.length;return s>1&&Le(e,t[0],t[1])?t=[]:s>2&&Le(t[0],t[1],t[2])&&(t=[t[0]]),Ll(e,we(t,1),[])}),gi=sd||function(){return xe.Date.now()};function Em(e,t){if(typeof t!="function")throw new Xe(f);return e=J(e),function(){if(--e<1)return t.apply(this,arguments)}}function Sa(e,t,s){return t=s?i:t,t=e&&t==null?e.length:t,Rn(e,An,i,i,i,i,t)}function Ca(e,t){var s;if(typeof t!="function")throw new Xe(f);return e=J(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=i),s}}var wo=X(function(e,t,s){var l=N;if(s.length){var c=Wn(s,Rt(wo));l|=Je}return Rn(e,l,t,s,c)}),Ea=X(function(e,t,s){var l=N|Y;if(s.length){var c=Wn(s,Rt(Ea));l|=Je}return Rn(t,l,e,s,c)});function Ia(e,t,s){t=s?i:t;var l=Rn(e,Se,i,i,i,i,i,t);return l.placeholder=Ia.placeholder,l}function Ra(e,t,s){t=s?i:t;var l=Rn(e,Re,i,i,i,i,i,t);return l.placeholder=Ra.placeholder,l}function Ta(e,t,s){var l,c,p,g,_,y,C=0,E=!1,I=!1,k=!0;if(typeof e!="function")throw new Xe(f);t=tn(t)||0,fe(s)&&(E=!!s.leading,I="maxWait"in s,p=I?_e(tn(s.maxWait)||0,t):p,k="trailing"in s?!!s.trailing:k);function P(de){var hn=l,Fn=c;return l=c=i,C=de,g=e.apply(Fn,hn),g}function W(de){return C=de,_=hr(Z,t),E?P(de):g}function V(de){var hn=de-y,Fn=de-C,Ja=t-hn;return I?Ce(Ja,p-Fn):Ja}function H(de){var hn=de-y,Fn=de-C;return y===i||hn>=t||hn<0||I&&Fn>=p}function Z(){var de=gi();if(H(de))return ee(de);_=hr(Z,V(de))}function ee(de){return _=i,k&&l?P(de):(l=c=i,g)}function Ye(){_!==i&&Dl(_),C=0,l=y=c=_=i}function ke(){return _===i?g:ee(gi())}function Ke(){var de=gi(),hn=H(de);if(l=arguments,c=this,y=de,hn){if(_===i)return W(y);if(I)return Dl(_),_=hr(Z,t),P(y)}return _===i&&(_=hr(Z,t)),g}return Ke.cancel=Ye,Ke.flush=ke,Ke}var Im=X(function(e,t){return vl(e,1,t)}),Rm=X(function(e,t,s){return vl(e,tn(t)||0,s)});function Tm(e){return Rn(e,fs)}function mi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Xe(f);var s=function(){var l=arguments,c=t?t.apply(this,l):l[0],p=s.cache;if(p.has(c))return p.get(c);var g=e.apply(this,l);return s.cache=p.set(c,g)||p,g};return s.cache=new(mi.Cache||En),s}mi.Cache=En;function _i(e){if(typeof e!="function")throw new Xe(f);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Lm(e){return Ca(2,e)}var km=_g(function(e,t){t=t.length==1&&K(t[0])?ae(t[0],He(U())):ae(we(t,1),He(U()));var s=t.length;return X(function(l){for(var c=-1,p=Ce(l.length,s);++c<p;)l[c]=t[c].call(this,l[c]);return We(e,this,l)})}),bo=X(function(e,t){var s=Wn(t,Rt(bo));return Rn(e,Je,i,t,s)}),La=X(function(e,t){var s=Wn(t,Rt(La));return Rn(e,Nn,i,t,s)}),Om=Tn(function(e,t){return Rn(e,Yt,i,i,i,t)});function Fm(e,t){if(typeof e!="function")throw new Xe(f);return t=t===i?t:J(t),X(e,t)}function Mm(e,t){if(typeof e!="function")throw new Xe(f);return t=t==null?0:_e(J(t),0),X(function(s){var l=s[t],c=Kn(s,0,t);return l&&Un(c,l),We(e,this,c)})}function Pm(e,t,s){var l=!0,c=!0;if(typeof e!="function")throw new Xe(f);return fe(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),Ta(e,t,{leading:l,maxWait:t,trailing:c})}function Bm(e){return Sa(e,1)}function Nm(e,t){return bo(so(t),e)}function $m(){if(!arguments.length)return[];var e=arguments[0];return K(e)?e:[e]}function Dm(e){return Qe(e,T)}function Um(e,t){return t=typeof t=="function"?t:i,Qe(e,T,t)}function Wm(e){return Qe(e,w|T)}function Hm(e,t){return t=typeof t=="function"?t:i,Qe(e,w|T,t)}function qm(e,t){return t==null||_l(e,t,ye(t))}function fn(e,t){return e===t||e!==e&&t!==t}var Gm=ai(js),Ym=ai(function(e,t){return e>=t}),ft=Al(function(){return arguments}())?Al:function(e){return he(e)&&se.call(e,"callee")&&!al.call(e,"callee")},K=x.isArray,Km=Gu?He(Gu):eg;function Be(e){return e!=null&&vi(e.length)&&!kn(e)}function pe(e){return he(e)&&Be(e)}function jm(e){return e===!0||e===!1||he(e)&&Te(e)==Kt}var jn=ud||Fo,Jm=Yu?He(Yu):ng;function Vm(e){return he(e)&&e.nodeType===1&&!pr(e)}function zm(e){if(e==null)return!0;if(Be(e)&&(K(e)||typeof e=="string"||typeof e.splice=="function"||jn(e)||Tt(e)||ft(e)))return!e.length;var t=Ee(e);if(t==un||t==ln)return!e.size;if(fr(e))return!zs(e).length;for(var s in e)if(se.call(e,s))return!1;return!0}function Xm(e,t){return lr(e,t)}function Zm(e,t,s){s=typeof s=="function"?s:i;var l=s?s(e,t):i;return l===i?lr(e,t,i,s):!!l}function Ao(e){if(!he(e))return!1;var t=Te(e);return t==Lr||t==wh||typeof e.message=="string"&&typeof e.name=="string"&&!pr(e)}function Qm(e){return typeof e=="number"&&fl(e)}function kn(e){if(!fe(e))return!1;var t=Te(e);return t==kr||t==vu||t==xh||t==Ah}function ka(e){return typeof e=="number"&&e==J(e)}function vi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$n}function fe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function he(e){return e!=null&&typeof e=="object"}var Oa=Ku?He(Ku):rg;function e_(e,t){return e===t||Vs(e,t,ho(t))}function n_(e,t,s){return s=typeof s=="function"?s:i,Vs(e,t,ho(t),s)}function t_(e){return Fa(e)&&e!=+e}function r_(e){if(Ug(e))throw new G(a);return Sl(e)}function i_(e){return e===null}function s_(e){return e==null}function Fa(e){return typeof e=="number"||he(e)&&Te(e)==Jt}function pr(e){if(!he(e)||Te(e)!=Sn)return!1;var t=Yr(e);if(t===null)return!0;var s=se.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&Wr.call(s)==nd}var So=ju?He(ju):ig;function o_(e){return ka(e)&&e>=-$n&&e<=$n}var Ma=Ju?He(Ju):sg;function yi(e){return typeof e=="string"||!K(e)&&he(e)&&Te(e)==zt}function Ge(e){return typeof e=="symbol"||he(e)&&Te(e)==Or}var Tt=Vu?He(Vu):og;function u_(e){return e===i}function l_(e){return he(e)&&Ee(e)==Xt}function a_(e){return he(e)&&Te(e)==Ch}var c_=ai(Xs),f_=ai(function(e,t){return e<=t});function Pa(e){if(!e)return[];if(Be(e))return yi(e)?an(e):Pe(e);if(er&&e[er])return qp(e[er]());var t=Ee(e),s=t==un?$s:t==ln?$r:Lt;return s(e)}function On(e){if(!e)return e===0?e:0;if(e=tn(e),e===tt||e===-tt){var t=e<0?-1:1;return t*mh}return e===e?e:0}function J(e){var t=On(e),s=t%1;return t===t?s?t-s:t:0}function Ba(e){return e?ut(J(e),0,mn):0}function tn(e){if(typeof e=="number")return e;if(Ge(e))return Rr;if(fe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=nl(e);var s=Kh.test(e);return s||Jh.test(e)?Ep(e.slice(2),s?2:8):Yh.test(e)?Rr:+e}function Na(e){return vn(e,Ne(e))}function h_(e){return e?ut(J(e),-$n,$n):e===0?e:0}function ie(e){return e==null?"":qe(e)}var p_=Et(function(e,t){if(fr(t)||Be(t)){vn(t,ye(t),e);return}for(var s in t)se.call(t,s)&&sr(e,s,t[s])}),$a=Et(function(e,t){vn(t,Ne(t),e)}),xi=Et(function(e,t,s,l){vn(t,Ne(t),e,l)}),d_=Et(function(e,t,s,l){vn(t,ye(t),e,l)}),g_=Tn(Gs);function m_(e,t){var s=Ct(e);return t==null?s:ml(s,t)}var __=X(function(e,t){e=oe(e);var s=-1,l=t.length,c=l>2?t[2]:i;for(c&&Le(t[0],t[1],c)&&(l=1);++s<l;)for(var p=t[s],g=Ne(p),_=-1,y=g.length;++_<y;){var C=g[_],E=e[C];(E===i||fn(E,bt[C])&&!se.call(e,C))&&(e[C]=p[C])}return e}),v_=X(function(e){return e.push(i,na),We(Da,i,e)});function y_(e,t){return Xu(e,U(t,3),_n)}function x_(e,t){return Xu(e,U(t,3),Ks)}function w_(e,t){return e==null?e:Ys(e,U(t,3),Ne)}function b_(e,t){return e==null?e:wl(e,U(t,3),Ne)}function A_(e,t){return e&&_n(e,U(t,3))}function S_(e,t){return e&&Ks(e,U(t,3))}function C_(e){return e==null?[]:ni(e,ye(e))}function E_(e){return e==null?[]:ni(e,Ne(e))}function Co(e,t,s){var l=e==null?i:lt(e,t);return l===i?s:l}function I_(e,t){return e!=null&&ia(e,t,zd)}function Eo(e,t){return e!=null&&ia(e,t,Xd)}var R_=zl(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=Hr.call(t)),e[t]=s},Ro($e)),T_=zl(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=Hr.call(t)),se.call(e,t)?e[t].push(s):e[t]=[s]},U),L_=X(ur);function ye(e){return Be(e)?dl(e):zs(e)}function Ne(e){return Be(e)?dl(e,!0):ug(e)}function k_(e,t){var s={};return t=U(t,3),_n(e,function(l,c,p){In(s,t(l,c,p),l)}),s}function O_(e,t){var s={};return t=U(t,3),_n(e,function(l,c,p){In(s,c,t(l,c,p))}),s}var F_=Et(function(e,t,s){ti(e,t,s)}),Da=Et(function(e,t,s,l){ti(e,t,s,l)}),M_=Tn(function(e,t){var s={};if(e==null)return s;var l=!1;t=ae(t,function(p){return p=Yn(p,e),l||(l=p.length>1),p}),vn(e,co(e),s),l&&(s=Qe(s,w|R|T,Rg));for(var c=t.length;c--;)to(s,t[c]);return s});function P_(e,t){return Ua(e,_i(U(t)))}var B_=Tn(function(e,t){return e==null?{}:ag(e,t)});function Ua(e,t){if(e==null)return{};var s=ae(co(e),function(l){return[l]});return t=U(t),kl(e,s,function(l,c){return t(l,c[0])})}function N_(e,t,s){t=Yn(t,e);var l=-1,c=t.length;for(c||(c=1,e=i);++l<c;){var p=e==null?i:e[yn(t[l])];p===i&&(l=c,p=s),e=kn(p)?p.call(e):p}return e}function $_(e,t,s){return e==null?e:ar(e,t,s)}function D_(e,t,s,l){return l=typeof l=="function"?l:i,e==null?e:ar(e,t,s,l)}var Wa=Ql(ye),Ha=Ql(Ne);function U_(e,t,s){var l=K(e),c=l||jn(e)||Tt(e);if(t=U(t,4),s==null){var p=e&&e.constructor;c?s=l?new p:[]:fe(e)?s=kn(p)?Ct(Yr(e)):{}:s={}}return(c?ze:_n)(e,function(g,_,y){return t(s,g,_,y)}),s}function W_(e,t){return e==null?!0:to(e,t)}function H_(e,t,s){return e==null?e:Bl(e,t,so(s))}function q_(e,t,s,l){return l=typeof l=="function"?l:i,e==null?e:Bl(e,t,so(s),l)}function Lt(e){return e==null?[]:Ns(e,ye(e))}function G_(e){return e==null?[]:Ns(e,Ne(e))}function Y_(e,t,s){return s===i&&(s=t,t=i),s!==i&&(s=tn(s),s=s===s?s:0),t!==i&&(t=tn(t),t=t===t?t:0),ut(tn(e),t,s)}function K_(e,t,s){return t=On(t),s===i?(s=t,t=0):s=On(s),e=tn(e),Zd(e,t,s)}function j_(e,t,s){if(s&&typeof s!="boolean"&&Le(e,t,s)&&(t=s=i),s===i&&(typeof t=="boolean"?(s=t,t=i):typeof e=="boolean"&&(s=e,e=i)),e===i&&t===i?(e=0,t=1):(e=On(e),t===i?(t=e,e=0):t=On(t)),e>t){var l=e;e=t,t=l}if(s||e%1||t%1){var c=hl();return Ce(e+c*(t-e+Cp("1e-"+((c+"").length-1))),t)}return Qs(e,t)}var J_=It(function(e,t,s){return t=t.toLowerCase(),e+(s?qa(t):t)});function qa(e){return Io(ie(e).toLowerCase())}function Ga(e){return e=ie(e),e&&e.replace(zh,$p).replace(gp,"")}function V_(e,t,s){e=ie(e),t=qe(t);var l=e.length;s=s===i?l:ut(J(s),0,l);var c=s;return s-=t.length,s>=0&&e.slice(s,c)==t}function z_(e){return e=ie(e),e&&Lh.test(e)?e.replace(wu,Dp):e}function X_(e){return e=ie(e),e&&Bh.test(e)?e.replace(ws,"\\$&"):e}var Z_=It(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),Q_=It(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),ev=jl("toLowerCase");function nv(e,t,s){e=ie(e),t=J(t);var l=t?xt(e):0;if(!t||l>=t)return e;var c=(t-l)/2;return li(Vr(c),s)+e+li(Jr(c),s)}function tv(e,t,s){e=ie(e),t=J(t);var l=t?xt(e):0;return t&&l<t?e+li(t-l,s):e}function rv(e,t,s){e=ie(e),t=J(t);var l=t?xt(e):0;return t&&l<t?li(t-l,s)+e:e}function iv(e,t,s){return s||t==null?t=0:t&&(t=+t),fd(ie(e).replace(bs,""),t||0)}function sv(e,t,s){return(s?Le(e,t,s):t===i)?t=1:t=J(t),eo(ie(e),t)}function ov(){var e=arguments,t=ie(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var uv=It(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()});function lv(e,t,s){return s&&typeof s!="number"&&Le(e,t,s)&&(t=s=i),s=s===i?mn:s>>>0,s?(e=ie(e),e&&(typeof t=="string"||t!=null&&!So(t))&&(t=qe(t),!t&&yt(e))?Kn(an(e),0,s):e.split(t,s)):[]}var av=It(function(e,t,s){return e+(s?" ":"")+Io(t)});function cv(e,t,s){return e=ie(e),s=s==null?0:ut(J(s),0,e.length),t=qe(t),e.slice(s,s+t.length)==t}function fv(e,t,s){var l=h.templateSettings;s&&Le(e,t,s)&&(t=i),e=ie(e),t=xi({},t,l,ea);var c=xi({},t.imports,l.imports,ea),p=ye(c),g=Ns(c,p),_,y,C=0,E=t.interpolate||Fr,I="__p += '",k=Ds((t.escape||Fr).source+"|"+E.source+"|"+(E===bu?Gh:Fr).source+"|"+(t.evaluate||Fr).source+"|$","g"),P="//# sourceURL="+(se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xp+"]")+`
`;e.replace(k,function(H,Z,ee,Ye,ke,Ke){return ee||(ee=Ye),I+=e.slice(C,Ke).replace(Xh,Up),Z&&(_=!0,I+=`' +
__e(`+Z+`) +
'`),ke&&(y=!0,I+=`';
`+ke+`;
__p += '`),ee&&(I+=`' +
((__t = (`+ee+`)) == null ? '' : __t) +
'`),C=Ke+H.length,H}),I+=`';
`;var W=se.call(t,"variable")&&t.variable;if(!W)I=`with (obj) {
`+I+`
}
`;else if(Hh.test(W))throw new G(d);I=(y?I.replace(Eh,""):I).replace(Ih,"$1").replace(Rh,"$1;"),I="function("+(W||"obj")+`) {
`+(W?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+I+`return __p
}`;var V=Ka(function(){return re(p,P+"return "+I).apply(i,g)});if(V.source=I,Ao(V))throw V;return V}function hv(e){return ie(e).toLowerCase()}function pv(e){return ie(e).toUpperCase()}function dv(e,t,s){if(e=ie(e),e&&(s||t===i))return nl(e);if(!e||!(t=qe(t)))return e;var l=an(e),c=an(t),p=tl(l,c),g=rl(l,c)+1;return Kn(l,p,g).join("")}function gv(e,t,s){if(e=ie(e),e&&(s||t===i))return e.slice(0,sl(e)+1);if(!e||!(t=qe(t)))return e;var l=an(e),c=rl(l,an(t))+1;return Kn(l,0,c).join("")}function mv(e,t,s){if(e=ie(e),e&&(s||t===i))return e.replace(bs,"");if(!e||!(t=qe(t)))return e;var l=an(e),c=tl(l,an(t));return Kn(l,c).join("")}function _v(e,t){var s=ch,l=fh;if(fe(t)){var c="separator"in t?t.separator:c;s="length"in t?J(t.length):s,l="omission"in t?qe(t.omission):l}e=ie(e);var p=e.length;if(yt(e)){var g=an(e);p=g.length}if(s>=p)return e;var _=s-xt(l);if(_<1)return l;var y=g?Kn(g,0,_).join(""):e.slice(0,_);if(c===i)return y+l;if(g&&(_+=y.length-_),So(c)){if(e.slice(_).search(c)){var C,E=y;for(c.global||(c=Ds(c.source,ie(Au.exec(c))+"g")),c.lastIndex=0;C=c.exec(E);)var I=C.index;y=y.slice(0,I===i?_:I)}}else if(e.indexOf(qe(c),_)!=_){var k=y.lastIndexOf(c);k>-1&&(y=y.slice(0,k))}return y+l}function vv(e){return e=ie(e),e&&Th.test(e)?e.replace(xu,jp):e}var yv=It(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),Io=jl("toUpperCase");function Ya(e,t,s){return e=ie(e),t=s?i:t,t===i?Hp(e)?zp(e):Fp(e):e.match(t)||[]}var Ka=X(function(e,t){try{return We(e,i,t)}catch(s){return Ao(s)?s:new G(s)}}),xv=Tn(function(e,t){return ze(t,function(s){s=yn(s),In(e,s,wo(e[s],e))}),e});function wv(e){var t=e==null?0:e.length,s=U();return e=t?ae(e,function(l){if(typeof l[1]!="function")throw new Xe(f);return[s(l[0]),l[1]]}):[],X(function(l){for(var c=-1;++c<t;){var p=e[c];if(We(p[0],this,l))return We(p[1],this,l)}})}function bv(e){return jd(Qe(e,w))}function Ro(e){return function(){return e}}function Av(e,t){return e==null||e!==e?t:e}var Sv=Vl(),Cv=Vl(!0);function $e(e){return e}function To(e){return Cl(typeof e=="function"?e:Qe(e,w))}function Ev(e){return Il(Qe(e,w))}function Iv(e,t){return Rl(e,Qe(t,w))}var Rv=X(function(e,t){return function(s){return ur(s,e,t)}}),Tv=X(function(e,t){return function(s){return ur(e,s,t)}});function Lo(e,t,s){var l=ye(t),c=ni(t,l);s==null&&!(fe(t)&&(c.length||!l.length))&&(s=t,t=e,e=this,c=ni(t,ye(t)));var p=!(fe(s)&&"chain"in s)||!!s.chain,g=kn(e);return ze(c,function(_){var y=t[_];e[_]=y,g&&(e.prototype[_]=function(){var C=this.__chain__;if(p||C){var E=e(this.__wrapped__),I=E.__actions__=Pe(this.__actions__);return I.push({func:y,args:arguments,thisArg:e}),E.__chain__=C,E}return y.apply(e,Un([this.value()],arguments))})}),e}function Lv(){return xe._===this&&(xe._=td),this}function ko(){}function kv(e){return e=J(e),X(function(t){return Tl(t,e)})}var Ov=uo(ae),Fv=uo(zu),Mv=uo(Os);function ja(e){return go(e)?Fs(yn(e)):cg(e)}function Pv(e){return function(t){return e==null?i:lt(e,t)}}var Bv=Xl(),Nv=Xl(!0);function Oo(){return[]}function Fo(){return!1}function $v(){return{}}function Dv(){return""}function Uv(){return!0}function Wv(e,t){if(e=J(e),e<1||e>$n)return[];var s=mn,l=Ce(e,mn);t=U(t),e-=mn;for(var c=Bs(l,t);++s<e;)t(s);return c}function Hv(e){return K(e)?ae(e,yn):Ge(e)?[e]:Pe(pa(ie(e)))}function qv(e){var t=++ed;return ie(e)+t}var Gv=ui(function(e,t){return e+t},0),Yv=lo("ceil"),Kv=ui(function(e,t){return e/t},1),jv=lo("floor");function Jv(e){return e&&e.length?ei(e,$e,js):i}function Vv(e,t){return e&&e.length?ei(e,U(t,2),js):i}function zv(e){return Qu(e,$e)}function Xv(e,t){return Qu(e,U(t,2))}function Zv(e){return e&&e.length?ei(e,$e,Xs):i}function Qv(e,t){return e&&e.length?ei(e,U(t,2),Xs):i}var ey=ui(function(e,t){return e*t},1),ny=lo("round"),ty=ui(function(e,t){return e-t},0);function ry(e){return e&&e.length?Ps(e,$e):0}function iy(e,t){return e&&e.length?Ps(e,U(t,2)):0}return h.after=Em,h.ary=Sa,h.assign=p_,h.assignIn=$a,h.assignInWith=xi,h.assignWith=d_,h.at=g_,h.before=Ca,h.bind=wo,h.bindAll=xv,h.bindKey=Ea,h.castArray=$m,h.chain=wa,h.chunk=jg,h.compact=Jg,h.concat=Vg,h.cond=wv,h.conforms=bv,h.constant=Ro,h.countBy=rm,h.create=m_,h.curry=Ia,h.curryRight=Ra,h.debounce=Ta,h.defaults=__,h.defaultsDeep=v_,h.defer=Im,h.delay=Rm,h.difference=zg,h.differenceBy=Xg,h.differenceWith=Zg,h.drop=Qg,h.dropRight=e0,h.dropRightWhile=n0,h.dropWhile=t0,h.fill=r0,h.filter=sm,h.flatMap=lm,h.flatMapDeep=am,h.flatMapDepth=cm,h.flatten=_a,h.flattenDeep=i0,h.flattenDepth=s0,h.flip=Tm,h.flow=Sv,h.flowRight=Cv,h.fromPairs=o0,h.functions=C_,h.functionsIn=E_,h.groupBy=fm,h.initial=l0,h.intersection=a0,h.intersectionBy=c0,h.intersectionWith=f0,h.invert=R_,h.invertBy=T_,h.invokeMap=pm,h.iteratee=To,h.keyBy=dm,h.keys=ye,h.keysIn=Ne,h.map=di,h.mapKeys=k_,h.mapValues=O_,h.matches=Ev,h.matchesProperty=Iv,h.memoize=mi,h.merge=F_,h.mergeWith=Da,h.method=Rv,h.methodOf=Tv,h.mixin=Lo,h.negate=_i,h.nthArg=kv,h.omit=M_,h.omitBy=P_,h.once=Lm,h.orderBy=gm,h.over=Ov,h.overArgs=km,h.overEvery=Fv,h.overSome=Mv,h.partial=bo,h.partialRight=La,h.partition=mm,h.pick=B_,h.pickBy=Ua,h.property=ja,h.propertyOf=Pv,h.pull=g0,h.pullAll=ya,h.pullAllBy=m0,h.pullAllWith=_0,h.pullAt=v0,h.range=Bv,h.rangeRight=Nv,h.rearg=Om,h.reject=ym,h.remove=y0,h.rest=Fm,h.reverse=yo,h.sampleSize=wm,h.set=$_,h.setWith=D_,h.shuffle=bm,h.slice=x0,h.sortBy=Cm,h.sortedUniq=I0,h.sortedUniqBy=R0,h.split=lv,h.spread=Mm,h.tail=T0,h.take=L0,h.takeRight=k0,h.takeRightWhile=O0,h.takeWhile=F0,h.tap=J0,h.throttle=Pm,h.thru=pi,h.toArray=Pa,h.toPairs=Wa,h.toPairsIn=Ha,h.toPath=Hv,h.toPlainObject=Na,h.transform=U_,h.unary=Bm,h.union=M0,h.unionBy=P0,h.unionWith=B0,h.uniq=N0,h.uniqBy=$0,h.uniqWith=D0,h.unset=W_,h.unzip=xo,h.unzipWith=xa,h.update=H_,h.updateWith=q_,h.values=Lt,h.valuesIn=G_,h.without=U0,h.words=Ya,h.wrap=Nm,h.xor=W0,h.xorBy=H0,h.xorWith=q0,h.zip=G0,h.zipObject=Y0,h.zipObjectDeep=K0,h.zipWith=j0,h.entries=Wa,h.entriesIn=Ha,h.extend=$a,h.extendWith=xi,Lo(h,h),h.add=Gv,h.attempt=Ka,h.camelCase=J_,h.capitalize=qa,h.ceil=Yv,h.clamp=Y_,h.clone=Dm,h.cloneDeep=Wm,h.cloneDeepWith=Hm,h.cloneWith=Um,h.conformsTo=qm,h.deburr=Ga,h.defaultTo=Av,h.divide=Kv,h.endsWith=V_,h.eq=fn,h.escape=z_,h.escapeRegExp=X_,h.every=im,h.find=om,h.findIndex=ga,h.findKey=y_,h.findLast=um,h.findLastIndex=ma,h.findLastKey=x_,h.floor=jv,h.forEach=ba,h.forEachRight=Aa,h.forIn=w_,h.forInRight=b_,h.forOwn=A_,h.forOwnRight=S_,h.get=Co,h.gt=Gm,h.gte=Ym,h.has=I_,h.hasIn=Eo,h.head=va,h.identity=$e,h.includes=hm,h.indexOf=u0,h.inRange=K_,h.invoke=L_,h.isArguments=ft,h.isArray=K,h.isArrayBuffer=Km,h.isArrayLike=Be,h.isArrayLikeObject=pe,h.isBoolean=jm,h.isBuffer=jn,h.isDate=Jm,h.isElement=Vm,h.isEmpty=zm,h.isEqual=Xm,h.isEqualWith=Zm,h.isError=Ao,h.isFinite=Qm,h.isFunction=kn,h.isInteger=ka,h.isLength=vi,h.isMap=Oa,h.isMatch=e_,h.isMatchWith=n_,h.isNaN=t_,h.isNative=r_,h.isNil=s_,h.isNull=i_,h.isNumber=Fa,h.isObject=fe,h.isObjectLike=he,h.isPlainObject=pr,h.isRegExp=So,h.isSafeInteger=o_,h.isSet=Ma,h.isString=yi,h.isSymbol=Ge,h.isTypedArray=Tt,h.isUndefined=u_,h.isWeakMap=l_,h.isWeakSet=a_,h.join=h0,h.kebabCase=Z_,h.last=nn,h.lastIndexOf=p0,h.lowerCase=Q_,h.lowerFirst=ev,h.lt=c_,h.lte=f_,h.max=Jv,h.maxBy=Vv,h.mean=zv,h.meanBy=Xv,h.min=Zv,h.minBy=Qv,h.stubArray=Oo,h.stubFalse=Fo,h.stubObject=$v,h.stubString=Dv,h.stubTrue=Uv,h.multiply=ey,h.nth=d0,h.noConflict=Lv,h.noop=ko,h.now=gi,h.pad=nv,h.padEnd=tv,h.padStart=rv,h.parseInt=iv,h.random=j_,h.reduce=_m,h.reduceRight=vm,h.repeat=sv,h.replace=ov,h.result=N_,h.round=ny,h.runInContext=v,h.sample=xm,h.size=Am,h.snakeCase=uv,h.some=Sm,h.sortedIndex=w0,h.sortedIndexBy=b0,h.sortedIndexOf=A0,h.sortedLastIndex=S0,h.sortedLastIndexBy=C0,h.sortedLastIndexOf=E0,h.startCase=av,h.startsWith=cv,h.subtract=ty,h.sum=ry,h.sumBy=iy,h.template=fv,h.times=Wv,h.toFinite=On,h.toInteger=J,h.toLength=Ba,h.toLower=hv,h.toNumber=tn,h.toSafeInteger=h_,h.toString=ie,h.toUpper=pv,h.trim=dv,h.trimEnd=gv,h.trimStart=mv,h.truncate=_v,h.unescape=vv,h.uniqueId=qv,h.upperCase=yv,h.upperFirst=Io,h.each=ba,h.eachRight=Aa,h.first=va,Lo(h,function(){var e={};return _n(h,function(t,s){se.call(h.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),h.VERSION=o,ze(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){h[e].placeholder=h}),ze(["drop","take"],function(e,t){Q.prototype[e]=function(s){s=s===i?1:_e(J(s),0);var l=this.__filtered__&&!t?new Q(this):this.clone();return l.__filtered__?l.__takeCount__=Ce(s,l.__takeCount__):l.__views__.push({size:Ce(s,mn),type:e+(l.__dir__<0?"Right":"")}),l},Q.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),ze(["filter","map","takeWhile"],function(e,t){var s=t+1,l=s==_u||s==gh;Q.prototype[e]=function(c){var p=this.clone();return p.__iteratees__.push({iteratee:U(c,3),type:s}),p.__filtered__=p.__filtered__||l,p}}),ze(["head","last"],function(e,t){var s="take"+(t?"Right":"");Q.prototype[e]=function(){return this[s](1).value()[0]}}),ze(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");Q.prototype[e]=function(){return this.__filtered__?new Q(this):this[s](1)}}),Q.prototype.compact=function(){return this.filter($e)},Q.prototype.find=function(e){return this.filter(e).head()},Q.prototype.findLast=function(e){return this.reverse().find(e)},Q.prototype.invokeMap=X(function(e,t){return typeof e=="function"?new Q(this):this.map(function(s){return ur(s,e,t)})}),Q.prototype.reject=function(e){return this.filter(_i(U(e)))},Q.prototype.slice=function(e,t){e=J(e);var s=this;return s.__filtered__&&(e>0||t<0)?new Q(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==i&&(t=J(t),s=t<0?s.dropRight(-t):s.take(t-e)),s)},Q.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Q.prototype.toArray=function(){return this.take(mn)},_n(Q.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),c=h[l?"take"+(t=="last"?"Right":""):t],p=l||/^find/.test(t);c&&(h.prototype[t]=function(){var g=this.__wrapped__,_=l?[1]:arguments,y=g instanceof Q,C=_[0],E=y||K(g),I=function(Z){var ee=c.apply(h,Un([Z],_));return l&&k?ee[0]:ee};E&&s&&typeof C=="function"&&C.length!=1&&(y=E=!1);var k=this.__chain__,P=!!this.__actions__.length,W=p&&!k,V=y&&!P;if(!p&&E){g=V?g:new Q(this);var H=e.apply(g,_);return H.__actions__.push({func:pi,args:[I],thisArg:i}),new Ze(H,k)}return W&&V?e.apply(this,_):(H=this.thru(I),W?l?H.value()[0]:H.value():H)})}),ze(["pop","push","shift","sort","splice","unshift"],function(e){var t=Dr[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);h.prototype[e]=function(){var c=arguments;if(l&&!this.__chain__){var p=this.value();return t.apply(K(p)?p:[],c)}return this[s](function(g){return t.apply(K(g)?g:[],c)})}}),_n(Q.prototype,function(e,t){var s=h[t];if(s){var l=s.name+"";se.call(St,l)||(St[l]=[]),St[l].push({name:t,func:s})}}),St[oi(i,Y).name]=[{name:"wrapper",func:i}],Q.prototype.clone=vd,Q.prototype.reverse=yd,Q.prototype.value=xd,h.prototype.at=V0,h.prototype.chain=z0,h.prototype.commit=X0,h.prototype.next=Z0,h.prototype.plant=em,h.prototype.reverse=nm,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=tm,h.prototype.first=h.prototype.head,er&&(h.prototype[er]=Q0),h},wt=Xp();rt?((rt.exports=wt)._=wt,Rs._=wt):xe._=wt}).call(dr)})(Ii,Ii.exports);var hy=Ii.exports;const L=Sc(hy),ht={};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Cc(n){return typeof n>"u"||n===null}function py(n){return typeof n=="object"&&n!==null}function dy(n){return Array.isArray(n)?n:Cc(n)?[]:[n]}function gy(n,r){var i,o,u,a;if(r)for(a=Object.keys(r),i=0,o=a.length;i<o;i+=1)u=a[i],n[u]=r[u];return n}function my(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function _y(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var vy=Cc,yy=py,xy=dy,wy=my,by=_y,Ay=gy,ve={isNothing:vy,isObject:yy,toArray:xy,repeat:wy,isNegativeZero:by,extend:Ay};function Ec(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function vr(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=Ec(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}vr.prototype=Object.create(Error.prototype);vr.prototype.constructor=vr;vr.prototype.toString=function(r){return this.name+": "+Ec(this,r)};var Oe=vr;function Mo(n,r,i,o,u){var a="",f="",d=Math.floor(u/2)-1;return o-r>d&&(a=" ... ",r=o-d+a.length),i-o>d&&(f=" ...",i=o+d-f.length),{str:a+n.slice(r,i).replace(/\t/g,"→")+f,pos:o-r+a.length}}function Po(n,r){return ve.repeat(" ",r-n.length)+n}function Sy(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],u=[],a,f=-1;a=i.exec(n.buffer);)u.push(a.index),o.push(a.index+a[0].length),n.position<=a.index&&f<0&&(f=o.length-2);f<0&&(f=o.length-1);var d="",m,b,A=Math.min(n.line+r.linesAfter,u.length).toString().length,w=r.maxLength-(r.indent+A+3);for(m=1;m<=r.linesBefore&&!(f-m<0);m++)b=Mo(n.buffer,o[f-m],u[f-m],n.position-(o[f]-o[f-m]),w),d=ve.repeat(" ",r.indent)+Po((n.line-m+1).toString(),A)+" | "+b.str+`
`+d;for(b=Mo(n.buffer,o[f],u[f],n.position,w),d+=ve.repeat(" ",r.indent)+Po((n.line+1).toString(),A)+" | "+b.str+`
`,d+=ve.repeat("-",r.indent+A+3+b.pos)+`^
`,m=1;m<=r.linesAfter&&!(f+m>=u.length);m++)b=Mo(n.buffer,o[f+m],u[f+m],n.position-(o[f]-o[f+m]),w),d+=ve.repeat(" ",r.indent)+Po((n.line+m+1).toString(),A)+" | "+b.str+`
`;return d.replace(/\n$/,"")}var Cy=Sy,Ey=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Iy=["scalar","sequence","mapping"];function Ry(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function Ty(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(Ey.indexOf(i)===-1)throw new Oe('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=Ry(r.styleAliases||null),Iy.indexOf(this.kind)===-1)throw new Oe('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var be=Ty;function za(n,r){var i=[];return n[r].forEach(function(o){var u=i.length;i.forEach(function(a,f){a.tag===o.tag&&a.kind===o.kind&&a.multi===o.multi&&(u=f)}),i[u]=o}),i}function Ly(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(u){u.multi?(n.multi[u.kind].push(u),n.multi.fallback.push(u)):n[u.kind][u.tag]=n.fallback[u.tag]=u}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function Go(n){return this.extend(n)}Go.prototype.extend=function(r){var i=[],o=[];if(r instanceof be)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Oe("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(a){if(!(a instanceof be))throw new Oe("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Oe("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Oe("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(a){if(!(a instanceof be))throw new Oe("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var u=Object.create(Go.prototype);return u.implicit=(this.implicit||[]).concat(i),u.explicit=(this.explicit||[]).concat(o),u.compiledImplicit=za(u,"implicit"),u.compiledExplicit=za(u,"explicit"),u.compiledTypeMap=Ly(u.compiledImplicit,u.compiledExplicit),u};var Ic=Go,Rc=new be("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),Tc=new be("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),Lc=new be("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),kc=new Ic({explicit:[Rc,Tc,Lc]});function ky(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function Oy(){return null}function Fy(n){return n===null}var Oc=new be("tag:yaml.org,2002:null",{kind:"scalar",resolve:ky,construct:Oy,predicate:Fy,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function My(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function Py(n){return n==="true"||n==="True"||n==="TRUE"}function By(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var Fc=new be("tag:yaml.org,2002:bool",{kind:"scalar",resolve:My,construct:Py,predicate:By,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function Ny(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function $y(n){return 48<=n&&n<=55}function Dy(n){return 48<=n&&n<=57}function Uy(n){if(n===null)return!1;var r=n.length,i=0,o=!1,u;if(!r)return!1;if(u=n[i],(u==="-"||u==="+")&&(u=n[++i]),u==="0"){if(i+1===r)return!0;if(u=n[++i],u==="b"){for(i++;i<r;i++)if(u=n[i],u!=="_"){if(u!=="0"&&u!=="1")return!1;o=!0}return o&&u!=="_"}if(u==="x"){for(i++;i<r;i++)if(u=n[i],u!=="_"){if(!Ny(n.charCodeAt(i)))return!1;o=!0}return o&&u!=="_"}if(u==="o"){for(i++;i<r;i++)if(u=n[i],u!=="_"){if(!$y(n.charCodeAt(i)))return!1;o=!0}return o&&u!=="_"}}if(u==="_")return!1;for(;i<r;i++)if(u=n[i],u!=="_"){if(!Dy(n.charCodeAt(i)))return!1;o=!0}return!(!o||u==="_")}function Wy(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function Hy(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!ve.isNegativeZero(n)}var Mc=new be("tag:yaml.org,2002:int",{kind:"scalar",resolve:Uy,construct:Wy,predicate:Hy,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),qy=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Gy(n){return!(n===null||!qy.test(n)||n[n.length-1]==="_")}function Yy(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var Ky=/^[-+]?[0-9]+e/;function jy(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ve.isNegativeZero(n))return"-0.0";return i=n.toString(10),Ky.test(i)?i.replace("e",".e"):i}function Jy(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||ve.isNegativeZero(n))}var Pc=new be("tag:yaml.org,2002:float",{kind:"scalar",resolve:Gy,construct:Yy,predicate:Jy,represent:jy,defaultStyle:"lowercase"}),Bc=kc.extend({implicit:[Oc,Fc,Mc,Pc]}),Nc=Bc,$c=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Dc=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Vy(n){return n===null?!1:$c.exec(n)!==null||Dc.exec(n)!==null}function zy(n){var r,i,o,u,a,f,d,m=0,b=null,A,w,R;if(r=$c.exec(n),r===null&&(r=Dc.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,u=+r[3],!r[4])return new Date(Date.UTC(i,o,u));if(a=+r[4],f=+r[5],d=+r[6],r[7]){for(m=r[7].slice(0,3);m.length<3;)m+="0";m=+m}return r[9]&&(A=+r[10],w=+(r[11]||0),b=(A*60+w)*6e4,r[9]==="-"&&(b=-b)),R=new Date(Date.UTC(i,o,u,a,f,d,m)),b&&R.setTime(R.getTime()-b),R}function Xy(n){return n.toISOString()}var Uc=new be("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Vy,construct:zy,instanceOf:Date,represent:Xy});function Zy(n){return n==="<<"||n===null}var Wc=new be("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Zy}),nu=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Qy(n){if(n===null)return!1;var r,i,o=0,u=n.length,a=nu;for(i=0;i<u;i++)if(r=a.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function e1(n){var r,i,o=n.replace(/[\r\n=]/g,""),u=o.length,a=nu,f=0,d=[];for(r=0;r<u;r++)r%4===0&&r&&(d.push(f>>16&255),d.push(f>>8&255),d.push(f&255)),f=f<<6|a.indexOf(o.charAt(r));return i=u%4*6,i===0?(d.push(f>>16&255),d.push(f>>8&255),d.push(f&255)):i===18?(d.push(f>>10&255),d.push(f>>2&255)):i===12&&d.push(f>>4&255),new Uint8Array(d)}function n1(n){var r="",i=0,o,u,a=n.length,f=nu;for(o=0;o<a;o++)o%3===0&&o&&(r+=f[i>>18&63],r+=f[i>>12&63],r+=f[i>>6&63],r+=f[i&63]),i=(i<<8)+n[o];return u=a%3,u===0?(r+=f[i>>18&63],r+=f[i>>12&63],r+=f[i>>6&63],r+=f[i&63]):u===2?(r+=f[i>>10&63],r+=f[i>>4&63],r+=f[i<<2&63],r+=f[64]):u===1&&(r+=f[i>>2&63],r+=f[i<<4&63],r+=f[64],r+=f[64]),r}function t1(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var Hc=new be("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Qy,construct:e1,predicate:t1,represent:n1}),r1=Object.prototype.hasOwnProperty,i1=Object.prototype.toString;function s1(n){if(n===null)return!0;var r=[],i,o,u,a,f,d=n;for(i=0,o=d.length;i<o;i+=1){if(u=d[i],f=!1,i1.call(u)!=="[object Object]")return!1;for(a in u)if(r1.call(u,a))if(!f)f=!0;else return!1;if(!f)return!1;if(r.indexOf(a)===-1)r.push(a);else return!1}return!0}function o1(n){return n!==null?n:[]}var qc=new be("tag:yaml.org,2002:omap",{kind:"sequence",resolve:s1,construct:o1}),u1=Object.prototype.toString;function l1(n){if(n===null)return!0;var r,i,o,u,a,f=n;for(a=new Array(f.length),r=0,i=f.length;r<i;r+=1){if(o=f[r],u1.call(o)!=="[object Object]"||(u=Object.keys(o),u.length!==1))return!1;a[r]=[u[0],o[u[0]]]}return!0}function a1(n){if(n===null)return[];var r,i,o,u,a,f=n;for(a=new Array(f.length),r=0,i=f.length;r<i;r+=1)o=f[r],u=Object.keys(o),a[r]=[u[0],o[u[0]]];return a}var Gc=new be("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:l1,construct:a1}),c1=Object.prototype.hasOwnProperty;function f1(n){if(n===null)return!0;var r,i=n;for(r in i)if(c1.call(i,r)&&i[r]!==null)return!1;return!0}function h1(n){return n!==null?n:{}}var Yc=new be("tag:yaml.org,2002:set",{kind:"mapping",resolve:f1,construct:h1}),tu=Nc.extend({implicit:[Uc,Wc],explicit:[Hc,qc,Gc,Yc]}),Qn=Object.prototype.hasOwnProperty,Ri=1,Kc=2,jc=3,Ti=4,Bo=1,p1=2,Xa=3,d1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g1=/[\x85\u2028\u2029]/,m1=/[,\[\]\{\}]/,Jc=/^(?:!|!!|![a-z\-]+!)$/i,Vc=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Za(n){return Object.prototype.toString.call(n)}function wn(n){return n===10||n===13}function pt(n){return n===9||n===32}function Ue(n){return n===9||n===32||n===10||n===13}function Mt(n){return n===44||n===91||n===93||n===123||n===125}function _1(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function v1(n){return n===120?2:n===117?4:n===85?8:0}function y1(n){return 48<=n&&n<=57?n-48:-1}function Qa(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?" ":n===76?"\u2028":n===80?"\u2029":""}function x1(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var zc=new Array(256),Xc=new Array(256);for(var kt=0;kt<256;kt++)zc[kt]=Qa(kt)?1:0,Xc[kt]=Qa(kt);function w1(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||tu,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Zc(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=Cy(i),new Oe(r,i)}function $(n,r){throw Zc(n,r)}function Li(n,r){n.onWarning&&n.onWarning.call(null,Zc(n,r))}var ec={YAML:function(r,i,o){var u,a,f;r.version!==null&&$(r,"duplication of %YAML directive"),o.length!==1&&$(r,"YAML directive accepts exactly one argument"),u=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),u===null&&$(r,"ill-formed argument of the YAML directive"),a=parseInt(u[1],10),f=parseInt(u[2],10),a!==1&&$(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=f<2,f!==1&&f!==2&&Li(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var u,a;o.length!==2&&$(r,"TAG directive accepts exactly two arguments"),u=o[0],a=o[1],Jc.test(u)||$(r,"ill-formed tag handle (first argument) of the TAG directive"),Qn.call(r.tagMap,u)&&$(r,'there is a previously declared suffix for "'+u+'" tag handle'),Vc.test(a)||$(r,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{$(r,"tag prefix is malformed: "+a)}r.tagMap[u]=a}};function zn(n,r,i,o){var u,a,f,d;if(r<i){if(d=n.input.slice(r,i),o)for(u=0,a=d.length;u<a;u+=1)f=d.charCodeAt(u),f===9||32<=f&&f<=1114111||$(n,"expected valid JSON character");else d1.test(d)&&$(n,"the stream contains non-printable characters");n.result+=d}}function nc(n,r,i,o){var u,a,f,d;for(ve.isObject(i)||$(n,"cannot merge mappings; the provided source object is unacceptable"),u=Object.keys(i),f=0,d=u.length;f<d;f+=1)a=u[f],Qn.call(r,a)||(r[a]=i[a],o[a]=!0)}function Pt(n,r,i,o,u,a,f,d,m){var b,A;if(Array.isArray(u))for(u=Array.prototype.slice.call(u),b=0,A=u.length;b<A;b+=1)Array.isArray(u[b])&&$(n,"nested arrays are not supported inside keys"),typeof u=="object"&&Za(u[b])==="[object Object]"&&(u[b]="[object Object]");if(typeof u=="object"&&Za(u)==="[object Object]"&&(u="[object Object]"),u=String(u),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(b=0,A=a.length;b<A;b+=1)nc(n,r,a[b],i);else nc(n,r,a,i);else!n.json&&!Qn.call(i,u)&&Qn.call(r,u)&&(n.line=f||n.line,n.lineStart=d||n.lineStart,n.position=m||n.position,$(n,"duplicated mapping key")),u==="__proto__"?Object.defineProperty(r,u,{configurable:!0,enumerable:!0,writable:!0,value:a}):r[u]=a,delete i[u];return r}function ru(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):$(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function ge(n,r,i){for(var o=0,u=n.input.charCodeAt(n.position);u!==0;){for(;pt(u);)u===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),u=n.input.charCodeAt(++n.position);if(r&&u===35)do u=n.input.charCodeAt(++n.position);while(u!==10&&u!==13&&u!==0);if(wn(u))for(ru(n),u=n.input.charCodeAt(n.position),o++,n.lineIndent=0;u===32;)n.lineIndent++,u=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&Li(n,"deficient indentation"),o}function es(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||Ue(i)))}function iu(n,r){r===1?n.result+=" ":r>1&&(n.result+=ve.repeat(`
`,r-1))}function b1(n,r,i){var o,u,a,f,d,m,b,A,w=n.kind,R=n.result,T;if(T=n.input.charCodeAt(n.position),Ue(T)||Mt(T)||T===35||T===38||T===42||T===33||T===124||T===62||T===39||T===34||T===37||T===64||T===96||(T===63||T===45)&&(u=n.input.charCodeAt(n.position+1),Ue(u)||i&&Mt(u)))return!1;for(n.kind="scalar",n.result="",a=f=n.position,d=!1;T!==0;){if(T===58){if(u=n.input.charCodeAt(n.position+1),Ue(u)||i&&Mt(u))break}else if(T===35){if(o=n.input.charCodeAt(n.position-1),Ue(o))break}else{if(n.position===n.lineStart&&es(n)||i&&Mt(T))break;if(wn(T))if(m=n.line,b=n.lineStart,A=n.lineIndent,ge(n,!1,-1),n.lineIndent>=r){d=!0,T=n.input.charCodeAt(n.position);continue}else{n.position=f,n.line=m,n.lineStart=b,n.lineIndent=A;break}}d&&(zn(n,a,f,!1),iu(n,n.line-m),a=f=n.position,d=!1),pt(T)||(f=n.position+1),T=n.input.charCodeAt(++n.position)}return zn(n,a,f,!1),n.result?!0:(n.kind=w,n.result=R,!1)}function A1(n,r){var i,o,u;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=u=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(zn(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,u=n.position;else return!0;else wn(i)?(zn(n,o,u,!0),iu(n,ge(n,!1,r)),o=u=n.position):n.position===n.lineStart&&es(n)?$(n,"unexpected end of the document within a single quoted scalar"):(n.position++,u=n.position);$(n,"unexpected end of the stream within a single quoted scalar")}function S1(n,r){var i,o,u,a,f,d;if(d=n.input.charCodeAt(n.position),d!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(d=n.input.charCodeAt(n.position))!==0;){if(d===34)return zn(n,i,n.position,!0),n.position++,!0;if(d===92){if(zn(n,i,n.position,!0),d=n.input.charCodeAt(++n.position),wn(d))ge(n,!1,r);else if(d<256&&zc[d])n.result+=Xc[d],n.position++;else if((f=v1(d))>0){for(u=f,a=0;u>0;u--)d=n.input.charCodeAt(++n.position),(f=_1(d))>=0?a=(a<<4)+f:$(n,"expected hexadecimal character");n.result+=x1(a),n.position++}else $(n,"unknown escape sequence");i=o=n.position}else wn(d)?(zn(n,i,o,!0),iu(n,ge(n,!1,r)),i=o=n.position):n.position===n.lineStart&&es(n)?$(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}$(n,"unexpected end of the stream within a double quoted scalar")}function C1(n,r){var i=!0,o,u,a,f=n.tag,d,m=n.anchor,b,A,w,R,T,O=Object.create(null),q,N,Y,D;if(D=n.input.charCodeAt(n.position),D===91)A=93,T=!1,d=[];else if(D===123)A=125,T=!0,d={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=d),D=n.input.charCodeAt(++n.position);D!==0;){if(ge(n,!0,r),D=n.input.charCodeAt(n.position),D===A)return n.position++,n.tag=f,n.anchor=m,n.kind=T?"mapping":"sequence",n.result=d,!0;i?D===44&&$(n,"expected the node content, but found ','"):$(n,"missed comma between flow collection entries"),N=q=Y=null,w=R=!1,D===63&&(b=n.input.charCodeAt(n.position+1),Ue(b)&&(w=R=!0,n.position++,ge(n,!0,r))),o=n.line,u=n.lineStart,a=n.position,Dt(n,r,Ri,!1,!0),N=n.tag,q=n.result,ge(n,!0,r),D=n.input.charCodeAt(n.position),(R||n.line===o)&&D===58&&(w=!0,D=n.input.charCodeAt(++n.position),ge(n,!0,r),Dt(n,r,Ri,!1,!0),Y=n.result),T?Pt(n,d,O,N,q,Y,o,u,a):w?d.push(Pt(n,null,O,N,q,Y,o,u,a)):d.push(q),ge(n,!0,r),D=n.input.charCodeAt(n.position),D===44?(i=!0,D=n.input.charCodeAt(++n.position)):i=!1}$(n,"unexpected end of the stream within a flow collection")}function E1(n,r){var i,o,u=Bo,a=!1,f=!1,d=r,m=0,b=!1,A,w;if(w=n.input.charCodeAt(n.position),w===124)o=!1;else if(w===62)o=!0;else return!1;for(n.kind="scalar",n.result="";w!==0;)if(w=n.input.charCodeAt(++n.position),w===43||w===45)Bo===u?u=w===43?Xa:p1:$(n,"repeat of a chomping mode identifier");else if((A=y1(w))>=0)A===0?$(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):f?$(n,"repeat of an indentation width identifier"):(d=r+A-1,f=!0);else break;if(pt(w)){do w=n.input.charCodeAt(++n.position);while(pt(w));if(w===35)do w=n.input.charCodeAt(++n.position);while(!wn(w)&&w!==0)}for(;w!==0;){for(ru(n),n.lineIndent=0,w=n.input.charCodeAt(n.position);(!f||n.lineIndent<d)&&w===32;)n.lineIndent++,w=n.input.charCodeAt(++n.position);if(!f&&n.lineIndent>d&&(d=n.lineIndent),wn(w)){m++;continue}if(n.lineIndent<d){u===Xa?n.result+=ve.repeat(`
`,a?1+m:m):u===Bo&&a&&(n.result+=`
`);break}for(o?pt(w)?(b=!0,n.result+=ve.repeat(`
`,a?1+m:m)):b?(b=!1,n.result+=ve.repeat(`
`,m+1)):m===0?a&&(n.result+=" "):n.result+=ve.repeat(`
`,m):n.result+=ve.repeat(`
`,a?1+m:m),a=!0,f=!0,m=0,i=n.position;!wn(w)&&w!==0;)w=n.input.charCodeAt(++n.position);zn(n,i,n.position,!1)}return!0}function tc(n,r){var i,o=n.tag,u=n.anchor,a=[],f,d=!1,m;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=a),m=n.input.charCodeAt(n.position);m!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,$(n,"tab characters must not be used in indentation")),!(m!==45||(f=n.input.charCodeAt(n.position+1),!Ue(f))));){if(d=!0,n.position++,ge(n,!0,-1)&&n.lineIndent<=r){a.push(null),m=n.input.charCodeAt(n.position);continue}if(i=n.line,Dt(n,r,jc,!1,!0),a.push(n.result),ge(n,!0,-1),m=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&m!==0)$(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return d?(n.tag=o,n.anchor=u,n.kind="sequence",n.result=a,!0):!1}function I1(n,r,i){var o,u,a,f,d,m,b=n.tag,A=n.anchor,w={},R=Object.create(null),T=null,O=null,q=null,N=!1,Y=!1,D;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=w),D=n.input.charCodeAt(n.position);D!==0;){if(!N&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,$(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),a=n.line,(D===63||D===58)&&Ue(o))D===63?(N&&(Pt(n,w,R,T,O,null,f,d,m),T=O=q=null),Y=!0,N=!0,u=!0):N?(N=!1,u=!0):$(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,D=o;else{if(f=n.line,d=n.lineStart,m=n.position,!Dt(n,i,Kc,!1,!0))break;if(n.line===a){for(D=n.input.charCodeAt(n.position);pt(D);)D=n.input.charCodeAt(++n.position);if(D===58)D=n.input.charCodeAt(++n.position),Ue(D)||$(n,"a whitespace character is expected after the key-value separator within a block mapping"),N&&(Pt(n,w,R,T,O,null,f,d,m),T=O=q=null),Y=!0,N=!1,u=!1,T=n.tag,O=n.result;else if(Y)$(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=b,n.anchor=A,!0}else if(Y)$(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=b,n.anchor=A,!0}if((n.line===a||n.lineIndent>r)&&(N&&(f=n.line,d=n.lineStart,m=n.position),Dt(n,r,Ti,!0,u)&&(N?O=n.result:q=n.result),N||(Pt(n,w,R,T,O,q,f,d,m),T=O=q=null),ge(n,!0,-1),D=n.input.charCodeAt(n.position)),(n.line===a||n.lineIndent>r)&&D!==0)$(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return N&&Pt(n,w,R,T,O,null,f,d,m),Y&&(n.tag=b,n.anchor=A,n.kind="mapping",n.result=w),Y}function R1(n){var r,i=!1,o=!1,u,a,f;if(f=n.input.charCodeAt(n.position),f!==33)return!1;if(n.tag!==null&&$(n,"duplication of a tag property"),f=n.input.charCodeAt(++n.position),f===60?(i=!0,f=n.input.charCodeAt(++n.position)):f===33?(o=!0,u="!!",f=n.input.charCodeAt(++n.position)):u="!",r=n.position,i){do f=n.input.charCodeAt(++n.position);while(f!==0&&f!==62);n.position<n.length?(a=n.input.slice(r,n.position),f=n.input.charCodeAt(++n.position)):$(n,"unexpected end of the stream within a verbatim tag")}else{for(;f!==0&&!Ue(f);)f===33&&(o?$(n,"tag suffix cannot contain exclamation marks"):(u=n.input.slice(r-1,n.position+1),Jc.test(u)||$(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),f=n.input.charCodeAt(++n.position);a=n.input.slice(r,n.position),m1.test(a)&&$(n,"tag suffix cannot contain flow indicator characters")}a&&!Vc.test(a)&&$(n,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{$(n,"tag name is malformed: "+a)}return i?n.tag=a:Qn.call(n.tagMap,u)?n.tag=n.tagMap[u]+a:u==="!"?n.tag="!"+a:u==="!!"?n.tag="tag:yaml.org,2002:"+a:$(n,'undeclared tag handle "'+u+'"'),!0}function T1(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&$(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!Ue(i)&&!Mt(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&$(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function L1(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Ue(o)&&!Mt(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&$(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),Qn.call(n.anchorMap,i)||$(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],ge(n,!0,-1),!0}function Dt(n,r,i,o,u){var a,f,d,m=1,b=!1,A=!1,w,R,T,O,q,N;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,a=f=d=Ti===i||jc===i,o&&ge(n,!0,-1)&&(b=!0,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)),m===1)for(;R1(n)||T1(n);)ge(n,!0,-1)?(b=!0,d=a,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)):d=!1;if(d&&(d=b||u),(m===1||Ti===i)&&(Ri===i||Kc===i?q=r:q=r+1,N=n.position-n.lineStart,m===1?d&&(tc(n,N)||I1(n,N,q))||C1(n,q)?A=!0:(f&&E1(n,q)||A1(n,q)||S1(n,q)?A=!0:L1(n)?(A=!0,(n.tag!==null||n.anchor!==null)&&$(n,"alias node should not have any properties")):b1(n,q,Ri===i)&&(A=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):m===0&&(A=d&&tc(n,N))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&$(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),w=0,R=n.implicitTypes.length;w<R;w+=1)if(O=n.implicitTypes[w],O.resolve(n.result)){n.result=O.construct(n.result),n.tag=O.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Qn.call(n.typeMap[n.kind||"fallback"],n.tag))O=n.typeMap[n.kind||"fallback"][n.tag];else for(O=null,T=n.typeMap.multi[n.kind||"fallback"],w=0,R=T.length;w<R;w+=1)if(n.tag.slice(0,T[w].tag.length)===T[w].tag){O=T[w];break}O||$(n,"unknown tag !<"+n.tag+">"),n.result!==null&&O.kind!==n.kind&&$(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+O.kind+'", not "'+n.kind+'"'),O.resolve(n.result,n.tag)?(n.result=O.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):$(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||A}function k1(n){var r=n.position,i,o,u,a=!1,f;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(f=n.input.charCodeAt(n.position))!==0&&(ge(n,!0,-1),f=n.input.charCodeAt(n.position),!(n.lineIndent>0||f!==37));){for(a=!0,f=n.input.charCodeAt(++n.position),i=n.position;f!==0&&!Ue(f);)f=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),u=[],o.length<1&&$(n,"directive name must not be less than one character in length");f!==0;){for(;pt(f);)f=n.input.charCodeAt(++n.position);if(f===35){do f=n.input.charCodeAt(++n.position);while(f!==0&&!wn(f));break}if(wn(f))break;for(i=n.position;f!==0&&!Ue(f);)f=n.input.charCodeAt(++n.position);u.push(n.input.slice(i,n.position))}f!==0&&ru(n),Qn.call(ec,o)?ec[o](n,o,u):Li(n,'unknown document directive "'+o+'"')}if(ge(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,ge(n,!0,-1)):a&&$(n,"directives end mark is expected"),Dt(n,n.lineIndent-1,Ti,!1,!0),ge(n,!0,-1),n.checkLineBreaks&&g1.test(n.input.slice(r,n.position))&&Li(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&es(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,ge(n,!0,-1));return}if(n.position<n.length-1)$(n,"end of the stream or a document separator is expected");else return}function Qc(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new w1(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,$(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)k1(i);return i.documents}function O1(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=Qc(n,i);if(typeof r!="function")return o;for(var u=0,a=o.length;u<a;u+=1)r(o[u])}function F1(n,r){var i=Qc(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new Oe("expected a single document in the stream, but found more")}}var M1=O1,P1=F1,ef={loadAll:M1,load:P1},nf=Object.prototype.toString,tf=Object.prototype.hasOwnProperty,su=65279,B1=9,yr=10,N1=13,$1=32,D1=33,U1=34,Yo=35,W1=37,H1=38,q1=39,G1=42,rf=44,Y1=45,ki=58,K1=61,j1=62,J1=63,V1=64,sf=91,of=93,z1=96,uf=123,X1=124,lf=125,Ie={};Ie[0]="\\0";Ie[7]="\\a";Ie[8]="\\b";Ie[9]="\\t";Ie[10]="\\n";Ie[11]="\\v";Ie[12]="\\f";Ie[13]="\\r";Ie[27]="\\e";Ie[34]='\\"';Ie[92]="\\\\";Ie[133]="\\N";Ie[160]="\\_";Ie[8232]="\\L";Ie[8233]="\\P";var Z1=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Q1=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ex(n,r){var i,o,u,a,f,d,m;if(r===null)return{};for(i={},o=Object.keys(r),u=0,a=o.length;u<a;u+=1)f=o[u],d=String(r[f]),f.slice(0,2)==="!!"&&(f="tag:yaml.org,2002:"+f.slice(2)),m=n.compiledTypeMap.fallback[f],m&&tf.call(m.styleAliases,d)&&(d=m.styleAliases[d]),i[f]=d;return i}function nx(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new Oe("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+ve.repeat("0",o-r.length)+r}var tx=1,xr=2;function rx(n){this.schema=n.schema||tu,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=ve.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=ex(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?xr:tx,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function rc(n,r){for(var i=ve.repeat(" ",r),o=0,u=-1,a="",f,d=n.length;o<d;)u=n.indexOf(`
`,o),u===-1?(f=n.slice(o),o=d):(f=n.slice(o,u+1),o=u+1),f.length&&f!==`
`&&(a+=i),a+=f;return a}function Ko(n,r){return`
`+ve.repeat(" ",n.indent*r)}function ix(n,r){var i,o,u;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(u=n.implicitTypes[i],u.resolve(r))return!0;return!1}function Oi(n){return n===$1||n===B1}function wr(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==su||65536<=n&&n<=1114111}function ic(n){return wr(n)&&n!==su&&n!==N1&&n!==yr}function sc(n,r,i){var o=ic(n),u=o&&!Oi(n);return(i?o:o&&n!==rf&&n!==sf&&n!==of&&n!==uf&&n!==lf)&&n!==Yo&&!(r===ki&&!u)||ic(r)&&!Oi(r)&&n===Yo||r===ki&&u}function sx(n){return wr(n)&&n!==su&&!Oi(n)&&n!==Y1&&n!==J1&&n!==ki&&n!==rf&&n!==sf&&n!==of&&n!==uf&&n!==lf&&n!==Yo&&n!==H1&&n!==G1&&n!==D1&&n!==X1&&n!==K1&&n!==j1&&n!==q1&&n!==U1&&n!==W1&&n!==V1&&n!==z1}function ox(n){return!Oi(n)&&n!==ki}function mr(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function af(n){var r=/^\n* /;return r.test(n)}var cf=1,jo=2,ff=3,hf=4,Ot=5;function ux(n,r,i,o,u,a,f,d){var m,b=0,A=null,w=!1,R=!1,T=o!==-1,O=-1,q=sx(mr(n,0))&&ox(mr(n,n.length-1));if(r||f)for(m=0;m<n.length;b>=65536?m+=2:m++){if(b=mr(n,m),!wr(b))return Ot;q=q&&sc(b,A,d),A=b}else{for(m=0;m<n.length;b>=65536?m+=2:m++){if(b=mr(n,m),b===yr)w=!0,T&&(R=R||m-O-1>o&&n[O+1]!==" ",O=m);else if(!wr(b))return Ot;q=q&&sc(b,A,d),A=b}R=R||T&&m-O-1>o&&n[O+1]!==" "}return!w&&!R?q&&!f&&!u(n)?cf:a===xr?Ot:jo:i>9&&af(n)?Ot:f?a===xr?Ot:jo:R?hf:ff}function lx(n,r,i,o,u){n.dump=function(){if(r.length===0)return n.quotingType===xr?'""':"''";if(!n.noCompatMode&&(Z1.indexOf(r)!==-1||Q1.test(r)))return n.quotingType===xr?'"'+r+'"':"'"+r+"'";var a=n.indent*Math.max(1,i),f=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-a),d=o||n.flowLevel>-1&&i>=n.flowLevel;function m(b){return ix(n,b)}switch(ux(r,d,n.indent,f,m,n.quotingType,n.forceQuotes&&!o,u)){case cf:return r;case jo:return"'"+r.replace(/'/g,"''")+"'";case ff:return"|"+oc(r,n.indent)+uc(rc(r,a));case hf:return">"+oc(r,n.indent)+uc(rc(ax(r,f),a));case Ot:return'"'+cx(r)+'"';default:throw new Oe("impossible error: invalid scalar style")}}()}function oc(n,r){var i=af(n)?String(r):"",o=n[n.length-1]===`
`,u=o&&(n[n.length-2]===`
`||n===`
`),a=u?"+":o?"":"-";return i+a+`
`}function uc(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function ax(n,r){for(var i=/(\n+)([^\n]*)/g,o=function(){var b=n.indexOf(`
`);return b=b!==-1?b:n.length,i.lastIndex=b,lc(n.slice(0,b),r)}(),u=n[0]===`
`||n[0]===" ",a,f;f=i.exec(n);){var d=f[1],m=f[2];a=m[0]===" ",o+=d+(!u&&!a&&m!==""?`
`:"")+lc(m,r),u=a}return o}function lc(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,u=0,a,f=0,d=0,m="";o=i.exec(n);)d=o.index,d-u>r&&(a=f>u?f:d,m+=`
`+n.slice(u,a),u=a+1),f=d;return m+=`
`,n.length-u>r&&f>u?m+=n.slice(u,f)+`
`+n.slice(f+1):m+=n.slice(u),m.slice(1)}function cx(n){for(var r="",i=0,o,u=0;u<n.length;i>=65536?u+=2:u++)i=mr(n,u),o=Ie[i],!o&&wr(i)?(r+=n[u],i>=65536&&(r+=n[u+1])):r+=o||nx(i);return r}function fx(n,r,i){var o="",u=n.tag,a,f,d;for(a=0,f=i.length;a<f;a+=1)d=i[a],n.replacer&&(d=n.replacer.call(i,String(a),d)),(Bn(n,r,d,!1,!1)||typeof d>"u"&&Bn(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=u,n.dump="["+o+"]"}function ac(n,r,i,o){var u="",a=n.tag,f,d,m;for(f=0,d=i.length;f<d;f+=1)m=i[f],n.replacer&&(m=n.replacer.call(i,String(f),m)),(Bn(n,r+1,m,!0,!0,!1,!0)||typeof m>"u"&&Bn(n,r+1,null,!0,!0,!1,!0))&&((!o||u!=="")&&(u+=Ko(n,r)),n.dump&&yr===n.dump.charCodeAt(0)?u+="-":u+="- ",u+=n.dump);n.tag=a,n.dump=u||"[]"}function hx(n,r,i){var o="",u=n.tag,a=Object.keys(i),f,d,m,b,A;for(f=0,d=a.length;f<d;f+=1)A="",o!==""&&(A+=", "),n.condenseFlow&&(A+='"'),m=a[f],b=i[m],n.replacer&&(b=n.replacer.call(i,m,b)),Bn(n,r,m,!1,!1)&&(n.dump.length>1024&&(A+="? "),A+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),Bn(n,r,b,!1,!1)&&(A+=n.dump,o+=A));n.tag=u,n.dump="{"+o+"}"}function px(n,r,i,o){var u="",a=n.tag,f=Object.keys(i),d,m,b,A,w,R;if(n.sortKeys===!0)f.sort();else if(typeof n.sortKeys=="function")f.sort(n.sortKeys);else if(n.sortKeys)throw new Oe("sortKeys must be a boolean or a function");for(d=0,m=f.length;d<m;d+=1)R="",(!o||u!=="")&&(R+=Ko(n,r)),b=f[d],A=i[b],n.replacer&&(A=n.replacer.call(i,b,A)),Bn(n,r+1,b,!0,!0,!0)&&(w=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,w&&(n.dump&&yr===n.dump.charCodeAt(0)?R+="?":R+="? "),R+=n.dump,w&&(R+=Ko(n,r)),Bn(n,r+1,A,!0,w)&&(n.dump&&yr===n.dump.charCodeAt(0)?R+=":":R+=": ",R+=n.dump,u+=R));n.tag=a,n.dump=u||"{}"}function cc(n,r,i){var o,u,a,f,d,m;for(u=i?n.explicitTypes:n.implicitTypes,a=0,f=u.length;a<f;a+=1)if(d=u[a],(d.instanceOf||d.predicate)&&(!d.instanceOf||typeof r=="object"&&r instanceof d.instanceOf)&&(!d.predicate||d.predicate(r))){if(i?d.multi&&d.representName?n.tag=d.representName(r):n.tag=d.tag:n.tag="?",d.represent){if(m=n.styleMap[d.tag]||d.defaultStyle,nf.call(d.represent)==="[object Function]")o=d.represent(r,m);else if(tf.call(d.represent,m))o=d.represent[m](r,m);else throw new Oe("!<"+d.tag+'> tag resolver accepts not "'+m+'" style');n.dump=o}return!0}return!1}function Bn(n,r,i,o,u,a,f){n.tag=null,n.dump=i,cc(n,i,!1)||cc(n,i,!0);var d=nf.call(n.dump),m=o,b;o&&(o=n.flowLevel<0||n.flowLevel>r);var A=d==="[object Object]"||d==="[object Array]",w,R;if(A&&(w=n.duplicates.indexOf(i),R=w!==-1),(n.tag!==null&&n.tag!=="?"||R||n.indent!==2&&r>0)&&(u=!1),R&&n.usedDuplicates[w])n.dump="*ref_"+w;else{if(A&&R&&!n.usedDuplicates[w]&&(n.usedDuplicates[w]=!0),d==="[object Object]")o&&Object.keys(n.dump).length!==0?(px(n,r,n.dump,u),R&&(n.dump="&ref_"+w+n.dump)):(hx(n,r,n.dump),R&&(n.dump="&ref_"+w+" "+n.dump));else if(d==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!f&&r>0?ac(n,r-1,n.dump,u):ac(n,r,n.dump,u),R&&(n.dump="&ref_"+w+n.dump)):(fx(n,r,n.dump),R&&(n.dump="&ref_"+w+" "+n.dump));else if(d==="[object String]")n.tag!=="?"&&lx(n,n.dump,r,a,m);else{if(d==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Oe("unacceptable kind of an object to dump "+d)}n.tag!==null&&n.tag!=="?"&&(b=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?b="!"+b:b.slice(0,18)==="tag:yaml.org,2002:"?b="!!"+b.slice(18):b="!<"+b+">",n.dump=b+" "+n.dump)}return!0}function dx(n,r){var i=[],o=[],u,a;for(Jo(n,i,o),u=0,a=o.length;u<a;u+=1)r.duplicates.push(i[o[u]]);r.usedDuplicates=new Array(a)}function Jo(n,r,i){var o,u,a;if(n!==null&&typeof n=="object")if(u=r.indexOf(n),u!==-1)i.indexOf(u)===-1&&i.push(u);else if(r.push(n),Array.isArray(n))for(u=0,a=n.length;u<a;u+=1)Jo(n[u],r,i);else for(o=Object.keys(n),u=0,a=o.length;u<a;u+=1)Jo(n[o[u]],r,i)}function gx(n,r){r=r||{};var i=new rx(r);i.noRefs||dx(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),Bn(i,0,o,!0,!0)?i.dump+`
`:""}var mx=gx,_x={dump:mx};function ou(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var vx=be,yx=Ic,xx=kc,wx=Bc,bx=Nc,Ax=tu,Sx=ef.load,Cx=ef.loadAll,Ex=_x.dump,Ix=Oe,Rx={binary:Hc,float:Pc,map:Lc,null:Oc,pairs:Gc,set:Yc,timestamp:Uc,bool:Fc,int:Mc,merge:Wc,omap:qc,seq:Tc,str:Rc},Tx=ou("safeLoad","load"),Lx=ou("safeLoadAll","loadAll"),kx=ou("safeDump","dump"),Ut={Type:vx,Schema:yx,FAILSAFE_SCHEMA:xx,JSON_SCHEMA:wx,CORE_SCHEMA:bx,DEFAULT_SCHEMA:Ax,load:Sx,loadAll:Cx,dump:Ex,YAMLException:Ix,types:Rx,safeLoad:Tx,safeLoadAll:Lx,safeDump:kx};function Ox(n,r){const i=n;for(const o in r){const u=r[o];if(u)for(const a of u)i[a]=n[o]}return i}function pf(n,r){Object.assign(n,sn.function(r)?r(n):r)}function Fx(n,...r){return typeof n=="string"?i=>i[n](...r):i=>n(i,...r)}function nt(n){throw typeof n=="string"?new Error(n):n}function Mx(n){return(...r)=>nt(n)}function df(n,r=nt,i){try{return n()}catch(o){return L.isFunction(r)?r(o):r}finally{i==null||i()}}function Px(n){function r(i){return L.every(n,(o,u)=>o(i[u]))}return r}const gf=Px;function ne(n){return r=>!n(r)}function Bx(n){return L.isFunction(n)}function De(n){function r(i){return n(i)}return r}function gr(n){return De(r=>L.isEqual(r,n))}function Nx(n){return De(r=>r instanceof n)}const $x={undefined:De(L.isUndefined),void:De(L.isUndefined),null:De(L.isNull),nil:De(L.isNil),string:De(L.isString),emptyString:gr(""),number:De(L.isNumber),zero:gr(0),boolean:De(L.isBoolean),false:gr(!1),true:gr(!0),function:Bx,promise:Nx(Promise),object:De(L.isObject),array:jx,regexp:De(L.isRegExp),itself:n=>!0,primitive:De(mf),jsonable:De(wf),jsonableObject:De(ow),defined:n=>!L.isUndefined(n),empty:n=>n.length===0,truthy:n=>!!n,falsy:n=>!n,exactly:gr,above:n=>r=>r>n,below:n=>r=>r<n,atLeast:n=>r=>r>=n,atMost:n=>r=>r<=n,among:vf,match:n=>r=>L.isMatch(r,n),like:gf,typed:Sf,camelCase:tw,anything:(...n)=>!0},sn=uw($x,n=>({not:{undefined:ne(n.undefined),void:ne(n.void),null:ne(n.null),nil:ne(n.nil),string:ne(n.string),emptyString:ne(n.emptyString),number:ne(n.number),zero:ne(n.zero),boolean:ne(n.boolean),false:ne(n.false),true:ne(n.true),function:ne(n.function),promise:ne(n.promise),object:ne(n.object),array:ne(n.array),regexp:ne(n.regexp),itself:ne(n.itself),primitive:ne(n.primitive),jsonable:ne(n.jsonable),jsonableObject:ne(n.jsonableObject),defined:ne(n.defined),empty:ne(n.empty),truthy:ne(n.truthy),falsy:ne(n.falsy),exactly:r=>ne(n.exactly(r)),above:r=>ne(n.above(r)),below:r=>ne(n.below(r)),atLeast:r=>ne(n.atLeast(r)),atMost:r=>ne(n.atMost(r)),among:r=>ne(n.among(r)),like:r=>ne(gf(r)),typed:r=>ne(Sf(r)),match:r=>ne(n.match(r)),camelCase:ne(n.camelCase),anything:ne(n.anything)}})),Dx=sn;sn.not;sn.not;Dx.not;function mf(n){return L.isString(n)||L.isNumber(n)||L.isBoolean(n)||L.isNull(n)||L.isUndefined(n)}function Ux(n,r,i){if(typeof r=="string"||typeof r>"u"){if(i=r,typeof n>"u"||n===null)throw new Error(i??"A variable is undefined. Check the call stack to see which one.");return n}else{const o=r;if(!o(n))throw sn.function(i)&&(i=i(n)),new Error(i??`Variable ${n} did not pass typeguard ${o.name}.`);return n}}const uu={gray:"\x1B[90m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m"},Wx={gray:"🐭",red:"🦊",green:"🐸",yellow:"🐤",blue:"🐬",magenta:"🦄",cyan:"🐳"};L.keys(uu);const br=n=>r=>uu[n]+r+"\x1B[0m";Object.assign(br,L.mapValues(uu,(n,r)=>br(r)));function _f(n){return df(()=>n?(ht.writeFileSync("./logger.json",JSON.stringify(n,null,2)),n):ht.existsSync("./logger.json")?JSON.parse(ht.readFileSync("./logger.json","utf8")):{},r=>r instanceof TypeError?n?(localStorage.setItem("loggerInfo",JSON.stringify(n)),n):JSON.parse(localStorage.getItem("loggerInfo")??"{}"):nt(r))}const Xn=_f();function Hx(n){Xn.lastLogIndex=n,_f(Xn)}const qx={json:n=>JSON.stringify(n,null,2),yaml:n=>Ut.dump(n),none:n=>n};function Vo(n){return L.isFunction(n)?"[Function]":typeof n=="bigint"||typeof n=="symbol"?n.toString():L.isArray(n)?n.map(Vo):L.isPlainObject(n)?L.mapValues(n,Vo):n}function Gx(n,r){const i=ht.join(process.cwd(),"tmp");ht.mkdirSync(i,{recursive:!0});const o=ht.join(i,`${n}.${new Date().toISOString().slice(0,13)}00.log`);return r(o)}function fc(n,r){const{dontShrinkArrays:i}=Xn;return String(mf(n)?n:L.isFunction(n)?n.toString():qx[r](i?n:L.cloneDeepWith(n,o=>{if(L.isArray(o)&&o.length>3)return[...L.sampleSize(o,3),`... ${o.length-3} more elements ...`];if(L.isFunction(o))return o.toString().slice(0,30)})))}function Yx(){return process.memoryUsage().heapUsed/1024/1024}function Kx(){const n=Yx(),r=n-(Xn.lastHeapUsedMB??0),i=Math.abs(r);if(i>=Ux(Xn.logIfHeapIncreasedByMB,"monitorHeapIncrease called although logIfHeapIncreasedByMB is not defined")){const[u,a]=r>0?["magenta","increased"]:["cyan","decreased"];console.log(br[u](`Memory usage ${a} by ${i.toFixed(1)} MB, now at ${n.toFixed(1)} MB`)),Xn.lastHeapUsedMB=n}}function Wt(n,r,i){const o=L.isPlainObject(r)?r:{color:r??"gray",serializeAs:i??"yaml"},u=L.isBoolean(i)?i:!0;typeof n>"u"&&Wt("always").yellow("Warning: logger index is not set, this will not log anything. Set to 0 explicitly to remove this warning. Set to 'always' to always log."),n&&n!=="always"&&L.isNumber(n)&&n>Xn.lastLogIndex&&Hx(n);function a(d,...m){const{color:b,serializeAs:A}=L.defaults(d,o),{logAll:w,lastLogIndex:R,logToFile:T,logIndices:O,logIfHeapIncreasedByMB:q}=Xn;(w||n==="always"||n===R||L.get(O,n)===!0)&&(m.forEach(Y=>{Y=Vo(Y);try{console.log(fc(Y,A).split(`
`).map(br[b]).join(`
`))}catch{console.log(Y)}}),T&&Gx(n,Y=>ht.appendFileSync(Y,`${new Date().toISOString()}
`+Wx[b]+`
`+df(()=>m.map(D=>fc(D,A)).join(`
`)+`

`,JSON.stringify(m,null,2)+`

`))),q&&Kx())}const f=(...d)=>a(o,...d);for(const d of[void 0,...Object.keys(br)])for(const m of[void 0,"json","yaml"])(d||m)&&L.set(f,L.compact([d,m]),(...b)=>a({color:d,serializeAs:m},...b));return u&&(f.always=Wt("always",o,!1)),f}Wt("vovas-utils.check","yellow");function vf(n){return r=>n.includes(r)}function jx(n){return Array.isArray(n)}function Jx(n){return function(...r){return n(this,...r)}}const Vx=Jx(n=>{console.log(`Hello, ${n.name}!`)}),zx={name:"John",sayHello:Vx};zx.sayHello();function Xx(...n){const r=n.length===1?n[0]:n[1],i=n.length===1?void 0:n[0],o=u=>(r(u),u);return n.length===1?o:o(i)}function Zx(n){throw new Error(`This should not exist: ${n}`)}function Qx(n){return r=>r[n]}Ox({itself:ew,themselves:n=>n,$:je,undefined:je(void 0),null:je(null),true:je(!0),false:je(!1),booleanTrue:je(!0),booleanFalse:je(!1),NaN:je(NaN),Infinity:je(1/0),zero:je(0),emptyString:je(""),emptyArray:je([]),emptyObject:je({}),string:n=>`${n}`,boolean:n=>!!n,number:n=>Number(n),array:n=>L.castArray(n),keys:n=>L.keys(n),json:n=>JSON.stringify(n),yaml:n=>Ut.dump(n),parsedJson:n=>JSON.parse(n),parsedYaml:n=>Ut.load(n),lowerCase:n=>n.toLowerCase(),upperCase:n=>n.toUpperCase(),camelCase:n=>L.camelCase(n),snakeCase:n=>L.snakeCase(n),kebabCase:n=>L.kebabCase(n),startCase:n=>L.startCase(n),format:n=>r=>n.replace(new RegExp("(?<!\\\\)%s","g"),r),replace:(n,r)=>i=>i.replace(n,r),first:n=>n[0],last:n=>n[n.length-1],prop:Qx,compileTimeError:Zx,error:Mx,map:n=>r=>r.map(n),mapValues:n=>r=>L.mapValues(r,n),wrapped:Fx,pipe:nw},{$:["exactly","value","literal"],NaN:["nan","notANumber"],Infinity:"infinity",zero:"0",emptyString:"",json:"JSON",yaml:"YAML",parsedJson:["unjson","unJSON","parsedJSON"],parsedYaml:["unyaml","unYAML","parsedYAML"],lowerCase:"lowercase",upperCase:["UPPERCASE","ALLCAPS"],snakeCase:"snake_case",kebabCase:"kebab-case",startCase:"Start Case",first:["firstItem","head"],last:["lastItem","tail"],prop:["property","its"]});function je(n){return()=>n}function ew(n){return n}function nw(...n){return r=>{let i=r;for(const o of n)i=o(i);return i}}const Fi=n=>sn.string(n)?n.replace(/_([a-z])/g,(r,i)=>i.toUpperCase()):sn.array(n)?n.map(Fi):sn.object(n)?L.mapKeys(n,(r,i)=>Fi(i)):n;function tw(n){return JSON.stringify(n)===JSON.stringify(Fi(n))}L.camelCase;Wt("vovas-utils.download");function yf(...[n,r]){for(const i in n)r(n[i],i)}function rw(n){function r(i,o,u){return i(n)?o(n):u(n)}return r}function xf(n){return rw(n)(sn.string,r=>parseInt(r+"0"),r=>(r+1).toString())}xf("1")+1;xf(1).toUpperCase();function iw(n){return JSON.parse(JSON.stringify(n))}function sw(n,r){return JSON.stringify(n)===JSON.stringify(r)}function wf(n){try{return sw(n,iw(n))}catch{return!1}}function ow(n){return wf(n)&&L.isPlainObject(n)}function uw(n,...r){let i=n;for(const o of r)L.isFunction(o)?i=L.merge(i,o(i)):i=L.merge(i,o);return i}class lw{constructor(r){this.Base=r}mixin(r){const i=r(this.Base);return this.Base=i,this}create(...r){return new this.Base(...r)}}function aw(n){return new lw(n)}class cw{constructor(r){this.color=r}sit(){console.log(`You sit on the ${this.color} chair.`)}}function fw(n){return class extends n{joke(){console.log(`Why don't ${this.color} chairs ever tell secrets? Because they can't stand up for themselves!`)}}}function hw(n){return class extends n{break(){console.log(`The ${this.color} chair breaks!`)}}}const bf=aw(cw).mixin(fw).mixin(hw),Af=bf.create("red"),pw=bf.create("blue");Af.sit();pw.joke();Af.break();Wt("vovas-utils.npmLinks","yellow");function Ir(n,r){return L.fromPairs(n.map(i=>[i,r(i)]))}Wt("vovas-utils.resolvable");function Sf(n){return function(r){return r.type===n}}const dw={caption:{type:String,required:!0},disabled:Boolean,primary:Boolean,danger:Boolean,type:String,rounded:Boolean,small:Boolean,outline:Boolean,checkmarkAfterCallback:Boolean,tooltip:String},gw=["disabled","type","title"],mw=on({__name:"Button",props:dw,emits:["click"],setup(n,{emit:r}){const i=n,o=Gt(()=>L.compact(["btn",i.outline&&"outline",i.primary?"primary":i.danger?"danger":"secondary"]).join("-")),u=()=>{i.disabled||r("click")};return(a,f)=>(te(),ce("button",{disabled:a.disabled,class:Nt({btn:!0,[M(o)]:!0,"btn-disabled":a.disabled,"btn-rounded":a.rounded,"px-2 py-1":a.small,"px-4 py-2":!a.small}),type:a.type??"button",title:a.tooltip,onClick:u},[Si(a.$slots,"default",{},()=>[bc(bn(a.caption),1)],!0)],10,gw))}});const ns=gn(mw,[["__scopeId","data-v-136da5be"]]);function lu(n,r,i="modelValue"){return Gt({get:()=>n[i],set:o=>{r(`update:${i}`,o)}})}function _w(n){const{selectionStart:r,selectionEnd:i,value:o}=n,u=`${o.slice(0,r)}
${o.slice(i)}`;n.value=u,n.selectionStart=n.selectionEnd=r+1}const vw=on({props:{modelValue:{type:String,default:""},placeholder:String,submitOnEnter:{type:Boolean,default:!1},minHeight:{type:Number,default:50},maxHeight:{type:Number,default:200}},emits:{"update:modelValue":n=>!0,submit:n=>!0},setup(n,{emit:r}){const i=lu(n,r),o=rn(),u=rn(n.minHeight);Cr(i,()=>{const d=o.value;d&&(u.value=n.minHeight,Zi(()=>u.value=d.scrollHeight))});function a(d){d==="enter"===n.submitOnEnter?r("submit",i.value):_w(o.value??nt("Textarea element not found"))}const{mapValues:f}=L;return{textarea:o,handleKeydown:a,input:i,mapValues:f,height:u}}});function yw(n,r,i,o,u,a){return _r((te(),ce("textarea",$t({class:"textarea",ref:"textarea","onUpdate:modelValue":r[0]||(r[0]=f=>n.input=f),style:n.mapValues({minHeight:n.minHeight,maxHeight:n.maxHeight,height:n.height},f=>`${f}px`)},{placeholder:n.placeholder},{onKeydown:[r[1]||(r[1]=Va(Ei(f=>n.handleKeydown("enter"),["exact","prevent"]),["enter"])),r[2]||(r[2]=Va(Ei(f=>n.handleKeydown("shift+enter"),["shift","prevent"]),["enter"]))]}),null,16)),[[Ci,n.input]])}const xw=gn(vw,[["render",yw],["__scopeId","data-v-83d3572d"]]);function ww(n,r){return i=>{const{target:o}=i;if(!(o instanceof n))throw new Error(`target is not an instance of ${n.name}`);r({...i,target:o})}}function Ar(n){return rn()}const Ft="4.6.0";class bw{constructor(r,i){this.response=r,this.controller=i,this.decoder=new Aw}async*iterMessages(){if(!this.response.body)throw this.controller.abort(),new Error("Attempted to iterate over a response with no body");const r=new Ht,i=Cw(this.response.body);for await(const o of i)for(const u of r.decode(o)){const a=this.decoder.decode(u);a&&(yield a)}for(const o of r.flush()){const u=this.decoder.decode(o);u&&(yield u)}}async*[Symbol.asyncIterator](){let r=!1;try{for await(const i of this.iterMessages())if(!r){if(i.data.startsWith("[DONE]")){r=!0;continue}if(i.event===null)try{yield JSON.parse(i.data)}catch(o){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),o}}r=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{r||this.controller.abort()}}}class Aw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(r){if(r.endsWith("\r")&&(r=r.substring(0,r.length-1)),!r){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(r),r.startsWith(":"))return null;let[i,o,u]=Sw(r,":");return u.startsWith(" ")&&(u=u.substring(1)),i==="event"?this.event=u:i==="data"&&this.data.push(u),null}}class Ht{constructor(){this.buffer=[],this.trailingCR=!1}decode(r){let i=this.decodeText(r);if(this.trailingCR&&(i="\r"+i,this.trailingCR=!1),i.endsWith("\r")&&(this.trailingCR=!0,i=i.slice(0,-1)),!i)return[];const o=Ht.NEWLINE_CHARS.has(i[i.length-1]||"");let u=i.split(Ht.NEWLINE_REGEXP);return u.length===1&&!o?(this.buffer.push(u[0]),[]):(this.buffer.length>0&&(u=[this.buffer.join("")+u[0],...u.slice(1)],this.buffer=[]),o||(this.buffer=[u.pop()||""]),u)}decodeText(r){var i;if(r==null)return"";if(typeof r=="string")return r;if(typeof Buffer<"u"){if(r instanceof Buffer)return r.toString();if(r instanceof Uint8Array)return Buffer.from(r).toString();throw new Error(`Unexpected: received non-Uint8Array (${r.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(r instanceof Uint8Array||r instanceof ArrayBuffer)return(i=this.textDecoder)!==null&&i!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(r);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${r.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const r=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,r}}Ht.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Ht.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function Sw(n,r){const i=n.indexOf(r);return i!==-1?[n.substring(0,i),r,n.substring(i+r.length)]:[n,"",""]}function Cw(n){if(n[Symbol.asyncIterator])return n;const r=n.getReader();return{async next(){try{const i=await r.read();return i!=null&&i.done&&r.releaseLock(),i}catch(i){throw r.releaseLock(),i}},async return(){const i=r.cancel();return r.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Fe extends Error{constructor(r,i,o,u){super(Fe.makeMessage(i,o)),this.status=r,this.headers=u;const a=i;this.error=a,this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(r,i){return r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):i||"Unknown error occurred"}static generate(r,i,o,u){if(!r)return new ts({cause:Df(i)});const a=i==null?void 0:i.error;return r===400?new Cf(r,a,o,u):r===401?new Ef(r,a,o,u):r===403?new If(r,a,o,u):r===404?new Rf(r,a,o,u):r===409?new Tf(r,a,o,u):r===422?new Lf(r,a,o,u):r===429?new kf(r,a,o,u):r>=500?new Of(r,a,o,u):new Fe(r,a,o,u)}}class zo extends Fe{constructor({message:r}={}){super(void 0,void 0,r||"Request was aborted.",void 0),this.status=void 0}}class ts extends Fe{constructor({message:r,cause:i}){super(void 0,void 0,r||"Connection error.",void 0),this.status=void 0,i&&(this.cause=i)}}class au extends ts{constructor({message:r}={}){super({message:r??"Request timed out."})}}class Cf extends Fe{constructor(){super(...arguments),this.status=400}}class Ef extends Fe{constructor(){super(...arguments),this.status=401}}class If extends Fe{constructor(){super(...arguments),this.status=403}}class Rf extends Fe{constructor(){super(...arguments),this.status=404}}class Tf extends Fe{constructor(){super(...arguments),this.status=409}}class Lf extends Fe{constructor(){super(...arguments),this.status=422}}class kf extends Fe{constructor(){super(...arguments),this.status=429}}class Of extends Fe{}const Ew=n=>{},Iw=fetch.bind(void 0),Rw=!1,Tw=FormData,hc=typeof File<"u"?File:class extends Blob{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is not defined")}};async function Lw(n,r){return{...r,body:new Dw(n)}}async function kw(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")}function Ow(n){return!1}const Ff=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function",Fw=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Mf(n),Mf=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",Mw=n=>Fw(n)||Ff(n)||Ow();async function Pf(n,r,i={}){var o,u,a;if(n=await n,Ff(n)){const d=await n.blob();return r||(r=(o=new URL(n.url).pathname.split(/[\\/]/).pop())!==null&&o!==void 0?o:"unknown_file"),new hc([d],r,i)}const f=await Pw(n);if(r||(r=(u=Nw(n))!==null&&u!==void 0?u:"unknown_file"),!i.type){const d=(a=f[0])===null||a===void 0?void 0:a.type;typeof d=="string"&&(i={...i,type:d})}return new hc(f,r,i)}async function Pw(n){var r;let i=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)i.push(n);else if(Mf(n))i.push(await n.arrayBuffer());else if($w(n))for await(const o of n)i.push(o);else throw new Error(`Unexpected data type: ${typeof n}; constructor: ${(r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name}; props: ${Bw(n)}`);return i}function Bw(n){return`[${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}function Nw(n){var r;return No(n.name)||No(n.filename)||((r=No(n.path))===null||r===void 0?void 0:r.split(/[\\/]/).pop())}const No=n=>{if(typeof n=="string")return n;if(typeof Buffer<"u"&&n instanceof Buffer)return String(n)},$w=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";class Dw{constructor(r){this.body=r}get[Symbol.toStringTag](){return"MultipartBody"}}const pc=n=>n&&typeof n=="object"&&n.body&&n[Symbol.toStringTag]==="MultipartBody",Sr=async n=>{const r=await Uw(n.body);return Lw(r,n)},Uw=async n=>{const r=new Tw;return await Promise.all(Object.entries(n||{}).map(([i,o])=>Xo(r,i,o))),r},Xo=async(n,r,i)=>{if(i!==void 0){if(i==null)throw new TypeError(`Received null for "${r}"; to pass null in FormData, you must use the string 'null'`);if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")n.append(r,String(i));else if(Mw(i)){const o=await Pf(i);n.append(r,o)}else if(Array.isArray(i))await Promise.all(i.map(o=>Xo(n,r+"[]",o)));else if(typeof i=="object")await Promise.all(Object.entries(i).map(([o,u])=>Xo(n,`${r}[${o}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`)}};var Ww=globalThis&&globalThis.__classPrivateFieldSet||function(n,r,i,o,u){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?n!==r||!u:!r.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?u.call(n,i):u?u.value=i:r.set(n,i),i},Hw=globalThis&&globalThis.__classPrivateFieldGet||function(n,r,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?n!==r||!o:!r.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(n):o?o.value:r.get(n)},wi;const qw=2;async function Bf(n){const{response:r}=n;if(n.options.stream)return new bw(r,n.controller);const i=r.headers.get("content-type");if(i!=null&&i.includes("application/json")){const u=await r.json();return Mi("response",r.status,r.url,r.headers,u),u}const o=await r.text();return Mi("response",r.status,r.url,r.headers,o),o}class rs extends Promise{constructor(r,i=Bf){super(o=>{o(null)}),this.responsePromise=r,this.parseResponse=i}_thenUnwrap(r){return new rs(this.responsePromise,async i=>r(await this.parseResponse(i)))}asResponse(){return this.responsePromise.then(r=>r.response)}async withResponse(){const[r,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:r,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(r,i){return this.parse().then(r,i)}catch(r){return this.parse().catch(r)}finally(r){return this.parse().finally(r)}}class Gw{constructor({baseURL:r,maxRetries:i,timeout:o=6e5,httpAgent:u,fetch:a}){this.baseURL=r,this.maxRetries=$o("maxRetries",i??qw),this.timeout=$o("timeout",o),this.httpAgent=u,this.fetch=a??Iw}authHeaders(r){return{}}defaultHeaders(r){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...zw(),...this.authHeaders(r)}}validateHeaders(r,i){}defaultIdempotencyKey(){return`stainless-node-retry-${nb()}`}get(r,i){return this.methodRequest("get",r,i)}post(r,i){return this.methodRequest("post",r,i)}patch(r,i){return this.methodRequest("patch",r,i)}put(r,i){return this.methodRequest("put",r,i)}delete(r,i){return this.methodRequest("delete",r,i)}methodRequest(r,i,o){return this.request(Promise.resolve(o).then(u=>({method:r,path:i,...u})))}getAPIList(r,i,o){return this.requestAPIList(i,{method:"get",path:r,...o})}calculateContentLength(r){if(typeof r=="string"){if(typeof Buffer<"u")return Buffer.byteLength(r,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(r).length.toString()}return null}buildRequest(r){var i,o,u,a,f,d;const{method:m,path:b,query:A,headers:w={}}=r,R=pc(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,T=this.calculateContentLength(R),O=this.buildURL(b,A);"timeout"in r&&$o("timeout",r.timeout);const q=(i=r.timeout)!==null&&i!==void 0?i:this.timeout,N=(u=(o=r.httpAgent)!==null&&o!==void 0?o:this.httpAgent)!==null&&u!==void 0?u:Ew(),Y=q+1e3;typeof((a=N==null?void 0:N.options)===null||a===void 0?void 0:a.timeout)=="number"&&Y>((f=N.options.timeout)!==null&&f!==void 0?f:0)&&(N.options.timeout=Y),this.idempotencyHeader&&m!=="get"&&(r.idempotencyKey||(r.idempotencyKey=this.defaultIdempotencyKey()),w[this.idempotencyHeader]=r.idempotencyKey);const D={...T&&{"Content-Length":T},...this.defaultHeaders(r),...w};pc(r.body)&&!Rw&&delete D["Content-Type"],Object.keys(D).forEach(Re=>D[Re]===null&&delete D[Re]);const Se={method:m,...R&&{body:R},headers:D,...N&&{agent:N},signal:(d=r.signal)!==null&&d!==void 0?d:null};return this.validateHeaders(D,w),{req:Se,url:O,timeout:q}}async prepareRequest(r,{url:i,options:o}){}parseHeaders(r){return r?Symbol.iterator in r?Object.fromEntries(Array.from(r).map(i=>[...i])):{...r}:{}}makeStatusError(r,i,o,u){return Fe.generate(r,i,o,u)}request(r,i=null){return new rs(this.makeRequest(r,i))}async makeRequest(r,i){var o,u,a;const f=await r;i==null&&(i=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries);const{req:d,url:m,timeout:b}=this.buildRequest(f);if(await this.prepareRequest(d,{url:m,options:f}),Mi("request",m,f,d.headers),!((u=f.signal)===null||u===void 0)&&u.aborted)throw new zo;const A=new AbortController,w=await this.fetchWithTimeout(m,d,b,A).catch(Df);if(w instanceof Error){if(!((a=f.signal)===null||a===void 0)&&a.aborted)throw new zo;if(i)return this.retryRequest(f,i);throw w.name==="AbortError"?new au:new ts({cause:w})}const R=Kw(w.headers);if(!w.ok){if(i&&this.shouldRetry(w))return this.retryRequest(f,i,R);const T=await w.text().catch(()=>"Unknown"),O=Xw(T),q=O?void 0:T;throw Mi("response",w.status,m,R,q),this.makeStatusError(w.status,O,q,R)}return{response:w,options:f,controller:A}}requestAPIList(r,i){const o=this.makeRequest(i,null);return new Yw(this,o,r)}buildURL(r,i){const o=Qw(r)?new URL(r):new URL(this.baseURL+(this.baseURL.endsWith("/")&&r.startsWith("/")?r.slice(1):r)),u=this.defaultQuery();return Uf(u)||(i={...u,...i}),i&&(o.search=this.stringifyQuery(i)),o.toString()}stringifyQuery(r){return Object.entries(r).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new Error(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(r,i,o,u){const{signal:a,...f}=i||{};a&&a.addEventListener("abort",()=>u.abort());const d=setTimeout(()=>u.abort(),o);return this.getRequestClient().fetch(r,{signal:u.signal,...f}).finally(()=>{clearTimeout(d)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(r){const i=r.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:r.status===409||r.status===429||r.status>=500}async retryRequest(r,i,o){var u;i-=1;const a=parseInt((o==null?void 0:o["retry-after"])||""),f=(u=r.maxRetries)!==null&&u!==void 0?u:this.maxRetries,d=this.calculateRetryTimeoutSeconds(i,a,f)*1e3;return await $f(d),this.makeRequest(r,i)}calculateRetryTimeoutSeconds(r,i,o){if(Number.isInteger(i)&&i<=60)return i;const f=o-r,d=Math.min(.5*Math.pow(f-1,2),2),m=Math.random()-.5;return d+m}getUserAgent(){return`${this.constructor.name}/JS ${Ft}`}}class Nf{constructor(r,i,o,u){wi.set(this,void 0),Ww(this,wi,r,"f"),this.options=u,this.response=i,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const r=this.nextPageInfo();if(!r)throw new Error("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const i={...this.options};if("params"in r)i.query={...i.query,...r.params};else if("url"in r){const o=[...Object.entries(i.query||{}),...r.url.searchParams.entries()];for(const[u,a]of o)r.url.searchParams.set(u,a);i.query=void 0,i.path=r.url.toString()}return await Hw(this,wi,"f").requestAPIList(this.constructor,i)}async*iterPages(){let r=this;for(yield r;r.hasNextPage();)r=await r.getNextPage(),yield r}async*[(wi=new WeakMap,Symbol.asyncIterator)](){for await(const r of this.iterPages())for(const i of r.getPaginatedItems())yield i}}class Yw extends rs{constructor(r,i,o){super(i,async u=>new o(r,u.response,await Bf(u),u.options))}async*[Symbol.asyncIterator](){const r=await this;for await(const i of r)yield i}}const Kw=n=>new Proxy(Object.fromEntries(n.entries()),{get(r,i){const o=i.toString();return r[o.toLowerCase()]||r[o]}}),jw={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0},dc=n=>typeof n=="object"&&n!==null&&!Uf(n)&&Object.keys(n).every(r=>eb(jw,r)),Jw=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":mc(Deno.build.os),"X-Stainless-Arch":gc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":mc(process.platform),"X-Stainless-Arch":gc(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=Vw();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Vw(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:r,pattern:i}of n){const o=i.exec(navigator.userAgent);if(o){const u=o[1]||0,a=o[2]||0,f=o[3]||0;return{browser:r,version:`${u}.${a}.${f}`}}}return null}const gc=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",mc=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let bi;const zw=()=>bi??(bi=Jw()),Xw=n=>{try{return JSON.parse(n)}catch{return}},Zw=new RegExp("^(?:[a-z]+:)?//","i"),Qw=n=>Zw.test(n),$f=n=>new Promise(r=>setTimeout(r,n)),$o=(n,r)=>{if(typeof r!="number"||!Number.isInteger(r))throw new Error(`${n} must be an integer`);if(r<0)throw new Error(`${n} must be a positive integer`);return r},Df=n=>n instanceof Error?n:new Error(n),_c=n=>{var r,i,o,u;if(typeof process<"u")return(i=(r=process.env)===null||r===void 0?void 0:r[n])!==null&&i!==void 0?i:void 0;if(typeof Deno<"u")return(u=(o=Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,n)};function Uf(n){if(!n)return!0;for(const r in n)return!1;return!0}function eb(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function Mi(n,...r){typeof process<"u"&&process.env.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${n}`,...r)}const nb=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=Math.random()*16|0;return(n==="x"?r:r&3|8).toString(16)}),tb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class is extends Nf{constructor(r,i,o,u){super(r,i,o,u),this.object=o.object,this.data=o.data}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class cu extends Nf{constructor(r,i,o,u){super(r,i,o,u),this.data=o.data}getPaginatedItems(){return this.data}nextPageParams(){const r=this.nextPageInfo();if(!r)return null;if("params"in r)return r.params;const i=Object.fromEntries(r.url.searchParams);return Object.keys(i).length?i:null}nextPageInfo(){var r,i;if(!(!((r=this.data)===null||r===void 0)&&r.length))return null;const o=(i=this.data[this.data.length-1])===null||i===void 0?void 0:i.id;return o?{params:{after:o}}:null}}class Me{constructor(r){this.client=r,this.get=r.get.bind(r),this.post=r.post.bind(r),this.patch=r.patch.bind(r),this.put=r.put.bind(r),this.delete=r.delete.bind(r),this.getAPIList=r.getAPIList.bind(r)}}class Pi extends Me{create(r,i){return this.post("/audio/transcriptions",Sr({body:r,...i}))}}(function(n){})(Pi||(Pi={}));class Bi extends Me{create(r,i){return this.post("/audio/translations",Sr({body:r,...i}))}}(function(n){})(Bi||(Bi={}));class Ni extends Me{constructor(){super(...arguments),this.transcriptions=new Pi(this.client),this.translations=new Bi(this.client)}}(function(n){n.Transcriptions=Pi,n.Translations=Bi})(Ni||(Ni={}));let $i=class extends Me{create(r,i){var o;return this.post("/chat/completions",{body:r,...i,stream:(o=r.stream)!==null&&o!==void 0?o:!1})}};(function(n){})($i||($i={}));let Di=class extends Me{constructor(){super(...arguments),this.completions=new $i(this.client)}};(function(n){n.Completions=$i})(Di||(Di={}));class Ui extends Me{create(r,i){var o;return this.post("/completions",{body:r,...i,stream:(o=r.stream)!==null&&o!==void 0?o:!1})}}(function(n){})(Ui||(Ui={}));class Wi extends Me{create(r,i){return this.post("/embeddings",{body:r,...i})}}(function(n){})(Wi||(Wi={}));class Hi extends Me{create(r,i){return this.post("/edits",{body:r,...i})}}(function(n){})(Hi||(Hi={}));class qi extends Me{create(r,i){return this.post("/files",Sr({body:r,...i}))}retrieve(r,i){return this.get(`/files/${r}`,i)}list(r){return this.getAPIList("/files",Wf,r)}del(r,i){return this.delete(`/files/${r}`,i)}retrieveContent(r,i){return this.get(`/files/${r}/content`,{...i,headers:{Accept:"application/json",...i==null?void 0:i.headers}})}async waitForProcessing(r,{pollInterval:i=5e3,maxWait:o=30*60*1e3}={}){const u=new Set(["processed","error","deleted"]),a=Date.now();let f=await this.retrieve(r);for(;!f.status||!u.has(f.status);)if(await $f(i),f=await this.retrieve(r),Date.now()-a>o)throw new au({message:`Giving up on waiting for file ${r} to finish processing after ${o} milliseconds.`});return f}}class Wf extends is{}(function(n){})(qi||(qi={}));class Gi extends Me{create(r,i){return this.post("/fine-tunes",{body:r,...i})}retrieve(r,i){return this.get(`/fine-tunes/${r}`,i)}list(r){return this.getAPIList("/fine-tunes",Hf,r)}cancel(r,i){return this.post(`/fine-tunes/${r}/cancel`,i)}listEvents(r,i,o){var u;return this.get(`/fine-tunes/${r}/events`,{query:i,timeout:864e5,...o,stream:(u=i==null?void 0:i.stream)!==null&&u!==void 0?u:!1})}}class Hf extends is{}(function(n){})(Gi||(Gi={}));class Yi extends Me{create(r,i){return this.post("/fine_tuning/jobs",{body:r,...i})}retrieve(r,i){return this.get(`/fine_tuning/jobs/${r}`,i)}list(r={},i){return dc(r)?this.list({},r):this.getAPIList("/fine_tuning/jobs",qf,{query:r,...i})}cancel(r,i){return this.post(`/fine_tuning/jobs/${r}/cancel`,i)}listEvents(r,i={},o){return dc(i)?this.listEvents(r,{},i):this.getAPIList(`/fine_tuning/jobs/${r}/events`,Gf,{query:i,...o})}}class qf extends cu{}class Gf extends cu{}(function(n){})(Yi||(Yi={}));class Ki extends Me{constructor(){super(...arguments),this.jobs=new Yi(this.client)}}(function(n){n.Jobs=Yi,n.FineTuningJobsPage=qf,n.FineTuningJobEventsPage=Gf})(Ki||(Ki={}));class ji extends Me{createVariation(r,i){return this.post("/images/variations",Sr({body:r,...i}))}edit(r,i){return this.post("/images/edits",Sr({body:r,...i}))}generate(r,i){return this.post("/images/generations",{body:r,...i})}}(function(n){})(ji||(ji={}));class Ji extends Me{retrieve(r,i){return this.get(`/models/${r}`,i)}list(r){return this.getAPIList("/models",Yf,r)}del(r,i){return this.delete(`/models/${r}`,i)}}class Yf extends is{}(function(n){})(Ji||(Ji={}));class Vi extends Me{create(r,i){return this.post("/moderations",{body:r,...i})}}(function(n){})(Vi||(Vi={}));var Kf;class Ae extends Gw{constructor(r){var i,o,u,{apiKey:a=_c("OPENAI_API_KEY"),organization:f=(i=_c("OPENAI_ORG_ID"))!==null&&i!==void 0?i:null,...d}=r===void 0?{}:r;if(a===void 0)throw new Error("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'my apiKey' }).");const m={apiKey:a,organization:f,...d,baseURL:(o=d.baseURL)!==null&&o!==void 0?o:"https://api.openai.com/v1"};if(!m.dangerouslyAllowBrowser&&tb())throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:m.baseURL,timeout:(u=m.timeout)!==null&&u!==void 0?u:6e5,httpAgent:m.httpAgent,maxRetries:m.maxRetries,fetch:m.fetch}),this.completions=new Ui(this),this.chat=new Di(this),this.edits=new Hi(this),this.embeddings=new Wi(this),this.files=new qi(this),this.images=new ji(this),this.audio=new Ni(this),this.moderations=new Vi(this),this.models=new Ji(this),this.fineTuning=new Ki(this),this.fineTunes=new Gi(this),this._options=m,this.apiKey=a,this.organization=f}defaultQuery(){return this._options.defaultQuery}defaultHeaders(r){return{...super.defaultHeaders(r),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(r){return{Authorization:`Bearer ${this.apiKey}`}}}Kf=Ae;Ae.OpenAI=Kf;Ae.APIError=Fe;Ae.APIConnectionError=ts;Ae.APIConnectionTimeoutError=au;Ae.APIUserAbortError=zo;Ae.NotFoundError=Rf;Ae.ConflictError=Tf;Ae.RateLimitError=kf;Ae.BadRequestError=Cf;Ae.AuthenticationError=Ef;Ae.InternalServerError=Of;Ae.PermissionDeniedError=If;Ae.UnprocessableEntityError=Lf;(function(n){n.toFile=Pf,n.fileFromPath=kw,n.Page=is,n.CursorPage=cu,n.Completions=Ui,n.Chat=Di,n.Edits=Hi,n.Embeddings=Wi,n.Files=qi,n.FileObjectsPage=Wf,n.Images=ji,n.Audio=Ni,n.Moderations=Vi,n.Models=Ji,n.ModelsPage=Yf,n.FineTuning=Ki,n.FineTunes=Gi,n.FineTunesPage=Hf})(Ae||(Ae={}));const rb=Ae,ib=(n={}.OPENAI_API_KEY??nt("No OpenAI API key found"))=>new rb({apiKey:n,dangerouslyAllowBrowser:!0});async function sb(n,r){const i=Date.now(),{model:o="gpt-3.5-turbo",temperature:u,maxTokens:a,topP:f,stop:d,pickFrom:m=1,apiKey:b,usageContainer:A,fn:w}=r??{},R=w?[w]:void 0,{choices:T,usage:O}=await ib(b).chat.completions.create({model:o,messages:n,functions:R,...L.pickBy({temperature:u,max_tokens:a,top_p:f,stop:d,n:m},L.identity)});return O&&A&&(A.addUsage(o,{...Fi(O),promptJsonChars:JSON.stringify([n,R]).length,msTaken:{[o]:Date.now()-i}}),Ai.addUsage(o,A.usage)),L.compact(T.map(({message:N})=>{if(!N)throw new Error(`No message in response: ${JSON.stringify(T)}`);const{content:Y,function_call:D}=N;if(Y)return Y;if(!D)throw new Error(`No content or function_call in response message: ${JSON.stringify(N)}`);try{return JSON.parse(D.arguments)}catch{return null}}))}const ss=["user","assistant","system"];function ob(n,r){return{role:n,content:r}}const zi=Ir(ss,n=>r=>ob(n,r)),Jn=Ir(ss,n=>r=>r.role===n),jf=Ir(ss,n=>r=>r.filter(Jn[n]));function Jf(...[n,r,i,o]){return{name:n,description:r,parameters:{type:"object",properties:L.mapValues(i,u=>({type:"string",description:u})),required:o?L.difference(Object.keys(i),o):Object.keys(i)}}}Jf("getForecast","Gets the forecast for a given city and (optional) date",{city:"The city to get the forecast for",date:"The date to get the forecast for",language:"The language to get the forecast in"},["date","language"]);const{log:vc}=console;async function ub(n,{maxAttempts:r=3,throwIfNone:i,postProcess:o,evaluate:u,betterIf:a,qualifiesIf:f=()=>!0,usageContainer:d=new Xf,...m}){let b;const A=[];let w=1;const R=[];e:for(;w<=r;w++){const q=await sb(n,{...m,usageContainer:d});for(const N of q){vc({rawResult:N});const Y=o===void 0?N:o(N),D=Y?u(Y):null;A.push(D),!(!Y||!D)&&((!b||a(D,b.evaluation))&&(b={result:Y,evaluation:D}),R.push(Y))}if(b&&f(b.evaluation))break e;vc({attempts:w,best:b})}const T={evaluation:(b==null?void 0:b.evaluation)??null,allEvaluations:A,attempts:w,...d},O=b==null?void 0:b.result;if(i&&!O)throw new Vf("noResult",T);return{result:O,leftovers:L.pull(R,O),debugData:T}}class Vf extends Error{constructor(r,i){super(r),this.type=r,this.debugData=i,this.message={noResult:`Could not generate a qualifying result after ${i.attempts} attempts.`}[r]}}const lb={"gpt-3.5-turbo":{prompt:150,completion:200},"gpt-4":{prompt:3e3,completion:6e3}};function ab(n,r){const{promptTokens:i,completionTokens:o}=n,u=lb[r],a=i*u.prompt/1e8,f=o*u.completion/1e8;return L.mapValues({promptUsd:a,completionUsd:f,totalUsd:a+f},d=>parseFloat(d.toFixed(5)))}function zf(n){const{promptMessages:r,charLimit:i=8e3,removeFrom:o=1,insertPlugMessage:u=zi.system("...messages removed for brevity...")}=n,a=JSON.stringify(r).length,f=jf.assistant(r).length;return console.log({numResponses:f,jsonChars:a}),a>i&&f>2?(r.splice(o,1),u&&r.splice(o,0,u),zf({...n,removeFrom:u?o+1:o,insertPlugMessage:!1})):a}class Xf{constructor(r={promptTokens:0,completionTokens:0,totalTokens:0,promptJsonChars:0,msTaken:{}},i={promptUsd:0,completionUsd:0,totalUsd:0}){this.usage=r,this.cost=i}msPerPromptJsonChar(r){return(this.usage.msTaken[r]??0)/this.usage.promptJsonChars}addUsage(r,{msTaken:{[r]:i},...o}){const{usage:u,cost:a}=this;for(const d of yc(o))u[d]+=o[d];u.msTaken[r]=(u.msTaken[r]??0)+(i??0);const f=ab(o,r);for(const d of yc(this.cost))a[d]=parseFloat((a[d]+f[d]).toFixed(5))}}const Ai=new Xf,cb={evaluate:n=>n.length,betterIf:(n,r)=>n<r};function fb(n){return r=>sn.object(r)?r[n]:r}function yc(n){return Object.keys(n)}function xc(n){return n?L.compact(L.castArray(n).flat()).join(`

`):""}const Zf=Ir(ss,n=>(r,i)=>({...zi[n](r),...i,...rh()})),hb={dna:{dna:"DNA"},resumé:{tagline:"Tagline",bio:"Bio",experience:"Experience"},job:{title:"Job title",description:"Job description",whyMe:"Why me?",whyJob:"Why this job?"},pitch:{headline:"Headline",pitch:"Pitch"}};function Qf(n){return hb[n]}function pb(n,r){return!r||r.every(i=>!!n[i])}function eh(n){return Ir(nh,i=>{var u;const o=as({type:i},n.chats);if(o)return(u=L(o.messages).filter(a=>!!a.assets).sortBy(a=>a.assetsPickedAt??0).last())==null?void 0:u.assets})}const nh=["dna","resumé","job","pitch"],os={chats:[],username:null};function db(n){yf(os,(r,i)=>{if(!(i in n))throw new Error(`${i} missing`)})}function gb(n){return Ut.dump(Object.entries(n).reduce((r,[i,o])=>{if(!vf(nh)(i))throw new Error(`Invalid chat type: ${i}`);const u=Qf(i);return Object.entries(o).forEach(([a,f])=>{r[u[a]]=f}),r},{}))}class us{constructor(r,i){this.type=r,this.config=i}build(r){const{messages:i,data:o}=r,{mainSystemMessage:u,requestFunctionCallAfter:a,buildSystemMessages:f,fnArgs:d,requiredAssets:m}=this.config,b=Jf(...d),A=jf.assistant(i).length,w=A>=a,R=i.map(Ob(b)),T=R.some(Y=>Y.function_call),O=eh(o);if(!this.isBuildableWithAssets(O))throw new Error(`The following assets are missing: ${(m??nt("requiredAssets is undefined (this should not happen)")).join(", ")}`);const{pre:q,post:N}=f({functionCalled:T,numResponses:A,requestFunctionCall:w,assets:O,...r});return{promptMessages:[zi.system(xc([u,q,m&&["For reference:",gb(L.pick(O,...m))]])),...R,zi.system(xc(N))],fn:w?b:void 0}}isBuildableWithAssets(r){return pb(r,this.config.requiredAssets)}missingAssets(r){var i;return((i=this.config.requiredAssets)==null?void 0:i.filter(o=>!r[o]))??[]}}var mb=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var u=[],a=typeof r=="string"?[r]:r.slice();a[a.length-1]=a[a.length-1].replace(/\r?\n([\t ]*)$/,"");for(var f=0;f<a.length;f++){var d=void 0;(d=a[f].match(/\n[\t ]+/g))&&u.push.apply(u,d)}if(u.length)for(var m=Math.min.apply(Math,u.map(function(w){return w.length-1})),b=new RegExp(`
[	 ]{`+m+"}","g"),f=0;f<a.length;f++)a[f]=a[f].replace(b,`
`);a[0]=a[0].replace(/^\r?\n/,"");for(var A=a[0],f=0;f<i.length;f++)A+=i[f]+a[f+1];return A};const Xi=Sc(mb),ls="You are Genie, the AI assistant for JobGenie, an innovative AI-powered tool that doesn’t just find jobs, it invents them for the user. Leveraging the power of artificial intelligence, JobGenie scans a company’s needs, their profiles, products, and public information and aligns them beautifully with the user’s unique skills, strengths and interests, drafting various content (such as cover letters, job description suggestions, test job ideas) for the user’s dream job that doesn’t exist yet.",_b=new us("dna",{mainSystemMessage:ls,requestFunctionCallAfter:3,buildSystemMessages({numResponses:n,requestFunctionCall:r}){return{pre:"This is the very first part of the interaction — the interview — where you want to help the user discover their “DNA” — a succinct summary of their skills and experience, written in a tone of voice that best represents them, which will then be used to generate any further content.",post:[n?"Each question after the first one should ask for some more detail to help come up with the most accurate and representative summary.":Xi`
          In the first question, you very briefly introduce yourself and explain the goal of both the entire platform and the current interaction. Explain how seeing and knowing your “DNA” will help the user get a better idea of what they’re good at and what they should be looking for.
          
          Then, proceed with the first question to narrow down the interview. It should be an open-ended question but also one that is not too broad or hard to answer.
        `,r&&Xi`
        Once you think you have enough information, call the attached function to generate the actual DNA. Refer to the user in first person (“I ...”) so that they can better relate to the text.
      `]}},fnArgs:["addDna","Adds the DNA (summary) to the user data",{dna:"The DNA summary to add. Use the tone of voice you’ve noticed the user uses in their messages — so it should sound as if it’s written by the user themselves",content:"Some short explanatory text to add before the DNA, from yourself"}]}),vb=new us("job",{mainSystemMessage:ls,requestFunctionCallAfter:1,requiredAssets:["dna"],buildSystemMessages({requestFunctionCall:n}){return{pre:"In this specific flow, you help the user come up with ideas for jobs titles and descriptions that would be a good fit for them based on their “DNA” — a summary description that you prepared during initial interview, — and, optionally, a specific company they’re interested in.",post:n?"After the first excahnge, call the attached function to generate the job title and description. From then on, you respond to user feedback and adapt those to the user’s needs.":"In the first question, you explain what you’re going to do and ask if the user has any specific company in mind or any other requirements for the job or if you should make your best guess. Suggest a few job titles as options right away. Don’t greet the user as it’s a continuation of a previous conversation, better start with something like “Alright, now that...”."}},fnArgs:["addJob","Adds the job title and description to the user data",{title:"The job title to add",description:"The job description to add, in first person and future tense (“I will ...”)",whyMe:"A markdown-formatted bullet list of reasons why the user is a good fit for the job",whyJob:"A markdown-formatted bullet list of reasons why the job is a good fit for the user",content:"Some short accompanying text to add before the generated data, in the same tone as the previous messages"}]}),yb=new us("pitch",{mainSystemMessage:ls,requestFunctionCallAfter:0,requiredAssets:["dna"],buildSystemMessages({numResponses:n,functionCalled:r}){return{pre:"In this specific flow, you help the user come up with a way to “pitch” themselves to a potential employer, based on their “DNA” — a summary description that you prepared during initial interview, — and a specific company they’re interested in.",post:n?r?"Once you’ve already generated the pitch, use the user’s feedback to improve it as needed.":Xi`
          After the first exchange, call the attached function to generate the pitch. Unless the user’s request requires otherwise, use the following structure:

          1. Greet the recipient by name. If you don’t know their name, use a <placeholder>.
          2. Acknowledge the company and its successes.
          3. Introduce yourself (as the user) and explain why you would be happy to work for the company.
          4. Go into some more detail about your background and how it relates to the company, but don’t make it sound like a resume.
          5. End with an open-ended question to encourage the recipient to continue the conversation.

          All in all, the pitch must sound conversational and natural and avoid any kind of boasting or marketing speak.
        `:"In the first question, you explain what you’re going to do and ask what company they’re interested in. They can either describe it in their words or copy and paste their description from somewhere. Don’t greet the user as it’s a continuation of a previous conversation."}},fnArgs:["addPitch","Adds the pitch to the user data",{content:"Accompanying comment for the user to introduce the pitch and your reasoning behind it",headline:"Headline for the pitch (e.g. subject line of an email)",pitch:"The body of the pitch, in Markdown format"}]}),xb=new us("resumé",{mainSystemMessage:ls,requestFunctionCallAfter:0,requiredAssets:["dna"],buildSystemMessages({numResponses:n}){return{pre:"In this specific flow, you help the user build or improve their resumé based on their DNA (a summary description that you prepared during initial interview, see below)",post:[n?Xi`
          During the conversation, if there is not enough information to complete the resumé, ask additional questions (one by one, not all at once) to find out any additional information that might be useful for the resumé.

          If there is enough information, call the attached function to generate the resumé. Your goal is to somehow link the wording to the user’s DNA, increasing the likelihood of them getting hired or at least noticed for the right reasons.
        `:"In the first question, you briefly explain the user what the goal is, i.e. to either improve or build their resumé based on their “DNA” and existing resumé/CV, if any. Tell them that they can either copy and paste it from somewhere right into the input field, or you can go through the questions together. Don’t greet them again, make it sound as if you’re continuing the conversation.","Speak in a friendly yet professional tone and start talking as if it’s a continuation of the interview. Be concise."]}},fnArgs:["addResume","Sets the resumé based on the user’s DNA and resume/experience",{content:"Accompanying text to go before the actual data, explaining the stylistic and other choices taken",tagline:"The tagline to use in the resumé",bio:"The bio to use in the resumé",experience:"The experience to use in the resumé, in Markdown format"}]}),wb=[_b,xb,vb,yb];function th(n){return as({type:n},wb)}const bb=["boring","normal","spicy","crazy"],Ab={openaiKey:"",usdSpent:0,useGpt4:!0,savedMsPerPromptJsonChar:{"gpt-3.5-turbo":5,"gpt-4":15},leftoversByChatType:{},temperatureDescriptor:"spicy"},Sb={boring:0,normal:.3,spicy:.7,crazy:1};function fu(n,{id:r}){return!!r&&n.baseId===r}function hu(n,r){return n.leftoversByChatType[r]??(n.leftoversByChatType[r]={results:[],baseId:null,selectedIndex:1})}function Cb(n,r,i){n.leftoversByChatType[r]=i}function as(n,r){return r.find(i=>L.isMatch(i,n))}function rh(){return{id:L.uniqueId(`${new Date().toISOString()}_`)}}function Eb(n,r){return n.value=r}function Ib(n){const r={};for(const i in n)n.hasOwnProperty(i)&&Object.defineProperty(r,i,{get:()=>n[i].value,set:o=>{n[i].value=o}});return Qi(r)}function Rb(n){return(...r)=>{const i={};for(const o of r)Object.assign(i,{[o]:n});return i}}const Tb=Rb(!0);async function Lb({type:n,messages:r,data:i,state:o,globalState:u,previousGeneration:a}){const{useGpt4:f,savedMsPerPromptJsonChar:d,temperatureDescriptor:m,openaiKey:b}=u,{promptMessages:A,fn:w}=th(n).build({type:n,messages:r,data:i}),R=f?"gpt-4":"gpt-3.5-turbo",T=zf({promptMessages:A}),O=Ai.msPerPromptJsonChar(R)||d[R]||NaN;o.msExpected=T*O||void 0;const{result:q,leftovers:N}=await ub(A,{model:R,pickFrom:3,apiKey:b,temperature:Sb[m],...cb,evaluate:Re=>fb("content")(Re).length,throwIfNone:!0,fn:w});u.savedMsPerPromptJsonChar[R]=Ai.msPerPromptJsonChar(R),u.usdSpent+=Ai.cost.totalUsd;const Y=Re=>({...rh(),role:"assistant",...sn.string(Re)?{content:Re}:(({content:Je,...Nn})=>({content:Je,assets:Nn}))(Re)}),D=Y(q),Se=hu(u,n);return Cb(u,n,{results:L.compact([...N.map(Y),...a&&fu(Se,a)?[...Se.results,a]:[]]),baseId:D.id,selectedIndex:1}),D}class ih extends Error{}class kb{constructor(r){B(this,"resolve");B(this,"reject");B(this,"cancel");B(this,"inProgress",!0);B(this,"promise");this.basePromise=r;let{resolve:i,reject:o,cancel:u}=this;this.promise=new Promise((a,f)=>{i=d=>{this.inProgress=!1,a(d)},o=d=>{this.inProgress=!1,f(d)},u=()=>o(new ih)}),this.resolve=i,this.reject=o,this.cancel=u,r==null||r.then(this.resolve,this.reject)}}function Ob(n){return r=>{const{content:i,assets:o,role:u}=r;return{...o?{content:null,function_call:{name:(n??nt("`fn` must be defined if `assets` are defined")).name,arguments:JSON.stringify({content:i,...o})}}:{content:i},role:u}}}function Fb(n,r,i){let o=localStorage.getItem(n),u;const a=d=>{localStorage.setItem(n,JSON.stringify(d))};o?u={...r,...JSON.parse(o)}:(console.warn(`No value found for key ${n} in local storage; assigning default value`),u={...r},a(u));const f=i(u);return Cr(f,a),f}function sh(n,r){return Fb(n,r,Qi)}const dn=sh("jobgenie-data",os);function Mb(n){const{chats:r}=dn,i=as({type:n},r);return i||(r.push({type:n,messages:[]}),L.last(r))}const oh=rn(Date.now()),uh=Gt(()=>eh(dn));function Do(n,r){return r.assets&&r.assets===uh.value[n.type]}const pu=[{id:"dna",caption:"DNA",emoji:"🧬"},{id:"resume",chatType:"resumé",caption:"Resumé",emoji:"👔"},{id:"job",caption:"Craft-a-job",emoji:"🧪"},{id:"pitch",caption:"Pitch-a-company",emoji:"📈"}];function Pb(n){return L.find(pu,{id:n})}function Bb(n){const r=Pb(n);return r.chatType??r.id}const Nb=Gt(()=>L.map(pu,n=>{const r=th(n.chatType??n.id);return{...n,builder:r,disabled:!r.isBuildableWithAssets(uh.value)}})),qt=sh("jobgenie-state",{...Ab,selectedSectionId:pu[0].id,userMessage:""});/*
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class pn{constructor(r,i=""){B(this,"source");B(this,"flags");this.source=r.source,this.flags=i}setGroup(r,i){let o=typeof i=="string"?i:i.source;return o=o.replace(/(^|[^\[])\^/g,"$1"),this.source=this.source.replace(r,o),this}getRegexp(){return new RegExp(this.source,this.flags)}}/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */const $b=/[&<>"']/,Db=/[&<>"']/g,wc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ub=/[<>"']|&(?!#?\w+;)/,Wb=/[<>"']|&(?!#?\w+;)/g;function Hb(n,r){if(r){if($b.test(n))return n.replace(Db,i=>wc[i])}else if(Ub.test(n))return n.replace(Wb,i=>wc[i]);return n}function qb(n){return n.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(r,i){return i=i.toLowerCase(),i==="colon"?":":i.charAt(0)==="#"?i.charAt(1)==="x"?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):""})}/**
 * @license
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */var j;(function(n){n[n.space=1]="space",n[n.text=2]="text",n[n.paragraph=3]="paragraph",n[n.heading=4]="heading",n[n.listStart=5]="listStart",n[n.listEnd=6]="listEnd",n[n.looseItemStart=7]="looseItemStart",n[n.looseItemEnd=8]="looseItemEnd",n[n.listItemStart=9]="listItemStart",n[n.listItemEnd=10]="listItemEnd",n[n.blockquoteStart=11]="blockquoteStart",n[n.blockquoteEnd=12]="blockquoteEnd",n[n.code=13]="code",n[n.table=14]="table",n[n.html=15]="html",n[n.hr=16]="hr"})(j||(j={}));class Gb{constructor(){B(this,"gfm",!0);B(this,"tables",!0);B(this,"breaks",!1);B(this,"pedantic",!1);B(this,"sanitize",!1);B(this,"sanitizer");B(this,"mangle",!0);B(this,"smartLists",!1);B(this,"silent",!1);B(this,"highlight");B(this,"langPrefix","lang-");B(this,"smartypants",!1);B(this,"headerPrefix","");B(this,"renderer");B(this,"xhtml",!1);B(this,"escape",Hb);B(this,"unescape",qb);B(this,"isNoP")}}/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class lh{constructor(r){B(this,"options");this.options=r||et.options}code(r,i,o,u){if(this.options.highlight){const d=this.options.highlight(r,i);d!=null&&d!==r&&(o=!0,r=d)}const a=o?r:this.options.escape(r,!0);return i?`
<pre><code class="${this.options.langPrefix+this.options.escape(i,!0)}">${a}
</code></pre>
`:`
<pre><code>${a}
</code></pre>
`}blockquote(r){return`<blockquote>
${r}</blockquote>
`}html(r){return r}heading(r,i,o){const u=this.options.headerPrefix+o.toLowerCase().replace(/[^\w]+/g,"-");return`<h${i} id="${u}">${r}</h${i}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(r,i){const o=i?"ol":"ul";return`
<${o}>
${r}</${o}>
`}listitem(r){return"<li>"+r+`</li>
`}paragraph(r){return"<p>"+r+`</p>
`}table(r,i){return`
<table>
<thead>
${r}</thead>
<tbody>
${i}</tbody>
</table>
`}tablerow(r){return`<tr>
`+r+`</tr>
`}tablecell(r,i){const o=i.header?"th":"td";return(i.align?"<"+o+' style="text-align:'+i.align+'">':"<"+o+">")+r+"</"+o+`>
`}strong(r){return"<strong>"+r+"</strong>"}em(r){return"<em>"+r+"</em>"}codespan(r){return"<code>"+r+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(r){return"<del>"+r+"</del>"}link(r,i,o){if(this.options.sanitize){let a;try{a=decodeURIComponent(this.options.unescape(r)).replace(/[^\w:]/g,"").toLowerCase()}catch{return o}if(a.indexOf("javascript:")===0||a.indexOf("vbscript:")===0||a.indexOf("data:")===0)return o}let u='<a href="'+r+'"';return i&&(u+=' title="'+i+'"'),u+=">"+o+"</a>",u}image(r,i,o){let u='<img src="'+r+'" alt="'+o+'"';return i&&(u+=' title="'+i+'"'),u+=this.options.xhtml?"/>":">",u}text(r){return r}}/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class Vn{constructor(r,i,o=et.options,u){B(this,"staticThis");B(this,"links");B(this,"options");B(this,"rules");B(this,"renderer");B(this,"inLink");B(this,"hasRulesGfm");B(this,"ruleCallbacks");if(this.staticThis=r,this.links=i,this.options=o,this.renderer=u||this.options.renderer||new lh(this.options),!this.links)throw new Error("InlineLexer requires 'links' parameter.");this.setRules()}static output(r,i,o){return new this(this,i,o).output(r)}static getRulesBase(){if(this.rulesBase)return this.rulesBase;const r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};return r.link=new pn(r.link).setGroup("inside",r._inside).setGroup("href",r._href).getRegexp(),r.reflink=new pn(r.reflink).setGroup("inside",r._inside).getRegexp(),this.rulesBase=r}static getRulesPedantic(){return this.rulesPedantic?this.rulesPedantic:this.rulesPedantic={...this.getRulesBase(),strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}}static getRulesGfm(){if(this.rulesGfm)return this.rulesGfm;const r=this.getRulesBase(),i=new pn(r.escape).setGroup("])","~|])").getRegexp(),o=new pn(r.text).setGroup("]|","~]|").setGroup("|","|https?://|").getRegexp();return this.rulesGfm={...r,escape:i,url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:o}}static getRulesBreaks(){if(this.rulesBreaks)return this.rulesBreaks;const r=this.getRulesGfm(),i=this.getRulesGfm();return this.rulesBreaks={...i,br:new pn(r.br).setGroup("{2,}","*").getRegexp(),text:new pn(i.text).setGroup("{2,}","*").getRegexp()}}setRules(){this.options.gfm?this.options.breaks?this.rules=this.staticThis.getRulesBreaks():this.rules=this.staticThis.getRulesGfm():this.options.pedantic?this.rules=this.staticThis.getRulesPedantic():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=this.rules.url!==void 0}output(r){let i,o="";for(;r;){if(i=this.rules.escape.exec(r)){r=r.substring(i[0].length),o+=i[1];continue}if(i=this.rules.autolink.exec(r)){let u,a;r=r.substring(i[0].length),i[2]==="@"?(u=this.options.escape(i[1].charAt(6)===":"?this.mangle(i[1].substring(7)):this.mangle(i[1])),a=this.mangle("mailto:")+u):(u=this.options.escape(i[1]),a=u),o+=this.renderer.link(a,null,u);continue}if(!this.inLink&&this.hasRulesGfm&&(i=this.rules.url.exec(r))){r=r.substring(i[0].length);const u=this.options.escape(i[1]),a=u;o+=this.renderer.link(a,null,u);continue}if(i=this.rules.tag.exec(r)){!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),r=r.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):this.options.escape(i[0]):i[0];continue}if(i=this.rules.link.exec(r)){r=r.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;continue}if((i=this.rules.reflink.exec(r))||(i=this.rules.nolink.exec(r))){r=r.substring(i[0].length);const u=(i[2]||i[1]).replace(/\s+/g," "),a=this.links[u.toLowerCase()];if(!a||!a.href){o+=i[0].charAt(0),r=i[0].substring(1)+r;continue}this.inLink=!0,o+=this.outputLink(i,a),this.inLink=!1;continue}if(i=this.rules.strong.exec(r)){r=r.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));continue}if(i=this.rules.em.exec(r)){r=r.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));continue}if(i=this.rules.code.exec(r)){r=r.substring(i[0].length),o+=this.renderer.codespan(this.options.escape(i[2].trim(),!0));continue}if(i=this.rules.br.exec(r)){r=r.substring(i[0].length),o+=this.renderer.br();continue}if(this.hasRulesGfm&&(i=this.rules.del.exec(r))){r=r.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));continue}if(i=this.rules.text.exec(r)){r=r.substring(i[0].length),o+=this.renderer.text(this.options.escape(this.smartypants(i[0])));continue}if(r)throw new Error("Infinite loop on byte: "+r.charCodeAt(0))}return o}outputLink(r,i){const o=this.options.escape(i.href),u=i.title?this.options.escape(i.title):null;return r[0].charAt(0)!=="!"?this.renderer.link(o,u,this.output(r[1])):this.renderer.image(o,u,this.options.escape(r[1]))}smartypants(r){return this.options.smartypants?r.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/([{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/([{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):r}mangle(r){if(!this.options.mangle)return r;let i="";const o=r.length;for(let u=0;u<o;u++){let a;Math.random()>.5&&(a="x"+r.charCodeAt(u).toString(16)),i+="&#"+a+";"}return i}}B(Vn,"rulesBase",null),B(Vn,"rulesPedantic",null),B(Vn,"rulesGfm",null),B(Vn,"rulesBreaks",null);/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class Uo{constructor(r){B(this,"simpleRenderers",[]);B(this,"tokens");B(this,"token");B(this,"inlineLexer");B(this,"options");B(this,"renderer");B(this,"line",0);this.tokens=[],this.token=null,this.options=r||et.options,this.renderer=this.options.renderer||new lh(this.options)}static parse(r,i,o){return new this(o).parse(i,r)}parse(r,i){this.inlineLexer=new Vn(Vn,r,this.options,this.renderer),this.tokens=i.reverse();let o="";for(;this.next();)o+=this.tok();return o}debug(r,i){this.inlineLexer=new Vn(Vn,r,this.options,this.renderer),this.tokens=i.reverse();let o="";for(;this.next();){const u=this.tok();this.token.line=this.line+=u.split(`
`).length-1,o+=u}return o}next(){return this.token=this.tokens.pop()}getNextElement(){return this.tokens[this.tokens.length-1]}parseText(){let r=this.token.text,i;for(;(i=this.getNextElement())&&i.type==j.text;)r+=`
`+this.next().text;return this.inlineLexer.output(r)}tok(){switch(this.token.type){case j.space:return"";case j.paragraph:return this.renderer.paragraph(this.inlineLexer.output(this.token.text));case j.text:return this.options.isNoP?this.parseText():this.renderer.paragraph(this.parseText());case j.heading:return this.renderer.heading(this.inlineLexer.output(this.token.text),this.token.depth,this.token.text);case j.listStart:{let r="";const i=this.token.ordered;for(;this.next().type!=j.listEnd;)r+=this.tok();return this.renderer.list(r,i)}case j.listItemStart:{let r="";for(;this.next().type!=j.listItemEnd;)r+=this.token.type==j.text?this.parseText():this.tok();return this.renderer.listitem(r)}case j.looseItemStart:{let r="";for(;this.next().type!=j.listItemEnd;)r+=this.tok();return this.renderer.listitem(r)}case j.code:return this.renderer.code(this.token.text,this.token.lang,this.token.escaped,this.token.meta);case j.table:{let r="",i="",o;o="";for(let u=0;u<this.token.header.length;u++){const a={header:!0,align:this.token.align[u]},f=this.inlineLexer.output(this.token.header[u]);o+=this.renderer.tablecell(f,a)}r+=this.renderer.tablerow(o);for(const u of this.token.cells){o="";for(let a=0;a<u.length;a++)o+=this.renderer.tablecell(this.inlineLexer.output(u[a]),{header:!1,align:this.token.align[a]});i+=this.renderer.tablerow(o)}return this.renderer.table(r,i)}case j.blockquoteStart:{let r="";for(;this.next().type!=j.blockquoteEnd;)r+=this.tok();return this.renderer.blockquote(r)}case j.hr:return this.renderer.hr();case j.html:{const r=!this.token.pre&&!this.options.pedantic?this.inlineLexer.output(this.token.text):this.token.text;return this.renderer.html(r)}default:{if(this.simpleRenderers.length){for(let i=0;i<this.simpleRenderers.length;i++)if(this.token.type=="simpleRule"+(i+1))return this.simpleRenderers[i].call(this.renderer,this.token.execArr)}const r=`Token with "${this.token.type}" type was not found.`;if(this.options.silent)console.log(r);else throw new Error(r)}}}}/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class et{static setOptions(r){return Object.assign(this.options,r),this}static setBlockRule(r,i=()=>""){return Bt.simpleRules.push(r),this.simpleRenderers.push(i),this}static parse(r,i){try{i={...this.options,...i};const{tokens:o,links:u}=this.callBlockLexer(r,i);return this.callParser(o,u,i)}catch(o){return this.callMe(o)}}static debug(r,i=this.options){const{tokens:o,links:u}=this.callBlockLexer(r,i);let a=o.slice();const f=new Uo(i);f.simpleRenderers=this.simpleRenderers;const d=f.debug(u,o);return a=a.map(m=>{m.type=j[m.type]||m.type;const b=m.line;return delete m.line,b?{line:b,...m}:m}),{tokens:a,links:u,result:d}}static callBlockLexer(r="",i){if(typeof r!="string")throw new Error(`Expected that the 'src' parameter would have a 'string' type, got '${typeof r}'`);return r=r.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`).replace(/^ +$/gm,""),Bt.lex(r,i,!0)}static callParser(r,i,o){if(this.simpleRenderers.length){const u=new Uo(o);return u.simpleRenderers=this.simpleRenderers,u.parse(i,r)}else return Uo.parse(r,i,o)}static callMe(r){if(r.message+=`
Please report this to https://github.com/ts-stack/markdown`,this.options.silent)return"<p>An error occured:</p><pre>"+this.options.escape(r.message+"",!0)+"</pre>";throw r}}B(et,"options",new Gb),B(et,"simpleRenderers",[]);/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class Bt{constructor(r,i){B(this,"staticThis");B(this,"rules");B(this,"options");B(this,"links",{});B(this,"tokens",[]);B(this,"hasRulesGfm");B(this,"hasRulesTables");this.staticThis=r,this.options=i||et.options,this.setRules()}static lex(r,i,o,u){return new this(this,i).getTokens(r,o,u)}static getRulesBase(){if(this.rulesBase)return this.rulesBase;const r={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};r.item=new pn(r.item,"gm").setGroup(/bull/g,r.bullet).getRegexp(),r.list=new pn(r.list).setGroup(/bull/g,r.bullet).setGroup("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))").setGroup("def","\\n+(?="+r.def.source+")").getRegexp();const i="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";return r.html=new pn(r.html).setGroup("comment",/<!--[\s\S]*?-->/).setGroup("closed",/<(tag)[\s\S]+?<\/\1>/).setGroup("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/).setGroup(/tag/g,i).getRegexp(),r.paragraph=new pn(r.paragraph).setGroup("hr",r.hr).setGroup("heading",r.heading).setGroup("lheading",r.lheading).setGroup("blockquote",r.blockquote).setGroup("tag","<"+i).setGroup("def",r.def).getRegexp(),this.rulesBase=r}static getRulesGfm(){if(this.rulesGfm)return this.rulesGfm;const r=this.getRulesBase(),i={...r,fences:/^ *(`{3,}|~{3,})[ \.]*((\S+)? *[^\n]*)\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/},o=i.fences.source.replace("\\1","\\2"),u=r.list.source.replace("\\1","\\3");return i.paragraph=new pn(r.paragraph).setGroup("(?!",`(?!${o}|${u}|`).getRegexp(),this.rulesGfm=i}static getRulesTable(){return this.rulesTables?this.rulesTables:this.rulesTables={...this.getRulesGfm(),nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}}setRules(){this.options.gfm?this.options.tables?this.rules=this.staticThis.getRulesTable():this.rules=this.staticThis.getRulesGfm():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=this.rules.fences!==void 0,this.hasRulesTables=this.rules.table!==void 0}getTokens(r,i,o){let u=r,a;e:for(;u;){if((a=this.rules.newline.exec(u))&&(u=u.substring(a[0].length),a[0].length>1&&this.tokens.push({type:j.space})),a=this.rules.code.exec(u)){u=u.substring(a[0].length);const f=a[0].replace(/^ {4}/gm,"");this.tokens.push({type:j.code,text:this.options.pedantic?f:f.replace(/\n+$/,"")});continue}if(this.hasRulesGfm&&(a=this.rules.fences.exec(u))){u=u.substring(a[0].length),this.tokens.push({type:j.code,meta:a[2],lang:a[3],text:a[4]||""});continue}if(a=this.rules.heading.exec(u)){u=u.substring(a[0].length),this.tokens.push({type:j.heading,depth:a[1].length,text:a[2]});continue}if(i&&this.hasRulesTables&&(a=this.rules.nptable.exec(u))){u=u.substring(a[0].length);const f={type:j.table,header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]};for(let m=0;m<f.align.length;m++)/^ *-+: *$/.test(f.align[m])?f.align[m]="right":/^ *:-+: *$/.test(f.align[m])?f.align[m]="center":/^ *:-+ *$/.test(f.align[m])?f.align[m]="left":f.align[m]=null;const d=a[3].replace(/\n$/,"").split(`
`);for(let m=0;m<d.length;m++)f.cells[m]=d[m].split(/ *\| */);this.tokens.push(f);continue}if(a=this.rules.lheading.exec(u)){u=u.substring(a[0].length),this.tokens.push({type:j.heading,depth:a[2]==="="?1:2,text:a[1]});continue}if(a=this.rules.hr.exec(u)){u=u.substring(a[0].length),this.tokens.push({type:j.hr});continue}if(a=this.rules.blockquote.exec(u)){u=u.substring(a[0].length),this.tokens.push({type:j.blockquoteStart});const f=a[0].replace(/^ *> ?/gm,"");this.getTokens(f),this.tokens.push({type:j.blockquoteEnd});continue}if(a=this.rules.list.exec(u)){u=u.substring(a[0].length);const f=a[2];this.tokens.push({type:j.listStart,ordered:f.length>1});const d=a[0].match(this.rules.item),m=d.length;let b=!1,A,w,R;for(let T=0;T<m;T++){let O=d[T];A=O.length,O=O.replace(/^ *([*+-]|\d+\.) +/,""),O.indexOf(`
 `)!==-1&&(A-=O.length,O=this.options.pedantic?O.replace(/^ {1,4}/gm,""):O.replace(new RegExp("^ {1,"+A+"}","gm"),"")),this.options.smartLists&&T!==m-1&&(w=this.staticThis.getRulesBase().bullet.exec(d[T+1])[0],f!==w&&!(f.length>1&&w.length>1)&&(u=d.slice(T+1).join(`
`)+u,T=m-1)),R=b||/\n\n(?!\s*$)/.test(O),T!==m-1&&(b=O.charAt(O.length-1)===`
`,R||(R=b)),this.tokens.push({type:R?j.looseItemStart:j.listItemStart}),this.getTokens(O,!1,o),this.tokens.push({type:j.listItemEnd})}this.tokens.push({type:j.listEnd});continue}if(a=this.rules.html.exec(u)){u=u.substring(a[0].length);const f=a[1],d=f==="pre"||f==="script"||f==="style";this.tokens.push({type:this.options.sanitize?j.paragraph:j.html,pre:!this.options.sanitizer&&d,text:a[0]});continue}if(i&&(a=this.rules.def.exec(u))){u=u.substring(a[0].length),this.links[a[1].toLowerCase()]={href:a[2],title:a[3]};continue}if(i&&this.hasRulesTables&&(a=this.rules.table.exec(u))){u=u.substring(a[0].length);const f={type:j.table,header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]};for(let m=0;m<f.align.length;m++)/^ *-+: *$/.test(f.align[m])?f.align[m]="right":/^ *:-+: *$/.test(f.align[m])?f.align[m]="center":/^ *:-+ *$/.test(f.align[m])?f.align[m]="left":f.align[m]=null;const d=a[3].replace(/(?: *\| *)?\n$/,"").split(`
`);for(let m=0;m<d.length;m++)f.cells[m]=d[m].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(f);continue}if(this.staticThis.simpleRules.length){const f=this.staticThis.simpleRules;for(let d=0;d<f.length;d++)if(a=f[d].exec(u)){u=u.substring(a[0].length);const m="simpleRule"+(d+1);this.tokens.push({type:m,execArr:a});continue e}}if(i&&(a=this.rules.paragraph.exec(u))){u=u.substring(a[0].length),a[1].slice(-1)===`
`?this.tokens.push({type:j.paragraph,text:a[1].slice(0,-1)}):this.tokens.push({type:this.tokens.length>0?j.paragraph:j.text,text:a[1]});continue}if(a=this.rules.text.exec(u)){u=u.substring(a[0].length),this.tokens.push({type:j.text,text:a[0]});continue}if(u)throw new Error("Infinite loop on byte: "+u.charCodeAt(0)+`, near text '${u.slice(0,30)}...'`)}return{tokens:this.tokens,links:this.links}}}B(Bt,"simpleRules",[]),B(Bt,"rulesBase",null),B(Bt,"rulesGfm",null),B(Bt,"rulesTables",null);const Yb={class:"flex space-x-1.5"},Zo=on({__name:"ButtonGroup",props:{defaultProps:{},buttons:{}},setup(n){return(r,i)=>(te(),ce("div",Yb,[(te(!0),ce(dt,null,Er(M(L).compact(r.buttons),o=>(te(),Zn(ns,$t({key:o.caption},{...r.defaultProps,...o}),null,16))),128))]))}});function Kb(n=!1){const r=Qi({on:n});return pf(r,{toggle:()=>r.on=!r.on,show:()=>r.on=!0,hide:()=>r.on=!1}),r}const jb={class:"modal-content"},Jb={class:"modal-title"},Vb={class:"modal-description"},zb={class:"modal-footer"},Xb=on({__name:"TextModal",props:{title:{},description:{},updateButtonText:{},monospace:{type:Boolean},modelValue:{},extraButtons:{}},emits:["update:modelValue","submit","cancel"],setup(n,{expose:r,emit:i}){const o=n,u=rn(),a=rn(),f=Kb();function d(){const A=u.value;A&&(i("update:modelValue",A),f.hide())}function m(){f.hide()}function b(A){A.target===A.currentTarget&&m()}return uy(()=>{f.on&&(u.value=o.modelValue,Zi(()=>{var A,w;(A=a.value)==null||A.focus(),(w=a.value)==null||w.select()}))}),r({text:u,...f}),(A,w)=>M(f).on?(te(),ce("div",{key:0,class:"modal-overlay",onClick:b},[z("div",jb,[z("h2",Jb,bn(A.title),1),z("p",Vb,bn(A.description),1),_r(z("textarea",{ref_key:"textareaRef",ref:a,"onUpdate:modelValue":w[0]||(w[0]=R=>Mn(u)?u.value=R:null),class:Nt({monospace:A.monospace})},null,2),[[Ci,M(u)]]),z("div",zb,[z("div",null,[A.extraButtons?(te(),Zn(Zo,{key:0,"default-props":{rounded:!0},buttons:A.extraButtons},null,8,["buttons"])):Pn("",!0)]),xn(Zo,{"default-props":{rounded:!0},buttons:[{caption:"Cancel",onClick:m},{caption:A.updateButtonText??"Update",disabled:!M(u)||M(u)===A.modelValue,onClick:d,primary:!0,tooltip:M(u)?M(u)===A.modelValue?"Please edit the text first.":"":"Please enter some text."}]},null,8,["buttons"])])])])):Pn("",!0)}});const du=gn(Xb,[["__scopeId","data-v-ae8cee94"]]),Zb={class:"card-container"},Qb={class:"card"},eA={class:"card-title"},nA=["innerHTML"],tA={key:1,class:"card-footer"},rA=on({__name:"Card",props:{title:{},modelValue:{},editOnDoubleClick:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const i=n,{title:o}=i,u=lu(i,r),a=Ar();return(f,d)=>(te(),ce("div",Zb,[z("div",Qb,[z("div",eA,bn(M(o)),1),z("div",{class:"card-content",innerHTML:M(et).parse(M(u)),onDblclick:d[0]||(d[0]=m=>f.editOnDoubleClick&&M(a).show())},null,40,nA),f.editOnDoubleClick?(te(),Zn(du,{key:0,ref_key:"editModal",ref:a,modelValue:M(u),"onUpdate:modelValue":d[1]||(d[1]=m=>Mn(u)?u.value=m:null),title:"Edit content",description:"You can edit the content here."},null,8,["modelValue"])):Pn("",!0),f.$slots.footer?(te(),ce("div",tA,[Si(f.$slots,"footer",{},void 0,!0)])):Pn("",!0)])]))}});const iA=gn(rA,[["__scopeId","data-v-f007d3a8"]]),sA={class:"msg-container"},oA=["title"],uA=["innerHTML"],lA={key:0},aA=on({__name:"Message",props:{message:{},c:{}},setup(n){const r=n,i=Gt(()=>{const u=hu(qt,r.c.type),{message:a,c:f}=r;return[u.results.length&&Jn.assistant(a)&&fu(u,a)&&{caption:`${u.selectedIndex}/${u.results.length+1}`,tooltip:"Loop through alternatives",onClick:()=>f.cycleLeftovers(a)},Jn.assistant(a)&&{caption:"↺",tooltip:"Regenerate",onClick:()=>f.regenerate(a)},Jn.user(a)&&{caption:"✎",tooltip:"Edit",onClick:()=>f.editMessage(a)},a.assets&&!Do(f,a)&&{caption:"Use this",tooltip:"Set this asset globally for any relevant generations",onClick:()=>a.assetsPickedAt=Date.now()}]}),o=Ar();return(u,a)=>(te(),ce(dt,null,[z("div",sA,[z("div",{class:Nt({[`msg msg-${u.message.role}`]:!0,"msg-picked-assets":M(Do)(u.c,u.message)}),title:M(Do)(u.c,u.message)?"This asset will be used globally for any relevant generations":""},[z("span",{innerHTML:M(et).parse(u.message.content),onDblclick:a[0]||(a[0]=f=>M(o).show())},null,40,uA),u.message.assets?(te(),ce("div",lA,[(te(!0),ce(dt,null,Er(u.message.assets,(f,d)=>(te(),Zn(iA,$t({key:d},{title:M(Qf)(u.c.type)[d],modelValue:f,editOnDoubleClick:!0},{"onUpdate:modelValue":m=>u.message.assets[d]=m}),null,16,["onUpdate:modelValue"]))),128))])):Pn("",!0),z("div",{class:Nt(`flex justify-${M(Jn).user(u.message)?"end":"start"}`)},[xn(Zo,$t({"default-props":M(Tb)("rounded","small","outline")},{buttons:M(i)}),null,16,["default-props"])],2)],10,oA)]),xn(du,{ref_key:"editMessageModal",ref:o,modelValue:u.message.content,"onUpdate:modelValue":a[1]||(a[1]=f=>u.message.content=f),title:"Edit message",description:"You can edit the message here. You can also use Markdown."},null,8,["modelValue"])],64))}});const cA=gn(aA,[["__scopeId","data-v-12048366"]]);function fA(n){const r=hu(qt,this.type);if(!fu(r,n))throw new Error("Leftovers are not for this message");const{results:i}=r,o=i.shift()??nt("No leftovers left");i.push(n),r.baseId=o.id,r.selectedIndex+=1,r.selectedIndex>i.length+1&&(r.selectedIndex=1),this.messages.splice(this.messages.indexOf(n),1,o)}function hA(n){const{state:r,state:{generating:i,userMessageComponent:o}}=this;r.userMessage=n.content,this.removeMessagesFrom(n),i!=null&&i.inProgress&&i.cancel(),Zi(()=>{const{textarea:u}=o??{};u&&u.select()})}async function pA(){var a;const{type:n,messages:r,state:i,previousGeneration:o}=this;if((a=i.generating)!=null&&a.inProgress)throw new Error("Cannot generate while already generating");const u=setInterval(()=>{i.msExpected=Math.max((i.msExpected??0)-1e3,0)},1e3);try{const f=await(i.generating=new kb(Lb({type:n,messages:r,state:i,data:dn,globalState:qt,previousGeneration:o}))).promise;r.push(f)}catch(f){if(f instanceof ih)return;if(f instanceof Vf){const d=L.last(r);d&&Jn.user(d)&&this.editMessage(d)}alert(f.message)}finally{clearInterval(u)}}const Wo={dna:()=>Zf.user(`Hi, I’m ${dn.username??"looking for some assistance"}.`)};function dA(){Cr(this.messages,()=>{var o;const{type:n,messages:r}=this,i=L.last(r)??Xx((o=Wo[n])==null?void 0:o.call(Wo),u=>u&&r.push(u));(!i||Jn.user(i))&&this.handleResponseGeneration()},{immediate:!0})}function gA(n,r){const i={type:n,state:Ib(r),messages:Mb(n).messages,previousGeneration:void 0,get lastMessageIsFromUser(){const o=L.last(i.messages);return o&&Jn.user(o)},removeMessagesFrom(o){i.messages.splice(i.messages.indexOf(o),i.messages.length-i.messages.indexOf(o))},editMessage:hA,regenerate(o){i.previousGeneration=o,i.removeMessagesFrom(o)},sendMessage(){const{state:o}=i,u=o.userMessage.trim();u.trim()!==""&&(i.messages.push(Zf.user(u)),o.userMessage="")},watchForResponseGeneration:dA,handleResponseGeneration:pA,cycleLeftovers:fA};return i.watchForResponseGeneration(),i}const Ho=Qi([]);function mA(...n){const[r]=n,i=as({type:r},Ho);i&&(console.log("Deleting old chat controller:",i),L.pull(Ho,i));const o=gA(...n);return console.log("Creating new chat controller:",o),Ho.push(o),o}const _A=["textContent"],vA=on({__name:"Chat",props:{type:{}},setup(n){const{type:r}=n,i=rn();rn(Date.now());const o=rn(),{userMessage:u}=Ac(qt),a=Ar(),f=mA(r,{generating:i,userMessage:u,userMessageComponent:a,msExpected:o});return pf(window,{_:L,c:f,data:dn,userMessageComponent:a,globalState:qt}),Cr(a,d=>{if(!d)return;const{textarea:m}=d;Zi(()=>{m&&(m.scrollIntoView(),m.focus())})}),(d,m)=>{var b;return te(),ce("div",null,[(te(!0),ce(dt,null,Er(M(f).messages,A=>(te(),Zn(cA,$t({key:A.id},{c:M(f),message:A}),null,16))),128)),(b=M(i))!=null&&b.inProgress?(te(),ce("div",{key:0,class:"msg msg-assistant animate-pulse",textContent:bn(M(o)?`Generating (~${Math.round(M(o)/1e3)}s)...`:"Generating...")},null,8,_A)):Pn("",!0),M(f).lastMessageIsFromUser?Pn("",!0):(te(),ce("form",{key:1,onSubmit:m[2]||(m[2]=Ei((...A)=>M(f).sendMessage&&M(f).sendMessage(...A),["prevent"])),class:"input-container"},[xn(xw,{class:"input-box",id:"userMessage","submit-on-enter":"",modelValue:M(u),"onUpdate:modelValue":m[0]||(m[0]=A=>Mn(u)?u.value=A:null),placeholder:"Shift+Enter for a new line",ref_key:"userMessageComponent",ref:a,onSubmit:m[1]||(m[1]=A=>M(f).sendMessage())},null,8,["modelValue"]),M(u)?(te(),Zn(ns,{key:0,primary:"",rounded:"",small:"",type:"submit",caption:"↑"})):Pn("",!0)],32))])}}});const yA=gn(vA,[["__scopeId","data-v-8cb1dc2d"]]),cs=n=>(Qo("data-v-6c551e87"),n=n(),eu(),n),xA={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},wA=["onSubmit"],bA={class:"mb-4"},AA=cs(()=>z("label",{class:"form-label",for:"username"}," Hi there! What’s your name? ",-1)),SA=cs(()=>z("p",{class:"form-hint"},"We’ll use your name to create your personalized description to help you craft your dream job.",-1)),CA={class:"mb-4"},EA=cs(()=>z("label",{class:"form-label",for:"apikey"}," What’s your OpenAI API Key? ",-1)),IA=cs(()=>z("p",{class:"form-hint"},"We need your API key to make requests to OpenAI. We don’t store your API key anywhere, it’s only saved in your local storage. The app doesn’t have a server, so your API key is safe with you.",-1)),RA={class:"flex items-center justify-between"},TA=on({__name:"Login",emits:["login"],setup(n,{emit:r}){const i=rn(""),o=rn(""),u=()=>{i.value&&o.value&&r("login",{username:i.value,apiKey:o.value})};return(a,f)=>(te(),ce("div",xA,[z("form",{onSubmit:Ei(u,["prevent"])},[z("div",bA,[AA,_r(z("input",{class:"form-input",id:"username",type:"text",placeholder:"Just the first name pls","onUpdate:modelValue":f[0]||(f[0]=d=>Mn(i)?i.value=d:null)},null,512),[[Ci,M(i)]]),SA]),z("div",CA,[EA,_r(z("input",{class:"form-input",id:"apikey",type:"password",placeholder:"sk-...","onUpdate:modelValue":f[1]||(f[1]=d=>Mn(o)?o.value=d:null)},null,512),[[Ci,M(o)]]),IA]),z("div",RA,[xn(ns,{primary:"",disabled:!M(i)||!M(o),type:"submit",onClick:u,caption:"Start Crafting"},null,8,["disabled"])])],40,wA)]))}});const LA=gn(TA,[["__scopeId","data-v-6c551e87"]]);function gu(n=dn){return Ut.dump(n)}const qo=Gt({get:()=>gu(),set:n=>OA(n)});function kA(){const n=gu(),r=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=`jobgenie-${dn.username}.yaml`,o.click(),URL.revokeObjectURL(i)}function OA(n){try{const r=Ut.load(n);db(r),yf(dn,(i,o)=>{dn[o]=sn.undefined(r[o])?os[o]:r[o]}),Eb(oh,Date.now())}catch(r){alert(r.message)}}const FA={class:"dropdown-container"},MA={class:"dropdown-label"},PA=["value","textContent"],BA=on({__name:"Dropdown",props:{label:{},options:{},modelValue:{}},emits:["update:modelValue"],setup(n,{emit:r}){const o=lu(n,r);return(u,a)=>(te(),ce("div",FA,[z("label",MA,bn(u.label),1),_r(z("select",{class:"dropdown","onUpdate:modelValue":a[0]||(a[0]=f=>Mn(o)?o.value=f:null)},[(te(!0),ce(dt,null,Er(u.options,f=>(te(),ce("option",{value:f,textContent:bn(f)},null,8,PA))),256))],512),[[ly,M(o)]])]))}});const NA=gn(BA,[["__scopeId","data-v-fbc76040"]]),mu=n=>(Qo("data-v-9f4ce058"),n=n(),eu(),n),$A=mu(()=>z("span",{class:"hamburger-line"},null,-1)),DA=mu(()=>z("span",{class:"hamburger-line"},null,-1)),UA=mu(()=>z("span",{class:"hamburger-line"},null,-1)),WA=[$A,DA,UA],HA={class:"upper"},qA={key:0},GA=["onClick"],YA=["textContent"],KA={class:"lower"},jA=on({__name:"Sidebar",props:{menu:{}},setup(n){const r=rn(!1);return(i,o)=>(te(),ce(dt,null,[z("button",{class:"hamburger",onClick:o[0]||(o[0]=u=>r.value=!M(r))},WA),z("div",{class:Nt(["sidebar",{"hidden lg:block":!M(r),block:M(r)}])},[z("div",HA,[i.menu?(te(),ce("ul",qA,[(te(!0),ce(dt,null,Er(i.menu.items,u=>(te(),ce("li",{key:u.id,class:Nt({"menu-item":!0,selected:u.id===i.menu.selectedId,disabled:u.disabled}),onClick:a=>!u.disabled&&(i.menu.onSelect(u.id),r.value=!1)},[z("span",{textContent:bn(`${u.emoji} ${u.caption}`)},null,8,YA)],10,GA))),128))])):Pn("",!0),Si(i.$slots,"upper",{},void 0,!0)]),z("div",KA,[Si(i.$slots,"lower",{},void 0,!0)])],2)],64))}});const JA=gn(jA,[["__scopeId","data-v-9f4ce058"]]),ah=n=>(Qo("data-v-d7ee26fd"),n=n(),eu(),n),VA={class:"toggle-container"},zA={for:"toggle",class:"flex items-center cursor-pointer"},XA={class:"relative"},ZA=["checked"],QA=ah(()=>z("div",{class:"toggle__line bg-gray-400 rounded-full shadow-inner"},null,-1)),eS=ah(()=>z("div",{class:"toggle__dot absolute bg-white rounded-full shadow inset-y-0 left-0"},null,-1)),nS=["title","textContent"],tS=on({__name:"Toggle",props:{modelValue:Boolean,label:String,title:String},emits:["update:modelValue"],setup(n,{emit:r}){const i=ww(HTMLInputElement,o=>{r("update:modelValue",o.target.checked)});return(o,u)=>(te(),ce("div",VA,[z("label",zA,[z("div",XA,[z("input",{type:"checkbox",id:"toggle",checked:n.modelValue,onChange:u[0]||(u[0]=(...a)=>M(i)&&M(i)(...a)),class:"hidden"},null,40,ZA),QA,eS]),z("div",{class:"ml-3",title:n.title,textContent:bn(n.label)},null,8,nS)])]))}});const rS=gn(tS,[["__scopeId","data-v-d7ee26fd"]]);function iS(n){Cr(n,r=>{window.location.hash=r}),ay(()=>{window.location.hash&&(n.value=window.location.hash.slice(1))})}const sS={class:"container"},oS={class:"content"},uS=on({__name:"jobgenie",setup(n){const{usdSpent:r,useGpt4:i,selectedSectionId:o,temperatureDescriptor:u,openaiKey:a}=Ac(qt);iS(o);function f(b){dn.username=b.username,a.value=b.apiKey}const d=Ar(),m=Ar();return(b,A)=>(te(),ce("div",sS,[xn(JA,{ref_key:"sidebar",ref:m,menu:{items:M(Nb),selectedId:M(o),onSelect:w=>o.value=w}},{lower:cy(()=>[xn(ns,{rounded:"",small:"",outline:"",caption:"Edit as YAML",onClick:A[0]||(A[0]=w=>M(d).show())}),xn(NA,{label:"Temperature",options:M(bb),modelValue:M(u),"onUpdate:modelValue":A[1]||(A[1]=w=>Mn(u)?u.value=w:null)},null,8,["options","modelValue"]),xn(rS,{modelValue:M(i),"onUpdate:modelValue":A[2]||(A[2]=w=>Mn(i)?i.value=w:null),label:M(i)?"GPT-4":"GPT-3.5",title:"This is around 10x more expensive if turned on."},null,8,["modelValue","label"]),bc(" Total spent: $"+bn(Math.round(M(r)*100)/100),1)]),_:1},8,["menu"]),z("div",oS,[!M(dn).username||!M(a)?(te(),Zn(LA,$t({key:0},fy({login:f})),null,16)):(te(),Zn(yA,{key:`${M(o)}-${M(oh)}`,type:M(Bb)(M(o))},null,8,["type"]))]),xn(du,{monospace:"",ref_key:"importModal",ref:d,modelValue:M(qo),"onUpdate:modelValue":A[3]||(A[3]=w=>Mn(qo)?qo.value=w:null),title:"Import data",description:"Here is the YAML for your existing data — useful for making small changes, backing up, or sharing with others.",updateButtonText:"Update",extraButtons:[{caption:"⤓ Download",outline:!0,onClick:M(kA)},{caption:"Reset",outline:!0,danger:!0,onClick:()=>M(d).text=M(gu)(M(os))}]},null,8,["modelValue","extraButtons"])]))}});const pS=gn(uS,[["__scopeId","data-v-90eb1382"]]);export{pS as default};
